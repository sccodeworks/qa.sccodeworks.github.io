"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[49552],{49552:(S,c,t)=>{t.r(c),t.d(c,{SerializedMoveComponent:()=>T});var o=t(24006),M=t(70879),p=t(35226),v=t.n(p),e=t(94650),E=t(21641),h=t(19132),O=t(36895),g=t(4859),_=t(59549),C=t(44144),n=t(73546);function D(a,m){1&a&&(e.TgZ(0,"mat-error"),e._uU(1," Serial is required "),e.qZA())}let T=(()=>{class a{constructor(r,s,i){this.lpFloorMoveService=r,this.fb=s,this.router=i,this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,this.form=this.fb.group({storer:[{value:this.element?.storer||"",disabled:!0}],serial:["",o.kI.required]})}ngOnDestroy(){this.serializedMoveSubscription&&this.serializedMoveSubscription.unsubscribe()}serializedMove(){if(this.form.invalid)return void this.form.markAllAsTouched();const r=this.form.getRawValue();this.serializedMoveSubscription&&this.serializedMoveSubscription.unsubscribe(),this.serializedMoveSubscription=this.lpFloorMoveService.serialisedMove(this.user,r.serial??"").subscribe(i=>{const l=i[0]?.data??[],u=l.length,U=u?l[u-2]?.value:void 0,f=u?l[u-1]?.value:void 0;if(f?.toUpperCase()==="Call AJU812RL1 for the Next screen".toUpperCase()){const P=l.some(d=>"DISPLAY STOCK FUNCTION"===(d.value||"").toUpperCase()),A=l.some(d=>"HIDE TO LOCATION FIELD"===(d.value||"").toUpperCase());this.router.navigateByUrl("/main-nav/lpFloorMove/serializedMove/details",{state:{storer:this.element?.storer,serial:r.serial,data:l,showStockInquiry:P,hideToLocation:A}})}else this.failureMessage(f||U)})}successMessage(r){v().fire(r,"","success")}failureMessage(r){v().fire(r,"","error")}}return a.\u0275fac=function(r){return new(r||a)(e.Y36(E.D),e.Y36(o.qu),e.Y36(h.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-serialized-move"]],standalone:!0,features:[e.jDz],decls:19,vars:2,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","storer","readonly",""],["matInput","","formControlName","serial","text-transform","uppercase"],[4,"ngIf"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(r,s){if(1&r&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3," Serialized Move "),e.qZA()(),e.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),e._uU(10,"Storer"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"mat-form-field",6)(13,"mat-label"),e._uU(14,"Serial"),e.qZA(),e._UZ(15,"input",8),e.YNc(16,D,2,0,"mat-error",9),e.qZA()()(),e.TgZ(17,"button",10),e.NdJ("click",function(){return s.serializedMove()}),e._uU(18," Enter "),e.qZA()()()()),2&r){let i;e.xp6(5),e.Q6J("formGroup",s.form),e.xp6(11),e.Q6J("ngIf",null==(i=s.form.get("serial"))?null:i.hasError("required"))}},dependencies:[M.m,O.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,g.lW,_.TO,_.KE,_.hX,C.Nt,n.a8,n.dk,n.dn,n.n5]}),a})()}}]);