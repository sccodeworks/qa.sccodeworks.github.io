"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[54794,34894,26628,70096],{34894:(A,d,a)=>{a.d(d,{e:()=>p});var o=a(94650),f=a(24006);let p=(()=>{class i{constructor(t,l){this.el=t,this.control=l}onInputChange(t){const l=this.el.nativeElement,s=l.value.toUpperCase();l.value=s,this.control&&this.control.control&&this.control.control.setValue(s,{emitEvent:!1})}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(o.SBq),o.Y36(f.a5))},i.\u0275dir=o.lG2({type:i,selectors:[["","appUppercase",""]],hostBindings:function(t,l){1&t&&o.NdJ("input",function(g){return l.onInputChange(g)})},standalone:!0}),i})()},54794:(A,d,a)=>{a.r(d),a.d(d,{AddWorkWithDockSchedulerComponent:()=>W});var o=a(24006),f=a(35226),p=a.n(f),i=a(70879),m=a(48529),t=a(94650),l=a(19132),s=a(65412),g=a(72122),E=a(97392),C=a(4859),D=a(59549),v=a(44144),O=a(84385),P=a(3238),_=a(73546),M=a(34894);let W=(()=>{class c{constructor(e,r,n,u){this.fb=e,this.router=r,this.matDialog=n,this.WorkWithDockSchedulerService=u,this.user=localStorage.getItem("userName"),this.dockSchedulerUrl="/main-nav/WorkWithDockScheduler/read",this.DOCK_URL="/main-nav/WorkWithDockScheduler/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({building:[this.element?.[0]||"",o.kI.required],inOut:[this.element?.[1]||""],scacCode:["",o.kI.required],requestDate:["",o.kI.required],requestTime:["",o.kI.required],appointmentType:"",loadType:"",expectedDuration:"",quantityExpected:"",weightExpected:"",trailerNumber:"",priority:"",contact:"",phone:"",email:""})}ngOnDestroy(){this.addDockSchedulerSubscription&&this.addDockSchedulerSubscription.unsubscribe()}dockSchedulerCreate(){const e=this.form.value;let r="0000";if(e.requestTime){const[n,u]=e.requestTime.split(":").map(h=>h.padStart(2,"0"));r=`${n}${u}`}this.addDockSchedulerSubscription=this.WorkWithDockSchedulerService.WDockSchedulerCreate(this.user,e.inOut,m.R.fullBuilding(e.building),e.scacCode,e.requestDate,r,e.appointmentType,e.loadType,e.expectedDuration,e.quantityExpected,e.weightExpected,e.trailerNumber,e.priority,e.contact,e.phone,e.email).subscribe(n=>{const u=n[0]?.data?.length,h=u?n[0]?.data[u-1]?.value:void 0,T=h?JSON.parse(h):void 0,Z=T?.returnedData?.message?.trim(),q=T?.ApptNumber;Z&&Z.toUpperCase()===m.R.createMsg.toUpperCase()?this.nextScreen(q):this.failureMessage(Z)})}nextScreen(e){this.router.navigateByUrl("/main-nav/dock-scheduler/comments/read",{state:{apptNumber:e,shouldHideBackButton:!0}})}successMessage(e){p().fire(e,"","success")}failureMessage(e){p().fire(e,"","error")}closeDialog(){this.matDialog.openDialogs.length>0&&this.matDialog.closeAll()}onBack(){this.router.navigate([this.DOCK_URL])}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(o.qu),t.Y36(l.F0),t.Y36(s.uw),t.Y36(g.A))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-add-work-with-dock-scheduler"]],standalone:!0,features:[t.jDz],decls:100,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","building","appUppercase","","maxlength","3"],["matInput","","formControlName","inOut","appUppercase","","maxlength","1"],["matInput","","formControlName","scacCode","appUppercase",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","type","date","formControlName","requestDate"],["matInput","","type","time","formControlName","requestTime"],["formControlName","appointmentType"],["value","TR"],["value","PG"],["value","RC"],["value","DT"],["value","RT"],["value","SH"],["formControlName","loadType"],["value","S"],["value","F"],["value","C"],["value","P"],["value","K"],["matInput","","formControlName","expectedDuration"],["matInput","","formControlName","quantityExpected"],["matInput","","formControlName","weightExpected"],["matInput","","formControlName","trailerNumber","appUppercase",""],["matInput","","formControlName","priority"],["matInput","","formControlName","contact"],["matInput","","formControlName","phone"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","email"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return r.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Maintain Dock Schedule"),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Building"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"In/Out"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"SCAC Code"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"div",11)(24,"label",12),t._uU(25,"Request"),t.qZA(),t.TgZ(26,"div",13)(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"Request Date"),t.qZA(),t._UZ(30,"input",14),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Request Time"),t.qZA(),t._UZ(34,"input",15),t.qZA()()(),t.TgZ(35,"mat-form-field",7)(36,"mat-label"),t._uU(37,"Appointment Type"),t.qZA(),t.TgZ(38,"mat-select",16)(39,"mat-option",17),t._uU(40,"TR = Trailer"),t.qZA(),t.TgZ(41,"mat-option",18),t._uU(42,"PG = Piggyback"),t.qZA(),t.TgZ(43,"mat-option",19),t._uU(44,"RC = Railcar"),t.qZA(),t.TgZ(45,"mat-option",20),t._uU(46,"DT = Drop trailer"),t.qZA(),t.TgZ(47,"mat-option",21),t._uU(48,"RT = Return"),t.qZA(),t.TgZ(49,"mat-option",22),t._uU(50,"SH = Shuttle"),t.qZA()()(),t.TgZ(51,"mat-form-field",7)(52,"mat-label"),t._uU(53,"Load Type"),t.qZA(),t.TgZ(54,"mat-select",23)(55,"mat-option",24),t._uU(56,"S = Slip Sheet"),t.qZA(),t.TgZ(57,"mat-option",25),t._uU(58,"F = Floor unloaded"),t.qZA(),t.TgZ(59,"mat-option",26),t._uU(60,"C = Clamp"),t.qZA(),t.TgZ(61,"mat-option",27),t._uU(62,"P = Pallet"),t.qZA(),t.TgZ(63,"mat-option",28),t._uU(64,"K = Sack"),t.qZA()()(),t.TgZ(65,"mat-form-field",7)(66,"mat-label"),t._uU(67,"Expected Duration"),t.qZA(),t._UZ(68,"input",29),t.qZA(),t.TgZ(69,"mat-form-field",7)(70,"mat-label"),t._uU(71,"Quantity Expected"),t.qZA(),t._UZ(72,"input",30),t.qZA(),t.TgZ(73,"mat-form-field",7)(74,"mat-label"),t._uU(75,"Weight Expected"),t.qZA(),t._UZ(76,"input",31),t.qZA(),t.TgZ(77,"mat-form-field",7)(78,"mat-label"),t._uU(79,"Trailer Number"),t.qZA(),t._UZ(80,"input",32),t.qZA(),t.TgZ(81,"mat-form-field",7)(82,"mat-label"),t._uU(83,"Priority"),t.qZA(),t._UZ(84,"input",33),t.qZA(),t.TgZ(85,"mat-form-field",7)(86,"mat-label"),t._uU(87,"Contact"),t.qZA(),t._UZ(88,"input",34),t.qZA(),t.TgZ(89,"mat-form-field",7)(90,"mat-label"),t._uU(91,"Phone"),t.qZA(),t._UZ(92,"input",35),t.qZA(),t.TgZ(93,"mat-form-field",36)(94,"mat-label"),t._uU(95,"Email"),t.qZA(),t.TgZ(96,"textarea",37),t._uU(97,"Email"),t.qZA()()()(),t.TgZ(98,"button",38),t.NdJ("click",function(){return r.dockSchedulerCreate()}),t._uU(99,"Create"),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",r.form),t.xp6(90),t.Q6J("disabled",!r.form.valid))},dependencies:[i.m,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,E.Hw,C.lW,D.KE,D.hX,v.Nt,O.gD,P.ey,_.a8,_.dk,_.dn,_.n5,M.e]}),c})()}}]);