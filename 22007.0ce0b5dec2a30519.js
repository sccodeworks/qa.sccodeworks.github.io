"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[22007,34894,26628,70096,49741],{34894:(O,M,a)=>{a.d(M,{e:()=>p});var c=a(94650),D=a(24006);let p=(()=>{class m{constructor(l,e){this.el=l,this.control=e}onInputChange(l){const e=this.el.nativeElement,S=e.value.toUpperCase();e.value=S,this.control&&this.control.control&&this.control.control.setValue(S,{emitEvent:!1})}}return m.\u0275fac=function(l){return new(l||m)(c.Y36(c.SBq),c.Y36(D.a5))},m.\u0275dir=c.lG2({type:m,selectors:[["","appUppercase",""]],hostBindings:function(l,e){1&l&&c.NdJ("input",function(h){return e.onInputChange(h)})},standalone:!0}),m})()},4379:(O,M,a)=>{a.d(M,{B:()=>S});var c=a(80529),D=a(61135),p=a(75625),m=a(70262),f=a(62843),l=a(92340),e=a(94650);let S=(()=>{class h{constructor(n){this.httpClient=n,this.url=l.N.API_BASE_URL,this.consigneeDataSource=new D.X([]),this.httpHeader={headers:new c.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(n){let i=this.consigneeDataSource.getValue();i.unshift(...n),this.consigneeDataSource.next(i)}getConsignee(n,i,o){return this.httpClient.get(this.url+`/consignee/read?user=${n}&consCode=${i}&name=${o}`)}getAll(n){return this.httpClient.get(this.url+`/consignee/readAll?user=${n}`)}getAllrecords(n,i,o){return this.httpClient.get(this.url+`/consignee/readAll?user=${n}&pageNum=${i}&recordsPerPage=${o}`)}createConsignee(n,i,o,u,d,C,U,Z,v,_,E,t,r,s){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:n,CONAME:i,COADD1:o,COADD2:u,COADD3:d,COADD4:C,COZIP:U,COZSFX:Z,COZONE:v,COPHAR:_,COPHEX:E,COPHNU:t,CODEST:r,user:s}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsignee(n,i,o,u,d,C,U,Z,v,_,E,t,r,s){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:n,CONAME:i,COADD1:o,COADD2:u,COADD3:d,COADD4:C,COZIP:U,COZSFX:Z,COZONE:v,COPHAR:_,COPHEX:E,COPHNU:t,CODEST:r,user:s}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteConsignee(n,i){return this.httpClient.delete(this.url+`/consignee/delete?user=${n}&consCode=${i}`)}getConsigneeXrefService(n,i,o,u){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${n}&consigneeCode=${i}&pageNo=${o}&recordsPerPage=${u}`)}createConsigneeXrefService(n,i,o){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:n,parentConsignee:i,user:o}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsigneeXrefService(n,i,o){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:n,parentConsignee:i,user:o}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteConsigneeXrefService(n,i){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${n}&consigneeCode=${i}`)}getConsigneeComments(n,i,o,u){return this.httpClient.get(this.url+`/consignee/commentRead?user=${n}&consigneeCode=${i}&subType=${o}&sequence=${u}`)}createConsigneeCommentService(n,i,o,u,d){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:n,subType:i,sequence:o,comment:u,user:d}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsigneeCommentService(n,i,o,u,d){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:n,subType:i,sequence:o,comment:u,user:d}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteconsigneeCommentService(n,i,o,u){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${n}&consigneeCode=${i}&subType=${o}&sequence=${u}`).pipe((0,p.X)(1),(0,m.K)(this.httpError))}httpError(n){let i="";return i=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(i),(0,f._)(()=>new Error(i))}}return h.\u0275fac=function(n){return new(n||h)(e.LFG(c.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},22007:(O,M,a)=>{a.r(M),a.d(M,{MiscShipComponent:()=>v});var c=a(7155),D=a(70879),p=a(48529),m=a(35226),f=a.n(m),l=a(24006),e=a(94650),S=a(65412),h=a(19132),b=a(4379),n=a(65105),i=a(97392),o=a(4859),u=a(59549),d=a(44144),C=a(73546),U=a(34894);const Z=["paginator"];let v=(()=>{class _{constructor(t,r,s,g,A){this.fb=t,this.matDialog=r,this.router=s,this.consigneeSrvc=g,this.Orderservice=A,this.OrdersURL="/main-nav/orders/read",this.user=localStorage.getItem("userName"),this.dataSource=[],this.duplicateSource=[],this.ShipOptions=[]}ngOnInit(){this.element=history.state,this.form=this.fb.group({billNumber:[{value:this.element[0].OHBILL,disabled:!0}],Storer:[{value:this.element[1].WKSTOR,disabled:!0}],Consignee:[{value:this.element[1].WKCONS?.trim()||"",disabled:!0}],ProNumber:[{value:this.element[0].OHPRO||this.element[1].OHPRO?.trim()||"",disabled:!0}],Carrier:[{value:this.element[1].OHCAR?.trim()+"\xa0"+this.element[1].WKCNAME?.trim(),disabled:!0}],ShipType:[{value:this.element[1].OHSHPT+"\xa0"+this.element[1].WKSDESC,disabled:!0}],ShipDate:[{value:this.formatDateMMDDYY(this.element[1].WKSHPDT),disabled:!0}],ShipTime:[{value:this.getFormattedTime(this.element[1].OHSTME),disabled:!0}],ShipDateChgCode:this.element[1].SCCHCD?.trim()||"",LoadCode:this.element[1].SCLDCD?.trim()||"",LoadQuantity:[this.element[1].SCLQTY?.toString()||""],ChepPalletsReturned:[this.element[1].SCCPRT?.toString()||"",[l.kI.pattern(/^[0-9]*$/)]],loadOrderNumber:this.element[1].SCORD?.trim()||"",MasterReferenceNumber:this.element[1].SCMREF?.trim()||"",LinkSeqNbr:this.element[1].SCLINK?.trim()||"",EquipmentNumber:this.element[1].SCEQPT?.trim()||"",Seal1:this.element[1].SCSEL1?.trim()||"",Seal2:this.element[1].SCSEL2?.trim()||"",FreightCharge:[null!=this.element?.[1]?.SCFRTC?Number(this.element[1].SCFRTC).toFixed(2):"0.00",[l.kI.pattern(/^\d+(\.\d{0,2})?$/)]]}),this.dataSource=new c.by(this.duplicateSource),this.dataSource.paginator=this.paginator}formatFreightCharge(){const t=this.form.get("FreightCharge");if(!t)return;const r=t.value;if(""===r||null==r)return void t.setValue("0.00");const s=Number(r);isNaN(s)||t.setValue(s.toFixed(2))}formatDateMMDDYY(t){if(!t)return"";const r=t.toString().trim();return r.includes("/")?r:6===r.length?`${r.slice(0,2)}/${r.slice(2,4)}/${r.slice(4)}`:8===r.length?`${r.slice(4,6)}/${r.slice(6,8)}/${r.slice(2,4)}`:r}getFormattedTime(t){const r=t.toString().padStart(4,"0");return`${r.slice(0,2)}:${r.slice(2)}`}ngOnDestroy(){this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe()}dateToMMDDYY(t){const r=new Date(t);return`${(r.getMonth()+1).toString().padStart(2,"0")}${r.getDate().toString().padStart(2,"0")}${r.getFullYear().toString().slice(-2)}`}timeToNumber(t){return t.replace(":","").padStart(4,"0")}MiscShip(){const t=this.form.value;this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription=this.Orderservice.MiscShipData(this.user,this.element[0].OHBILL,"","","","","",0,"",0,0,t.ShipDateChgCode,t.LoadCode,t.LoadQuantity,t.ChepPalletsReturned,t.loadOrderNumber,t.MasterReferenceNumber,t.LinkSeqNbr,t.EquipmentNumber,t.Seal1,t.Seal2,t.FreightCharge).subscribe(r=>{const s=r[0].data[r[0].data.length-1].value;s.toUpperCase()===p.R.update.toUpperCase()?(this.successMessage(s),this.router.navigateByUrl(this.OrdersURL,{state:this.element})):this.failureMessage(s)})}formatDate(t){return t?6===(t=t.toString()).length?`${t.substring(0,2)}/${t.substring(2,4)}/${t.substring(4,6)}`:5===t.length?`${t.substring(0,1)}/${t.substring(1,3)}/${t.substring(3,5)}`:t:""}successMessage(t){f().fire(t,"","success")}failureMessage(t){f().fire(t,"","error")}onBack(){this.router.navigate([this.OrdersURL])}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(l.qu),e.Y36(S.uw),e.Y36(h.F0),e.Y36(b.B),e.Y36(n.p))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-misc-ship"]],viewQuery:function(t,r){if(1&t&&e.Gf(Z,5),2&t){let s;e.iGM(s=e.CRH())&&(r.paginator=s.first)}},standalone:!0,features:[e.jDz],decls:93,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","billNumber","readonly",""],["matInput","","formControlName","Storer","readonly",""],["matInput","","formControlName","Consignee","readonly",""],["matInput","","formControlName","ProNumber","readonly",""],["matInput","","formControlName","Carrier","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","ShipType","readonly",""],["matInput","","formControlName","ShipDate","readonly",""],["matInput","","formControlName","ShipTime","readonly",""],["matInput","","formControlName","ShipDateChgCode","maxlength","2"],["matInput","","formControlName","LoadCode","maxlength","2"],["matInput","","formControlName","LoadQuantity"],["align","start",1,"numeric-hint"],["matInput","","formControlName","ChepPalletsReturned"],["matInput","","formControlName","loadOrderNumber","appUppercase",""],["matInput","","formControlName","MasterReferenceNumber","appUppercase",""],["matInput","","formControlName","LinkSeqNbr","appppercase",""],["matInput","","formControlName","EquipmentNumber","appUppercase",""],["matInput","","formControlName","Seal1","appUppercase",""],["matInput","","formControlName","Seal2","appUppercase",""],["matInput","","type","text","formControlName","FreightCharge",3,"blur"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return r.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Update Shipment Confirmation "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Bill Number"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Storer"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Consignee"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Pro Number"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Carrier"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"mat-form-field",13)(32,"mat-label"),e._uU(33,"Ship Type"),e.qZA(),e._UZ(34,"input",14),e.qZA(),e.TgZ(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Ship Date"),e.qZA(),e._UZ(38,"input",15),e.qZA(),e.TgZ(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"Ship Time"),e.qZA(),e._UZ(42,"input",16),e.qZA(),e.TgZ(43,"mat-form-field",7)(44,"mat-label"),e._uU(45,"Ship Date Change Code"),e.qZA(),e._UZ(46,"input",17),e.qZA(),e.TgZ(47,"mat-form-field",7)(48,"mat-label"),e._uU(49,"Load Code"),e.qZA(),e._UZ(50,"input",18),e.qZA(),e.TgZ(51,"mat-form-field",7)(52,"mat-label"),e._uU(53,"Load Quantity"),e.qZA(),e._UZ(54,"input",19),e.TgZ(55,"mat-hint",20),e._uU(56,"Allows Numbers Only"),e.qZA()(),e.TgZ(57,"mat-form-field",7)(58,"mat-label"),e._uU(59,"CHEP Pallet Quantity"),e.qZA(),e._UZ(60,"input",21),e.TgZ(61,"mat-hint",20),e._uU(62,"Allows Numbers Only"),e.qZA()(),e.TgZ(63,"mat-form-field",13)(64,"mat-label"),e._uU(65,"Manifest No"),e.qZA(),e._UZ(66,"input",22),e.qZA(),e.TgZ(67,"mat-form-field",13)(68,"mat-label"),e._uU(69,"Master Ref No"),e.qZA(),e._UZ(70,"input",23),e.qZA(),e.TgZ(71,"mat-form-field",7)(72,"mat-label"),e._uU(73,"Link Sequence"),e.qZA(),e._UZ(74,"input",24),e.qZA(),e.TgZ(75,"mat-form-field",7)(76,"mat-label"),e._uU(77,"Equipment No"),e.qZA(),e._UZ(78,"input",25),e.qZA(),e.TgZ(79,"mat-form-field",7)(80,"mat-label"),e._uU(81,"Seal 1"),e.qZA(),e._UZ(82,"input",26),e.qZA(),e.TgZ(83,"mat-form-field",7)(84,"mat-label"),e._uU(85,"Seal 2"),e.qZA(),e._UZ(86,"input",27),e.qZA(),e.TgZ(87,"mat-form-field",7)(88,"mat-label"),e._uU(89,"Freight Chg"),e.qZA(),e.TgZ(90,"input",28),e.NdJ("blur",function(){return r.formatFreightCharge()}),e.qZA()()()(),e.TgZ(91,"button",29),e.NdJ("click",function(){return r.MiscShip()}),e._uU(92," Submit "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",r.form),e.xp6(83),e.Q6J("disabled",!r.form.valid))},dependencies:[D.m,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,i.Hw,o.lW,u.KE,u.bx,u.hX,d.Nt,C.a8,C.dk,C.dn,C.n5,U.e]}),_})()}}]);