"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[55847],{55847:(I,y,a)=>{a.r(y),a.d(y,{CommentsComponent:()=>B});var v=a(65412),m=a(7155),E=a(35226),b=a.n(E),e=a(94619),M=a(70879),t=a(94650),r=a(19132),A=a(15627),c=a(24006),O=a(98739),U=a(97392),T=a(4859),S=a(59549),C=a(44144),g=a(73546);const o=["paginator"];function d(n,_){1&n&&(t.TgZ(0,"th",25),t._uU(1,"Comments"),t.qZA())}function h(n,_){if(1&n&&(t.TgZ(0,"td",26),t._uU(1),t.qZA()),2&n){const s=_.$implicit;t.xp6(1),t.Oqu(s.CISMNT)}}function f(n,_){1&n&&t._UZ(0,"th",27)}function P(n,_){if(1&n){const s=t.EpF();t.TgZ(0,"td",26)(1,"div",28)(2,"button",29)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",30)(6,"li")(7,"button",31),t.NdJ("click",function(){const p=t.CHM(s).$implicit,u=t.oxw();return t.KtG(u.updateTallyComment(p))}),t.TgZ(8,"mat-icon",32),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()()()()()}}function Z(n,_){1&n&&t._UZ(0,"tr",33)}function R(n,_){1&n&&t._UZ(0,"tr",34)}const L=function(){return[8,16,24]};let B=(()=>{class n{constructor(s,l,i,p,u,D,N){this.activeRouter=s,this.iHeaderSvc=l,this.router=i,this.matDialog=p,this.fb=u,this.anyvariable=D,this.dialogRef=N,this.user=localStorage.getItem("userName"),this.displayedColumns=["Comments","Actions"],this.status="",this.sequence="",this.sub="WR",this.commData="",this.chgy="",this.chgm="",this.chgd="",this.time="",this.wsid=""}ngOnInit(){console.log("Dialog Data:",this.anyvariable),this.form=this.fb.group({tallyNo:this.anyvariable?.IHTALY||this.anyvariable?.tally||"",seqNo:this.anyvariable?.IHSEQ||this.anyvariable?.seq||"",commData:""}),this.getComment(),console.log("TALLY DETAILS : "+this.anyvariable)}ngOnDestroy(){this.getTallyCommentSubscription&&this.getTallyCommentSubscription.unsubscribe(),this.createTallyCommentServiceSubscription&&this.createTallyCommentServiceSubscription.unsubscribe(),this.deleteTallyCommentServiceSubscription&&this.deleteTallyCommentServiceSubscription.unsubscribe()}getComment(){var s=this.form.value;this.getTallyCommentSubscription&&this.getTallyCommentSubscription.unsubscribe(),this.iHeaderSvc.getTallyComment(this.user,this.status,s.tallyNo,s.seqNo,this.sub).subscribe(l=>{var i=JSON.parse(l.data[1].value);this.dataSource=new m.by(i.returnedData),this.dataSource.paginator=this.paginator})}createTallyComment(){var i=this.form.value;this.createTallyCommentServiceSubscription&&this.createTallyCommentServiceSubscription.unsubscribe(),this.createTallyCommentServiceSubscription=this.iHeaderSvc.createTallyCommentService(this.user,this.status,i.tallyNo,i.seqNo,this.sub,i.commData,this.wsid).subscribe(p=>{var u=JSON.parse(p[0].data[1].value);u.success?(this.successMessage(u.returnedData.message),this.closeDialog()):this.failureMessage(u.returnedData.message)})}updateTallyComment(s){this.matDialog.open(e._,{width:"1100px",maxHeight:"80vh",data:s,autoFocus:!1}),this.closeDialog()}deleteTallyComment(){const s=this.anyvariable?.IHTALY||this.anyvariable?.tally,l=this.anyvariable?.IHSEQ||this.anyvariable?.seq||"";this.deleteTallyCommentServiceSubscription&&this.deleteTallyCommentServiceSubscription.unsubscribe(),this.deleteTallyCommentServiceSubscription=this.iHeaderSvc.deleteTallyCommentService(this.user,this.status,s,l,this.sub).subscribe(i=>{var p=JSON.parse(i[0].data[1].value);p.Success?(this.successMessage(p.returnedData.message),this.closeDialog()):this.failureMessage(p.returnedData.message)})}successMessage(s){b().fire(s,"","success"),this.router.navigate(["/main-nav/tallys/read"])}failureMessage(s){b().fire(s,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(r.gz),t.Y36(A.X),t.Y36(r.F0),t.Y36(v.uw),t.Y36(c.qu),t.Y36(v.WI),t.Y36(v.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comments"]],viewQuery:function(s,l){if(1&s&&t.Gf(o,5),2&s){let i;t.iGM(i=t.CRH())&&(l.paginator=i.first)}},standalone:!0,features:[t.jDz],decls:38,vars:6,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],[1,"title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tallyNo","required","","readonly",""],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","commData"],[1,"footer"],["mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"],["mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Comments"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","width","20%",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","width","20%"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-button","",3,"click"],["mat-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(s,l){1&s&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title",2),t._uU(4,"Inbound Comments Maintenance "),t.qZA()(),t.TgZ(5,"button",3),t.NdJ("click",function(){return l.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Tally"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",10)(17,"mat-label"),t._uU(18,"Comments :"),t.qZA(),t.TgZ(19,"textarea",11),t._uU(20," Comments"),t.qZA(),t._UZ(21,"input",11),t.qZA(),t.TgZ(22,"div",12)(23,"button",13),t.NdJ("click",function(){return l.deleteTallyComment()}),t._uU(24," Delete All Comments "),t.qZA(),t.TgZ(25,"button",14),t.NdJ("click",function(){return l.createTallyComment()}),t._uU(26," Create "),t.qZA()()()()()(),t.TgZ(27,"table",15),t.ynx(28,16),t.YNc(29,d,2,0,"th",17),t.YNc(30,h,2,1,"td",18),t.BQk(),t.ynx(31,19),t.YNc(32,f,1,0,"th",20),t.YNc(33,P,12,0,"td",18),t.BQk(),t.YNc(34,Z,1,0,"tr",21),t.YNc(35,R,1,0,"tr",22),t.qZA(),t._UZ(36,"mat-paginator",23,24),t.qZA()),2&s&&(t.xp6(9),t.Q6J("formGroup",l.form),t.xp6(18),t.Q6J("dataSource",l.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",l.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",l.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(5,L)))},dependencies:[M.m,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,O.NW,U.Hw,T.lW,S.KE,S.hX,C.Nt,g.a8,g.dk,g.dn,g.n5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk]}),n})()},94619:(I,y,a)=>{a.d(y,{_:()=>S});var v=a(65412),m=a(35226),E=a.n(m),b=a(70879),e=a(94650),M=a(19132),t=a(15627),r=a(24006),A=a(97392),c=a(4859),O=a(59549),U=a(44144),T=a(73546);let S=(()=>{class C{constructor(o,d,h,f,P,Z){this.activeRouter=o,this.iHeaderSvc=d,this.fb=h,this.router=f,this.anyvariable=P,this.dialogRef=Z,this.user=localStorage.getItem("userName"),this.displayedColumns=["Comments","Actions"],this.form=this.fb.group({tally:this.anyvariable.CITALY,seq:this.anyvariable.CISEQ,comments:this.anyvariable.CISMNT,status:"",sub:"WR"})}ngOnInit(){}ngOnDestroy(){this.updateTallyCommentServiceSubscription&&this.updateTallyCommentServiceSubscription.unsubscribe()}updateTallyComment(){var o=this.form.value;this.updateTallyCommentServiceSubscription&&this.updateTallyCommentServiceSubscription.unsubscribe(),this.updateTallyCommentServiceSubscription=this.iHeaderSvc.updateTallyCommentService(this.user,o.status,o.tally,o.seq,o.sub,o.comments).subscribe(d=>{var h=JSON.parse(d[0].data[1].value);h.Success?(this.successMessage(h.returnedData.message),this.closeDialog()):this.failureMessage(h.returnedData.message)})}successMessage(o){E().fire(o,"","success")}failureMessage(o){E().fire(o,"","error")}closeDialog(){this.dialogRef.close()}}return C.\u0275fac=function(o){return new(o||C)(e.Y36(M.gz),e.Y36(t.X),e.Y36(r.qu),e.Y36(M.F0),e.Y36(v.WI),e.Y36(v.so))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-update-tally-dtl-comments"]],standalone:!0,features:[e.jDz],decls:24,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tally","required",""],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","comments","maxlength","60"],[1,"footer"],["mat-button","","type","submit",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(o,d){1&o&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Inbound Detail Comments"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return d.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Tally"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"mat-form-field",9)(17,"mat-label"),e._uU(18,"Comments"),e.qZA(),e.TgZ(19,"textarea",10),e._uU(20," Comments"),e.qZA()()()(),e.TgZ(21,"div",11)(22,"button",12),e.NdJ("click",function(){return d.updateTallyComment()}),e._uU(23,"Update"),e.qZA()()()()()),2&o&&(e.xp6(9),e.Q6J("formGroup",d.form))},dependencies:[b.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,A.Hw,c.lW,O.KE,O.hX,U.Nt,T.a8,T.dk,T.dn,T.n5]}),C})()}}]);