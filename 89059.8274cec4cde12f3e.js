"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[89059],{89059:(Nt,y,m)=>{m.r(y),m.d(y,{WwMoveHistoryComponent:()=>ht});var T=m(65412),g=m(98739),M=m(70879),t=m(94650),Z=m(19132),s=m(24006),C=m(80529),b=m(62843),W=m(92340);let v=(()=>{class o{constructor(e){this.httpClient=e,this.url=W.N.API_BASE_URL,this.httpHeader={headers:new C.WM({"Content-Type":"application/json"})}}getMoveHistory(e,i,n,r,l,f,c,h,yt,Mt,Ct,vt,At,Ht,Ut,qt,bt,Wt,wt,St){return this.httpClient.get(this.url+"/MoveHistory/read",{params:{fromdate:e??"",todate:i??"",storer:n??"",suffix:r??"",frtoloc:l??"",bldgloc:f??"",fromtime:c??"",totime:h??"",user:yt??"",movetype1:Mt??"",movetype2:Ct??"",movetype3:vt??"",movetype4:At??"",movetype5:Ht??"",item:Ut??"",docnum:qt??"",doctype:bt??"",wtype:Wt??"",recordsPerPage:wt??"",pageNo:St??""}})}getMoveHistoryInquiry(e,i,n,r){return this.httpClient.get(this.url+"/MoveHistory/Inquiry",{params:{user:e??"",Transnum:i??"",recordsPerPage:n??"",pageNo:r??""}})}httpError(e){let i="";return i=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(i),(0,b._)(()=>new Error(i))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(C.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=m(97392),H=m(4859),_=m(59549),U=m(44144),p=m(73546);let w=(()=>{class o{constructor(e,i,n,r,l,f,c){this.router=e,this.anyvariable=i,this.fb=n,this.route=r,this.matDialog=l,this.WwMoveHistoryService=f,this.dialogRef=c,this.dataSource=[],this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||""}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({HMTRAN:"",HMSTOR:"",HMSSFX:"",HMITEM:"",HMLOT1:"",HMLOT2:"",HMLOT3:"",WFRLOC:this.anyvariable.WFRLOC,WTOLOC:this.anyvariable.WTOLOC,HMQTY:"",HMITYP:"",HMPQTY:"",HMTTYP:"",HMCQTY:"",HMSTYP:"",HMDOCN:"",HMDSEQ:"",HMPRTY:"",HMQDAT:"",HMUSER:"",HMADAT:"",HMWSID:"",HMSDAT:"",HMPGM:"",HMCDAT:"",statusText:""}),this.getMoveHistoryInquiry()}getMoveHistoryInquiry(){this.Subscription=this.WwMoveHistoryService.getMoveHistoryInquiry(this.user,this.anyvariable.HMTRAN).subscribe(i=>{this.result=i;const n=this.result[0]?.data[1]?.value;if(n){const l=JSON.parse(n).returnedData?.[0];console.log(l),l&&this.form.patchValue(l)}})}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.F0),t.Y36(T.WI),t.Y36(s.qu),t.Y36(Z.gz),t.Y36(T.uw),t.Y36(v),t.Y36(T.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-move-history-inquiry"]],viewQuery:function(e,i){if(1&e&&t.Gf(g.NW,5),2&e){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first)}},standalone:!0,features:[t.jDz],decls:100,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","HMTRAN"],["readonly","","matInput","","formControlName","HMSTOR"],["readonly","","matInput","","formControlName","HMITEM"],["readonly","","matInput","",3,"value"],["readonly","","matInput","","formControlName","WFRLOC"],["readonly","","matInput","","formControlName","WTOLOC"],["readonly","","matInput","","formControlName","HMQTY"],["readonly","","matInput","","formControlName","HMITYP"],["readonly","","matInput","","formControlName","HMPQTY"],["readonly","","matInput","","formControlName","HMTTYP"],["readonly","","matInput","","formControlName","HMCQTY"],["readonly","","matInput","","formControlName","HMSTYP"],["readonly","","matInput","","formControlName","HMDOCN"],["readonly","","matInput","","formControlName","HMPRTY"],["readonly","","matInput","","formControlName","HMQDAT"],["readonly","","matInput","","formControlName","HMUSER"],["readonly","","matInput","","formControlName","HMADAT"],["readonly","","matInput","","formControlName","HMWSID"],["readonly","","matInput","","formControlName","HMSDAT"],["readonly","","matInput","","formControlName","HMPGM"],["readonly","","matInput","","formControlName","HMCDAT"],["readonly","","matInput","","formControlName","statusText"]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Move History Inquiry"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Transaction"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Storer"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Item Code"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Lots"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"From Location"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"To Location"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Unit Quantity"),t.qZA(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"mat-form-field",8)(41,"mat-label"),t._uU(42,"Bucket"),t.qZA(),t._UZ(43,"input",16),t.qZA(),t.TgZ(44,"mat-form-field",8)(45,"mat-label"),t._uU(46,"Pallets"),t.qZA(),t._UZ(47,"input",17),t.qZA(),t.TgZ(48,"mat-form-field",8)(49,"mat-label"),t._uU(50,"Transaction Type"),t.qZA(),t._UZ(51,"input",18),t.qZA(),t.TgZ(52,"mat-form-field",8)(53,"mat-label"),t._uU(54,"Cases"),t.qZA(),t._UZ(55,"input",19),t.qZA(),t.TgZ(56,"mat-form-field",8)(57,"mat-label"),t._uU(58,"Transaction Sub-Type"),t.qZA(),t._UZ(59,"input",20),t.qZA(),t.TgZ(60,"mat-form-field",8)(61,"mat-label"),t._uU(62,"Document"),t.qZA(),t._UZ(63,"input",21),t.qZA(),t.TgZ(64,"mat-form-field",8)(65,"mat-label"),t._uU(66,"Priority"),t.qZA(),t._UZ(67,"input",22),t.qZA(),t.TgZ(68,"mat-form-field",8)(69,"mat-label"),t._uU(70,"Date On Queue"),t.qZA(),t._UZ(71,"input",23),t.qZA(),t.TgZ(72,"mat-form-field",8)(73,"mat-label"),t._uU(74,"User"),t.qZA(),t._UZ(75,"input",24),t.qZA(),t.TgZ(76,"mat-form-field",8)(77,"mat-label"),t._uU(78,"Date Assigned"),t.qZA(),t._UZ(79,"input",25),t.qZA(),t.TgZ(80,"mat-form-field",8)(81,"mat-label"),t._uU(82,"Wkstn"),t.qZA(),t._UZ(83,"input",26),t.qZA(),t.TgZ(84,"mat-form-field",8)(85,"mat-label"),t._uU(86,"Date Started"),t.qZA(),t._UZ(87,"input",27),t.qZA(),t.TgZ(88,"mat-form-field",8)(89,"mat-label"),t._uU(90,"Pgm"),t.qZA(),t._UZ(91,"input",28),t.qZA(),t.TgZ(92,"mat-form-field",8)(93,"mat-label"),t._uU(94,"Date Completed"),t.qZA(),t._UZ(95,"input",29),t.qZA(),t.TgZ(96,"mat-form-field",8)(97,"mat-label"),t._uU(98,"Status"),t.qZA(),t._UZ(99,"input",30),t.qZA()()()()()()),2&e){let n;t.xp6(9),t.Q6J("formGroup",i.form),t.xp6(18),t.Q6J("value",((null==(n=i.form.get("HMLOT1"))?null:n.value)||"")+" "+((null==(n=i.form.get("HMLOT2"))?null:n.value)||"")+" "+((null==(n=i.form.get("HMLOT3"))?null:n.value)||"")+" "+((null==(n=i.form.get("HMLOT4"))?null:n.value)||""))}},dependencies:[M.m,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,A.Hw,H.lW,_.KE,_.hX,U.Nt,p.a8,p.dk,p.dn,p.n5]}),o})();var u=m(7155),d=m(36895),q=m(28255),S=m(84385),N=m(3238),D=m(10266),I=m(90455);function O(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchMoveHistory())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function Y(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"span",35),t.NdJ("click",function(n){return n.stopPropagation()}),t.TgZ(1,"mat-slide-toggle",36),t.NdJ("ngModelChange",function(n){const l=t.CHM(e).$implicit;return t.KtG(l.isActive=n)})("change",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.toggleColumn(r))}),t._uU(2),t.qZA(),t._UZ(3,"br"),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function x(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",37),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchMoveHistory())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function P(o,a){1&o&&(t.TgZ(0,"button",66),t._uU(1," Search "),t.qZA())}function F(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"form",38),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getmovehistoryBySearch(n.form.value))}),t.TgZ(1,"div",39)(2,"div",40)(3,"div",41)(4,"label",42),t._uU(5,"Date"),t.qZA(),t.TgZ(6,"div",43)(7,"mat-form-field",44)(8,"mat-label"),t._uU(9,"From"),t.qZA(),t._UZ(10,"input",45),t.qZA(),t.TgZ(11,"mat-form-field",44)(12,"mat-label"),t._uU(13,"To"),t.qZA(),t._UZ(14,"input",46),t.qZA()()(),t._UZ(15,"br"),t.TgZ(16,"div",41)(17,"label",42),t._uU(18,"Storer"),t.qZA(),t.TgZ(19,"div",43)(20,"mat-form-field",44)(21,"mat-label"),t._uU(22,"Storer"),t.qZA(),t._UZ(23,"input",47),t.qZA(),t.TgZ(24,"mat-form-field",44)(25,"mat-label"),t._uU(26,"Suffix "),t.qZA(),t._UZ(27,"input",48),t.qZA()()(),t._UZ(28,"br"),t.TgZ(29,"div",41)(30,"label",42),t._uU(31,"Location"),t.qZA(),t.TgZ(32,"div",43)(33,"mat-form-field",44)(34,"mat-label"),t._uU(35,"F/T"),t.qZA(),t.TgZ(36,"mat-select",49)(37,"mat-option",50),t._uU(38,"-- Select --"),t.qZA(),t.TgZ(39,"mat-option",51),t._uU(40,"F"),t.qZA(),t.TgZ(41,"mat-option",52),t._uU(42,"T"),t.qZA()()(),t.TgZ(43,"mat-form-field",44)(44,"mat-label"),t._uU(45,"Location"),t.qZA(),t._UZ(46,"input",53),t.qZA()()(),t._UZ(47,"br"),t.TgZ(48,"div",41)(49,"label",42),t._uU(50,"Times"),t.qZA(),t.TgZ(51,"div",43)(52,"mat-form-field",44)(53,"mat-label"),t._uU(54,"From"),t.qZA(),t._UZ(55,"input",54),t.qZA(),t.TgZ(56,"mat-form-field",44)(57,"mat-label"),t._uU(58,"To "),t.qZA(),t._UZ(59,"input",55),t.qZA()()(),t._UZ(60,"br"),t.TgZ(61,"mat-form-field",44)(62,"mat-label"),t._uU(63," Operator "),t.qZA(),t._UZ(64,"input",56),t.qZA(),t.TgZ(65,"div",41)(66,"label",42),t._uU(67,"Move Type"),t.qZA(),t.TgZ(68,"div",43)(69,"mat-form-field",44)(70,"mat-label"),t._uU(71,"Movetype 1"),t.qZA(),t._UZ(72,"input",57),t.qZA(),t.TgZ(73,"mat-form-field",44)(74,"mat-label"),t._uU(75,"Movetype 2"),t.qZA(),t._UZ(76,"input",58),t.qZA(),t.TgZ(77,"mat-form-field",44)(78,"mat-label"),t._uU(79,"Movetype 3"),t.qZA(),t._UZ(80,"input",59),t.qZA(),t.TgZ(81,"mat-form-field",44)(82,"mat-label"),t._uU(83,"Movetype 4"),t.qZA(),t._UZ(84,"input",60),t.qZA(),t.TgZ(85,"mat-form-field",44)(86,"mat-label"),t._uU(87,"Movetype 5"),t.qZA(),t._UZ(88,"input",61),t.qZA()()(),t._UZ(89,"br"),t.TgZ(90,"div",41)(91,"label",42),t._uU(92,"Doc"),t.qZA(),t.TgZ(93,"div",43)(94,"mat-form-field",44)(95,"mat-label"),t._uU(96,"Document Type"),t.qZA(),t._UZ(97,"input",62),t.qZA(),t.TgZ(98,"mat-form-field",44)(99,"mat-label"),t._uU(100,"Document Number"),t.qZA(),t._UZ(101,"input",63),t.qZA()()(),t._UZ(102,"br"),t.TgZ(103,"mat-form-field",44)(104,"mat-label"),t._uU(105," Item "),t.qZA(),t._UZ(106,"input",64),t.qZA()()(),t.YNc(107,P,2,0,"button",65),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(107),t.Q6J("ngIf",e.searchTextDisplay)}}function L(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Date"),t.qZA())}function Q(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.WCDATE)}}function R(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Time"),t.qZA())}function B(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.WCTIME)}}function E(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Building"),t.qZA())}function J(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMBLDG)}}function k(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Storer"),t.qZA())}function z(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMSTOR)}}function G(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Operator"),t.qZA())}function $(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMUSER)}}function X(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Move Quantity"),t.qZA())}function K(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMQTY)}}function j(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Pallet Quantity"),t.qZA())}function V(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMPQTY)}}function tt(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Case Quantity"),t.qZA())}function et(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMCQTY)}}function ot(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Move Type"),t.qZA())}function nt(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMTTYP)}}function it(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"Item"),t.qZA())}function at(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HMITEM)}}function rt(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"From"),t.qZA())}function mt(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.WFRLOC)}}function lt(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"To"),t.qZA())}function st(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.WTOLOC)}}function ut(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"FromLP"),t.qZA())}function ct(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HLFRLP)}}function pt(o,a){1&o&&(t.TgZ(0,"th",67),t._uU(1,"ToLP"),t.qZA())}function ft(o,a){if(1&o&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e.HLTOLP)}}function dt(o,a){1&o&&t._UZ(0,"th",69)}function Tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",68)(1,"div",70)(2,"button",71)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",72)(6,"li")(7,"button",73),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.Inquiry(r))}),t.TgZ(8,"mat-icon",74),t._uU(9,"call_made"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Inquiry"),t.qZA()()()()()()}}function Zt(o,a){1&o&&t._UZ(0,"tr",75)}function _t(o,a){1&o&&t._UZ(0,"tr",76)}const gt=function(){return[8,16,24]};let ht=(()=>{class o{constructor(e,i,n,r,l){this.router=e,this.fb=i,this.route=n,this.WwMoveHistoryService=r,this.matDialog=l,this.displayedColumns=["Date","Time","Bld","Storer","Operator","MoveQuantity","PalletQuantity","CaseQuantity","MoveType","Actions"],this.duplicateSource=[],this.dataSource=new u.by,this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.id=0,this.pageNumber=1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.columnShowHideList=[],this.searchTextDisplay=!1}ngOnInit(){const e=(0,d.p6)(new Date,"yyyy-MM-dd","en-US");console.log(e),this.form=this.fb.group({FRDAT:e,TODAT:e,STOR:"",SSFX:"",LOCT:"",LOC:"",FRTIM:"00:01",TOTIM:"23:59",USER:"",TTYP1:"",TTYP2:"",TTYP3:"",TTYP4:"",TTYP5:"",DOC:"",DOC2:"",ITEM:""}),this.initializeColumnProperties(),this.editedRows=[],this.getMoveHistory(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}createFilter(){return(e,i)=>{const n=JSON.parse(i);return Object.keys(n).every(r=>e[r].toString().toLowerCase().includes(n[r].toLowerCase()))}}toggleColumn(e){if(e.isActive){if(!this.displayedColumns.includes(e.name)){const i=this.displayedColumns.indexOf("Actions");i>-1?this.displayedColumns.splice(i,0,e.name):this.displayedColumns.push(e.name)}}else{const i=this.displayedColumns.indexOf(e.name);i>-1&&this.displayedColumns.splice(i,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,i)=>{"Actions"!=e&&this.columnShowHideList.push({position:i,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Item",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"From",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"To",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"FromLP",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"ToLP",isActive:!1}),console.log(this.columnShowHideList)}getmovehistoryBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getMoveHistory(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset();const e=this.pageSize,i=this.pageNumber;this.currentFilters=null,this.paginator.firstPage(),this.getMoveHistory(e,i)}onPaginateChange(e){this.pageSize=e.pageSize,this.getMoveHistory(e.pageSize,e.pageIndex+1)}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}formatBackendDate(e){return(0,d.p6)(e?new Date(e):new Date,"ddMMyy","en-US")}formatBackendTime(e,i=!1){return e?e.replace(":","").padStart(4,"0"):i?"0001":"2359"}getMoveHistory(e,i){const n=this.form.value,r={WFRDAT:this.formatBackendDate(n.FRDAT),WTODAT:this.formatBackendDate(n.TODAT),WSTOR:n.STOR,WSSFX:n.SSFX,WLOCT:n.LOCT,WLOC:n.LOC,WFRTIM:this.formatBackendTime(n.FRTIM,!0),WTOTIM:this.formatBackendTime(n.TOTIM,!1),WUSER:n.USER,WTTYP1:n.TTYP1,WTTYP2:n.TTYP2,WTTYP3:n.TTYP3,WTTYP4:n.TTYP4,WTTYP5:n.TTYP5,WITEM:n.ITEM,WDOCN:n.DOC,WDOCT:n.DOC2};this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.WwMoveHistoryService.getMoveHistory(r.WFRDAT,r.WTODAT,r.WSTOR,r.WSSFX,r.WLOCT,r.WLOC,r.WFRTIM,r.WTOTIM,r.WUSER,r.WTTYP1,r.WTTYP2,r.WTTYP3,r.WTTYP4,r.WTTYP5,r.WDOCN,r.WDOCT,r.WITEM,"RE",e,i).subscribe(l=>{console.log(l);const f=l?.[0]?.data?.[1]?.value;if(f)try{const c=JSON.parse(f);c?.returnedData?(this.dataSource.data=c.returnedData,this.totalRecords=c.TotalRecords||0):console.error("Returned data is undefined or null.")}catch(c){console.error("Error parsing response data:",c)}else console.error("Error fetching ledger codes")})}searchMoveHistory(){this.searchTextDisplay=1!=this.searchTextDisplay}Inquiry(e){this.matDialog.open(w,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.F0),t.Y36(s.qu),t.Y36(Z.gz),t.Y36(v),t.Y36(T.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-move-history"]],viewQuery:function(e,i){if(1&e&&t.Gf(g.NW,5),2&e){let n;t.iGM(n=t.CRH())&&(i.paginator=n.first)}},standalone:!0,features:[t.jDz],decls:66,vars:12,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mainMenuButton","matMenu"],[3,"click",4,"ngFor","ngForOf"],["mat-button","","class","addButton","matTooltip","Search Move History",3,"click",4,"ngIf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Time"],["matColumnDef","Bld"],["matColumnDef","Storer"],["matColumnDef","Operator"],["matColumnDef","MoveQuantity"],["matColumnDef","PalletQuantity"],["matColumnDef","CaseQuantity"],["matColumnDef","MoveType"],["matColumnDef","Item"],["matColumnDef","From"],["matColumnDef","To"],["matColumnDef","FromLP"],["matColumnDef","ToLP"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-button","","matTooltip","Search Move History",1,"addButton",3,"click"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"full-width"],["matInput","","formControlName","FRDAT","type","date"],["matInput","","formControlName","TODAT","type","date"],["matInput","","formControlName","STOR"],["matInput","","formControlName","SSFX"],["formControlName","LOCT"],["value",""],["value","F"],["value","T"],["matInput","","formControlName","LOC"],["matInput","","type","time","formControlName","FRTIM"],["type","time","matInput","","formControlName","TOTIM"],["matInput","","formControlName","USER"],["matInput","","formControlName","TTYP1"],["matInput","","formControlName","TTYP2"],["matInput","","formControlName","TTYP3"],["matInput","","formControlName","TTYP4"],["matInput","","formControlName","TTYP5"],["matInput","","formControlName","DOC2"],["matInput","","formControlName","DOC"],["matInput","","formControlName","ITEM"],["class","buttons addButton tally-search-btn","mat-raised-button","","type","submit","placeholder","Search",4,"ngIf"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",1,"dropdown-item",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Work With Move History "),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,O,3,0,"button",3),t.TgZ(6,"mat-menu",null,4),t.YNc(8,Y,4,2,"span",5),t.qZA(),t.YNc(9,x,3,0,"button",6),t.TgZ(10,"button",7,8)(12,"mat-icon"),t._uU(13,"visibility_off"),t.qZA()()()(),t.TgZ(14,"mat-card-content",9),t.YNc(15,F,108,2,"form",10),t.qZA(),t.TgZ(16,"table",11),t.ynx(17,12),t.YNc(18,L,2,0,"th",13),t.YNc(19,Q,2,1,"td",14),t.BQk(),t.ynx(20,15),t.YNc(21,R,2,0,"th",13),t.YNc(22,B,2,1,"td",14),t.BQk(),t.ynx(23,16),t.YNc(24,E,2,0,"th",13),t.YNc(25,J,2,1,"td",14),t.BQk(),t.ynx(26,17),t.YNc(27,k,2,0,"th",13),t.YNc(28,z,2,1,"td",14),t.BQk(),t.ynx(29,18),t.YNc(30,G,2,0,"th",13),t.YNc(31,$,2,1,"td",14),t.BQk(),t.ynx(32,19),t.YNc(33,X,2,0,"th",13),t.YNc(34,K,2,1,"td",14),t.BQk(),t.ynx(35,20),t.YNc(36,j,2,0,"th",13),t.YNc(37,V,2,1,"td",14),t.BQk(),t.ynx(38,21),t.YNc(39,tt,2,0,"th",13),t.YNc(40,et,2,1,"td",14),t.BQk(),t.ynx(41,22),t.YNc(42,ot,2,0,"th",13),t.YNc(43,nt,2,1,"td",14),t.BQk(),t.ynx(44,23),t.YNc(45,it,2,0,"th",13),t.YNc(46,at,2,1,"td",14),t.BQk(),t.ynx(47,24),t.YNc(48,rt,2,0,"th",13),t.YNc(49,mt,2,1,"td",14),t.BQk(),t.ynx(50,25),t.YNc(51,lt,2,0,"th",13),t.YNc(52,st,2,1,"td",14),t.BQk(),t.ynx(53,26),t.YNc(54,ut,2,0,"th",13),t.YNc(55,ct,2,1,"td",14),t.BQk(),t.ynx(56,27),t.YNc(57,pt,2,0,"th",13),t.YNc(58,ft,2,1,"td",14),t.BQk(),t.ynx(59,28),t.YNc(60,dt,1,0,"th",29),t.YNc(61,Tt,12,0,"td",14),t.BQk(),t.YNc(62,Zt,1,0,"tr",30),t.YNc(63,_t,1,0,"tr",31),t.qZA(),t.TgZ(64,"mat-paginator",32,33),t.NdJ("page",function(r){return i.onPaginateChange(r)}),t.qZA()()),2&e){const n=t.MAs(7);t.xp6(5),t.Q6J("ngIf",i.searchTextDisplay),t.xp6(3),t.Q6J("ngForOf",i.columnShowHideList),t.xp6(1),t.Q6J("ngIf",!i.searchTextDisplay),t.xp6(1),t.Q6J("matMenuTriggerFor",n),t.xp6(5),t.Q6J("ngIf",i.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(46),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.totalRecords)("pageSizeOptions",t.DdM(11,gt))("pageSize",i.pageSize)}},dependencies:[M.m,d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,g.NW,A.Hw,q.VK,q.p6,H.lW,_.KE,_.hX,U.Nt,S.gD,N.ey,p.a8,p.dk,p.dn,p.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,D.gM,I.Rr]}),o})()}}]);