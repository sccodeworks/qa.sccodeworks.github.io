"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[1074],{61074:(lt,d,u)=>{u.r(d),u.d(d,{RAgingInquiryComponent:()=>ut});var Z=u(98739),r=u(7155),U=u(70879),C=u(89881),t=u(94650),A=u(19132),l=u(24006),D=u(65412),b=u(23128),I=u(36895),O=u(97392),S=u(4859),f=u(59549),R=u(44144),M=u(84385),N=u(3238),s=u(73546),E=u(10266);function x(e,i){1&e&&(t.TgZ(0,"button",53),t._uU(1," Search "),t.qZA())}function B(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"form",27),t.NdJ("ngSubmit",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.getInquiry(o.form.value))}),t.TgZ(1,"div",28)(2,"div",29)(3,"mat-form-field",30)(4,"mat-label"),t._uU(5,"Aging Date"),t.qZA(),t._UZ(6,"input",31),t.qZA(),t.TgZ(7,"mat-form-field",32)(8,"mat-label"),t._uU(9,"Customer"),t.qZA(),t._UZ(10,"input",33),t.qZA(),t.TgZ(11,"div",34)(12,"label",35),t._uU(13,"Include Types"),t.qZA(),t.TgZ(14,"div",36)(15,"mat-form-field",30)(16,"mat-label"),t._uU(17,"Include Type1 "),t.qZA(),t.TgZ(18,"mat-select",37)(19,"mat-option",38),t._uU(20," AI = Accessorial Invoice "),t.qZA(),t.TgZ(21,"mat-option",39),t._uU(22," GI = General Invoice "),t.qZA(),t.TgZ(23,"mat-option",40),t._uU(24," SI = Storage Invoice "),t.qZA(),t.TgZ(25,"mat-option",41),t._uU(26," FI = Freight Invoice "),t.qZA(),t.TgZ(27,"mat-option",42),t._uU(28," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(29,"mat-form-field",30)(30,"mat-label"),t._uU(31,"Include Type2 "),t.qZA(),t.TgZ(32,"mat-select",43)(33,"mat-option",38),t._uU(34," AI = Accessorial Invoice "),t.qZA(),t.TgZ(35,"mat-option",39),t._uU(36," GI = General Invoice "),t.qZA(),t.TgZ(37,"mat-option",40),t._uU(38," SI = Storage Invoice "),t.qZA(),t.TgZ(39,"mat-option",41),t._uU(40," FI = Freight Invoice "),t.qZA(),t.TgZ(41,"mat-option",42),t._uU(42," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(43,"mat-form-field",30)(44,"mat-label"),t._uU(45,"Include Type3 "),t.qZA(),t.TgZ(46,"mat-select",44)(47,"mat-option",38),t._uU(48," AI = Accessorial Invoice "),t.qZA(),t.TgZ(49,"mat-option",39),t._uU(50," GI = General Invoice "),t.qZA(),t.TgZ(51,"mat-option",40),t._uU(52," SI = Storage Invoice "),t.qZA(),t.TgZ(53,"mat-option",41),t._uU(54," FI = Freight Invoice "),t.qZA(),t.TgZ(55,"mat-option",42),t._uU(56," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(57,"mat-form-field",30)(58,"mat-label"),t._uU(59,"Include Type4 "),t.qZA(),t.TgZ(60,"mat-select",45)(61,"mat-option",38),t._uU(62," AI = Accessorial Invoice "),t.qZA(),t.TgZ(63,"mat-option",39),t._uU(64," GI = General Invoice "),t.qZA(),t.TgZ(65,"mat-option",40),t._uU(66," SI = Storage Invoice "),t.qZA(),t.TgZ(67,"mat-option",41),t._uU(68," FI = Freight Invoice "),t.qZA(),t.TgZ(69,"mat-option",42),t._uU(70," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(71,"mat-form-field",30)(72,"mat-label"),t._uU(73,"Include Type5 "),t.qZA(),t.TgZ(74,"mat-select",46)(75,"mat-option",38),t._uU(76," AI = Accessorial Invoice "),t.qZA(),t.TgZ(77,"mat-option",39),t._uU(78," GI = General Invoice "),t.qZA(),t.TgZ(79,"mat-option",40),t._uU(80," SI = Storage Invoice "),t.qZA(),t.TgZ(81,"mat-option",41),t._uU(82," FI = Freight Invoice "),t.qZA(),t.TgZ(83,"mat-option",42),t._uU(84," MI = Miscellaneous Invoice "),t.qZA()()()()(),t._UZ(85,"br"),t.TgZ(86,"div",34)(87,"label",35),t._uU(88,"Omit"),t.qZA(),t.TgZ(89,"div",36)(90,"mat-form-field",30)(91,"mat-label"),t._uU(92,"Omit 1"),t.qZA(),t.TgZ(93,"mat-select",47)(94,"mat-option",38),t._uU(95," AI = Accessorial Invoice "),t.qZA(),t.TgZ(96,"mat-option",39),t._uU(97," GI = General Invoice "),t.qZA(),t.TgZ(98,"mat-option",40),t._uU(99," SI = Storage Invoice "),t.qZA(),t.TgZ(100,"mat-option",41),t._uU(101," FI = Freight Invoice "),t.qZA(),t.TgZ(102,"mat-option",42),t._uU(103," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(104,"mat-form-field",30)(105,"mat-label"),t._uU(106,"Omit 2"),t.qZA(),t.TgZ(107,"mat-select",48)(108,"mat-option",38),t._uU(109," AI = Accessorial Invoice "),t.qZA(),t.TgZ(110,"mat-option",39),t._uU(111," GI = General Invoice "),t.qZA(),t.TgZ(112,"mat-option",40),t._uU(113," SI = Storage Invoice "),t.qZA(),t.TgZ(114,"mat-option",41),t._uU(115," FI = Freight Invoice "),t.qZA(),t.TgZ(116,"mat-option",42),t._uU(117," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(118,"mat-form-field",30)(119,"mat-label"),t._uU(120,"Omit 3"),t.qZA(),t.TgZ(121,"mat-select",49)(122,"mat-option",38),t._uU(123," AI = Accessorial Invoice "),t.qZA(),t.TgZ(124,"mat-option",39),t._uU(125," GI = General Invoice "),t.qZA(),t.TgZ(126,"mat-option",40),t._uU(127," SI = Storage Invoice "),t.qZA(),t.TgZ(128,"mat-option",41),t._uU(129," FI = Freight Invoice "),t.qZA(),t.TgZ(130,"mat-option",42),t._uU(131," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(132,"mat-form-field",30)(133,"mat-label"),t._uU(134,"Omit 4"),t.qZA(),t.TgZ(135,"mat-select",50)(136,"mat-option",38),t._uU(137," AI = Accessorial Invoice "),t.qZA(),t.TgZ(138,"mat-option",39),t._uU(139," GI = General Invoice "),t.qZA(),t.TgZ(140,"mat-option",40),t._uU(141," SI = Storage Invoice "),t.qZA(),t.TgZ(142,"mat-option",41),t._uU(143," FI = Freight Invoice "),t.qZA(),t.TgZ(144,"mat-option",42),t._uU(145," MI = Miscellaneous Invoice "),t.qZA()()(),t.TgZ(146,"mat-form-field",30)(147,"mat-label"),t._uU(148,"Omit 5"),t.qZA(),t.TgZ(149,"mat-select",51)(150,"mat-option",38),t._uU(151," AI = Accessorial Invoice "),t.qZA(),t.TgZ(152,"mat-option",39),t._uU(153," GI = General Invoice "),t.qZA(),t.TgZ(154,"mat-option",40),t._uU(155," SI = Storage Invoice "),t.qZA(),t.TgZ(156,"mat-option",41),t._uU(157," FI = Freight Invoice "),t.qZA(),t.TgZ(158,"mat-option",42),t._uU(159," MI = Miscellaneous Invoice "),t.qZA()()()()(),t._UZ(160,"br"),t.qZA()(),t.YNc(161,x,2,0,"button",52),t.qZA()}if(2&e){const n=t.oxw();t.Q6J("formGroup",n.form),t.xp6(6),t.Q6J("value",n.date),t.xp6(155),t.Q6J("ngIf",n.searchTextDisplay)}}function P(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1,"Status"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHSTAT)}}function F(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1,"Invoice Number"),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHINV)}}function Y(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1,"Invoice Date"),t.qZA())}function K(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHDATE)}}function W(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1," Transaction Type "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHTRNC)}}function H(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1," Transaction Code "),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHTYPE)}}function w(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1,"Building Number"),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.AHBLDG)}}function z(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1," Bill-To Customer "),t.qZA())}function j(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.CSDSCH)}}function k(e,i){1&e&&(t.TgZ(0,"th",54),t._uU(1,"Balance Due"),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" $",t.xi3(2,1,n.AHBALN,"1.2-2")," ")}}function V(e,i){1&e&&t._UZ(0,"th",56)}function tt(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",55)(1,"div",57)(2,"button",58)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",59)(6,"li")(7,"button",60),t.NdJ("click",function(){const m=t.CHM(n).$implicit,c=t.oxw();return t.KtG(c.agingInquiryRead(m))}),t.TgZ(8,"mat-icon",61),t._uU(9,"message"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Inquiry"),t.qZA()()()()()()}}function et(e,i){1&e&&t._UZ(0,"tr",62)}function nt(e,i){1&e&&t._UZ(0,"tr",63)}function it(e,i){1&e&&t._UZ(0,"tr",62)}function ot(e,i){1&e&&t._UZ(0,"tr",63)}const at=function(){return[8,16,24]};let ut=(()=>{class e{constructor(n,a,o,m,c){this.router=n,this.fb=a,this.route=o,this.matDialog=m,this.customerService=c,this.displayedColumns=["Status","Invoice Number","Invoice Date","Transaction Code","Invoice Type","Building Number","Bill-To Customer","Balance Due","Actions"],this.LT30=0,this.Over30=0,this.Over60=0,this.Over90=0,this.Over120=0,this.Due=0,this.Unapplied=0,this.Net=0,this.dataSource=new r.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.date=(new Date).toLocaleDateString("fr-CA"),this.pageNumber=1}ngOnInit(){this.element=history.state,this.form=this.fb.group({AGDAT:"",CSDSC:this.element.WKCUST+"\xa0"+this.element.CUNAME,includeType1:"",includeType2:"",includeType3:"",includeType4:"",includeType5:"",omitType1:"",omitType2:"",omitType3:"",omitType4:"",omitType5:""}),this.getInquiry(this.pageSize,this.pageNumber)}ngOnDestroy(){this.agingSubscription&&this.agingSubscription.unsubscribe()}getInquiry(n,a){var o=this.form.value;this.agingSubscription&&this.agingSubscription.unsubscribe(),this.agingSubscription=this.customerService.AgingInquiryRead(this.user,this.element.WKCUST,this.element.CUSFX,this.element.CUSSFX,this.date,o.includeType1,o.includeType2,o.includeType3,o.includeType4,o.includeType5,o.omitType1,o.omitType2,o.omitType3,o.omitType4,o.omitType5,n,a).subscribe(m=>{var c=JSON.parse(m[0].data[1]?.value),h=c.returnedData;if(this.dataSource.data=h,this.totalRecords=c.TotalRecords,this.duplicateSource=c.returnedData,this.duplicateSource.length>0){this.dataSource.paginator=this.paginator;const v=[o.includeType1,o.includeType2,o.includeType3,o.includeType4,o.includeType5].filter(Boolean),y=[o.omitType1,o.omitType2,o.omitType3,o.omitType4,o.omitType5].filter(Boolean),q=h.filter(g=>{const p=g.AHTRNC;return!(v.length>0&&!v.includes(p)||y.length>0&&y.includes(p))});this.LT30=0,this.Over30=0,this.Over60=0,this.Over90=0,this.Over120=0,this.Due=0,this.Net=0;const rt=new Date;q.forEach(g=>{const p=new Date(g.AHDATE),T=Math.floor((rt.getTime()-p.getTime())/864e5),_=parseFloat(g.AHBALN);T>120?this.Over120+=_:T>90?this.Over90+=_:T>60?this.Over60+=_:T>30?this.Over30+=_:this.LT30+=_,this.Due+=_,this.Net=this.Due-this.Unapplied}),this.dataSource.data=q}})}onBack(){this.router.navigate(["/main-nav/customers/read"])}onPaginateChange(n){this.pageSize=n.pageSize,this.getInquiry(n.pageSize,n.pageIndex+1)}agingInquiryRead(n){this.matDialog.open(C.R,{width:"1000px",maxHeight:"80vh",data:n,autoFocus:!1})}searchInquiry(){this.searchTextDisplay=1!=this.searchTextDisplay}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A.F0),t.Y36(l.qu),t.Y36(A.gz),t.Y36(D.uw),t.Y36(b.v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-r-aging-inquiry"]],viewQuery:function(n,a){if(1&n&&t.Gf(Z.NW,5),2&n){let o;t.iGM(o=t.CRH())&&(a.paginator=o.first)}},standalone:!0,features:[t.jDz],decls:84,vars:42,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","matTooltip","Search Inquiry",1,"addButton",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Status"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Invoice Number"],["matColumnDef","Invoice Date"],["matColumnDef","Invoice Type"],["matColumnDef","Transaction Code"],["matColumnDef","Building Number"],["matColumnDef","Bill-To Customer"],["matColumnDef","Balance Due"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","",3,"value"],["appearance","outline",1,"full-width2"],["readonly","","matInput","","formControlName","CSDSC"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["formControlName","includeType1"],["value","AI"],["value","GI"],["value","SI"],["value","FI"],["value","MI"],["formControlName","includeType2"],["formControlName","includeType3"],["formControlName","includeType4"],["formControlName","includeType5"],["formControlName","omitType1"],["formControlName","omitType2"],["formControlName","omitType3"],["formControlName","omitType4"],["formControlName","omitType5"],["class","buttons addButton tally-search-btn","mat-raised-button","","type","submit","placeholder","Search",4,"ngIf"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Customer Receivables Inquiry"),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return a.searchInquiry()}),t.TgZ(9,"mat-icon"),t._uU(10,"search"),t.qZA()()()(),t.TgZ(11,"mat-card-content",5),t.YNc(12,B,162,3,"form",6),t.qZA(),t.TgZ(13,"table",7),t.ynx(14,8),t.YNc(15,P,2,0,"th",9),t.YNc(16,L,2,1,"td",10),t.BQk(),t.ynx(17,11),t.YNc(18,F,2,0,"th",9),t.YNc(19,G,2,1,"td",10),t.BQk(),t.ynx(20,12),t.YNc(21,Y,2,0,"th",9),t.YNc(22,K,2,1,"td",10),t.BQk(),t.ynx(23,13),t.YNc(24,W,2,0,"th",9),t.YNc(25,Q,2,1,"td",10),t.BQk(),t.ynx(26,14),t.YNc(27,H,2,0,"th",9),t.YNc(28,J,2,1,"td",10),t.BQk(),t.ynx(29,15),t.YNc(30,w,2,0,"th",9),t.YNc(31,$,2,1,"td",10),t.BQk(),t.ynx(32,16),t.YNc(33,z,2,0,"th",9),t.YNc(34,j,2,1,"td",10),t.BQk(),t.ynx(35,17),t.YNc(36,k,2,0,"th",9),t.YNc(37,X,3,4,"td",10),t.BQk(),t.ynx(38,18),t.YNc(39,V,1,0,"th",19),t.YNc(40,tt,12,0,"td",10),t.BQk(),t.YNc(41,et,1,0,"tr",20),t.YNc(42,nt,1,0,"tr",21),t.qZA(),t.TgZ(43,"div",22),t._UZ(44,"br")(45,"br"),t.TgZ(46,"div",23)(47,"button",24),t._uU(48),t.ALo(49,"number"),t.qZA()(),t.TgZ(50,"div",23)(51,"button",24),t._uU(52),t.ALo(53,"number"),t.qZA()(),t.TgZ(54,"div",23)(55,"button",24),t._uU(56),t.ALo(57,"number"),t.qZA()()(),t.TgZ(58,"div",22)(59,"div",23)(60,"button",24),t._uU(61),t.ALo(62,"number"),t.qZA()(),t.TgZ(63,"div",23)(64,"button",24),t._uU(65),t.ALo(66,"number"),t.qZA()(),t.TgZ(67,"div",23)(68,"button",24),t._uU(69),t.ALo(70,"number"),t.qZA()()(),t.TgZ(71,"div",22)(72,"div",23)(73,"button",24),t._uU(74),t.ALo(75,"number"),t.qZA()(),t.TgZ(76,"div",23)(77,"button",24),t._uU(78),t.ALo(79,"number"),t.qZA()()(),t.YNc(80,it,1,0,"tr",20),t.YNc(81,ot,1,0,"tr",21),t.TgZ(82,"mat-paginator",25,26),t.NdJ("page",function(m){return a.onPaginateChange(m)}),t.qZA()()),2&n&&(t.xp6(12),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(6),t.hij(" LT 30 : $",t.xi3(49,17,a.LT30,"1.2-2")," "),t.xp6(4),t.hij(" Over 30 : $",t.xi3(53,20,a.Over30,"1.2-2")," "),t.xp6(4),t.hij(" Due : $",t.xi3(57,23,a.Due,"1.2-2")," "),t.xp6(5),t.hij(" Over 60 : $",t.xi3(62,26,a.Over60,"1.2-2")," "),t.xp6(4),t.hij(" Over 90 : $",t.xi3(66,29,a.Over90,"1.2-2")," "),t.xp6(4),t.hij(" Unapplied : $",t.xi3(70,32,a.Unapplied,"1.2-2")," "),t.xp6(5),t.hij(" Over 120 : $",t.xi3(75,35,a.Over120,"1.2-2")," "),t.xp6(4),t.hij(" Net : $",t.xi3(79,38,a.Net,"1.2-2")," "),t.xp6(2),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(41,at))("pageSize",a.pageSize))},dependencies:[U.m,I.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.NW,O.Hw,S.lW,f.KE,f.hX,R.Nt,M.gD,N.ey,s.a8,s.dk,s.dn,s.n5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,E.gM,I.JJ],styles:["label[_ngcontent-%COMP%]{margin-left:60px}"]}),e})()}}]);