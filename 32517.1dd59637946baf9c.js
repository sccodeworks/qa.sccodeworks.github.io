"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[32517],{32517:(ae,p,n)=>{n.r(p),n.d(p,{ReadScheduleErrorsComponent:()=>ee});var l=n(24006),h=n(98739),c=n(7155),E=n(70879),e=n(94650),S=n(89513),f=n(19132),C=n(65412),D=n(36895),R=n(97392),Z=n(4859),g=n(59549),x=n(44144),u=n(73546),N=n(10266);function A(t,r){1&t&&(e.TgZ(0,"button",30),e._uU(1," Search "),e.qZA())}function O(t,r){if(1&t){const a=e.EpF();e.TgZ(0,"form",24),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.getBySearch(i.form.value))}),e.TgZ(1,"div",25)(2,"div",26)(3,"mat-form-field",27)(4,"mat-label"),e._uU(5,"Appointment Number"),e.qZA(),e._UZ(6,"input",28),e.qZA()()(),e.YNc(7,A,2,0,"button",29),e.qZA()}if(2&t){const a=e.oxw();e.Q6J("formGroup",a.form),e.xp6(7),e.Q6J("ngIf",a.searchTextDisplay)}}function U(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Appointment Number"),e.qZA())}function b(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4APPT)}}function y(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Detail Number"),e.qZA())}function M(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4DTSQ)}}function P(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Document Type "),e.qZA())}function B(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4DOCT)}}function Y(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1," Document Number "),e.qZA())}function v(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4DOCN)}}function I(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1," Account "),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4ACCT)}}function W(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Reference"),e.qZA())}function Q(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.D4REFN)}}function k(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1," Message ID "),e.qZA())}function L(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.HRD0101)}}function w(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1," Text "),e.qZA())}function J(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.Oqu(a.MessageText)}}function K(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"New"),e.qZA())}function z(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.hij(" ",a.D4NDTA," ")}}function F(t,r){1&t&&(e.TgZ(0,"th",31),e._uU(1,"Old"),e.qZA())}function $(t,r){if(1&t&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&t){const a=r.$implicit;e.xp6(1),e.hij(" ",a.D4ODTA," ")}}function H(t,r){1&t&&e._UZ(0,"tr",33)}function G(t,r){1&t&&e._UZ(0,"tr",34)}function j(t,r){1&t&&e._UZ(0,"tr",33)}function X(t,r){1&t&&e._UZ(0,"tr",34)}const V=function(){return[8,16,24]};let ee=(()=>{class t{constructor(a,o,i,s,_){this.WorkSchedule=a,this.fb=o,this.router=i,this.route=s,this.matDialog=_,this.displayedColumns=["apptNum","dtlNum","docType","Doc","Account","Reference","Message","Text","New","Old"],this.searchTextDisplay=!1,this.dataSource=new c.by,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.currentFilters=null,this.messageText="",this.scheduleUrl="/main-nav/workSchedule/read"}ngOnInit(){this.form=this.fb.group({appt:["",l.kI.pattern(/^\d{0,7}$/)]}),this.getScheduleException(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}getScheduleException(a,o){const i=this.currentFilters||{},{appt:s=""}=i;this.ScheduleSubscription&&this.ScheduleSubscription.unsubscribe(),this.ScheduleSubscription=this.WorkSchedule.readErrors(this.user,s,a,o).subscribe(_=>{var m=JSON.parse(_[0].data[1]?.value),d=m.returnedData;const T=m.MessageText||"";this.messageText=T,d=d.map(te=>({...te,MessageText:T})),this.dataSource.data=d,this.totalRecords=m.TotalRecords})}onPaginateChange(a){this.pageSize=a.pageSize,this.getScheduleException(a.pageSize,a.pageIndex+1)}getBySearch(a){this.currentFilters=a,this.paginator.firstPage(),this.getScheduleException(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset();const a=this.pageSize,o=this.pageNumber;this.currentFilters=null,this.paginator.firstPage(),this.getScheduleException(a,o)}ngOnDestroy(){this.ScheduleSubscription&&this.ScheduleSubscription.unsubscribe()}createFilter(){return(a,o)=>{const i=JSON.parse(o);return Object.keys(i).every(s=>a[s].toString().toLowerCase().includes(i[s].toLowerCase()))}}onBack(){this.router.navigate([this.scheduleUrl])}searchWorkSchedule(){this.searchTextDisplay=1!=this.searchTextDisplay}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(S.U),e.Y36(l.qu),e.Y36(f.F0),e.Y36(f.gz),e.Y36(C.uw))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-read-schedule-errors"]],viewQuery:function(a,o){if(1&a&&e.Gf(h.NW,5),2&a){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first)}},standalone:!0,features:[e.jDz],decls:50,vars:10,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","matTooltip","Search Inquiry",1,"addButton",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","apptNum"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","dtlNum"],["matColumnDef","docType"],["matColumnDef","Doc"],["matColumnDef","Account"],["matColumnDef","Reference"],["matColumnDef","Message"],["matColumnDef","Text"],["matColumnDef","New"],["matColumnDef","Old"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","appt"],["class","buttons addButton tally-search-btn","mat-raised-button","","type","submit","placeholder","Search",4,"ngIf"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return o.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Work With Dock Scheduler Errors"),e.qZA(),e.TgZ(7,"div",3)(8,"button",4),e.NdJ("click",function(){return o.searchWorkSchedule()}),e.TgZ(9,"mat-icon"),e._uU(10,"search"),e.qZA()()()(),e.TgZ(11,"mat-card-content",5),e.YNc(12,O,8,2,"form",6),e.qZA(),e.TgZ(13,"table",7),e.ynx(14,8),e.YNc(15,U,2,0,"th",9),e.YNc(16,b,2,1,"td",10),e.BQk(),e.ynx(17,11),e.YNc(18,y,2,0,"th",9),e.YNc(19,M,2,1,"td",10),e.BQk(),e.ynx(20,12),e.YNc(21,P,2,0,"th",9),e.YNc(22,B,2,1,"td",10),e.BQk(),e.ynx(23,13),e.YNc(24,Y,2,0,"th",9),e.YNc(25,v,2,1,"td",10),e.BQk(),e.ynx(26,14),e.YNc(27,I,2,0,"th",9),e.YNc(28,q,2,1,"td",10),e.BQk(),e.ynx(29,15),e.YNc(30,W,2,0,"th",9),e.YNc(31,Q,2,1,"td",10),e.BQk(),e.ynx(32,16),e.YNc(33,k,2,0,"th",9),e.YNc(34,L,2,1,"td",10),e.BQk(),e.ynx(35,17),e.YNc(36,w,2,0,"th",9),e.YNc(37,J,2,1,"td",10),e.BQk(),e.ynx(38,18),e.YNc(39,K,2,0,"th",9),e.YNc(40,z,2,1,"td",10),e.BQk(),e.ynx(41,19),e.YNc(42,F,2,0,"th",9),e.YNc(43,$,2,1,"td",10),e.BQk(),e.YNc(44,H,1,0,"tr",20),e.YNc(45,G,1,0,"tr",21),e.qZA(),e.YNc(46,j,1,0,"tr",20),e.YNc(47,X,1,0,"tr",21),e.TgZ(48,"mat-paginator",22,23),e.NdJ("page",function(s){return o.onPaginateChange(s)}),e.qZA()()),2&a&&(e.xp6(12),e.Q6J("ngIf",o.searchTextDisplay),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.totalRecords)("pageSizeOptions",e.DdM(9,V))("pageSize",o.pageSize))},dependencies:[E.m,D.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,h.NW,R.Hw,Z.lW,g.KE,g.hX,x.Nt,u.a8,u.dk,u.dn,u.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gM]}),t})()}}]);