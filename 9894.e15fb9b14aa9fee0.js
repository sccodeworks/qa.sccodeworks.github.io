"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9894],{39894:(ot,d,r)=>{r.r(d),r.d(d,{InquireStorageGraceComponent:()=>nt});var f=r(98739),l=r(7155),D=r(70879),t=r(94650),u=r(24006),Z=r(65412),I=r(19132),q=r(11240),T=r(36895),E=r(97392),S=r(28255),M=r(4859),C=r(59549),G=r(44144),A=r(99602),_=r(73546),U=r(10266),N=r(90455);function O(a,n){if(1&a){const e=t.EpF();t.TgZ(0,"span",45),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(1,"mat-slide-toggle",46),t.NdJ("ngModelChange",function(o){const m=t.CHM(e).$implicit;return t.KtG(m.isActive=o)})("change",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(s))}),t._uU(2),t.qZA(),t._UZ(3,"br"),t.qZA()}if(2&a){const e=n.$implicit;t.xp6(1),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function P(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Item"),t.qZA())}function v(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WKITDSC)}}function y(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Balance"),t.qZA())}function x(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.AsE("",0!==e.WK1BALN?e.WK1BALN:"","",0!==e.WK1BUNT?e.WK1BUNT:"","")}}function b(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Weight"),t.qZA())}function R(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WK1WUNT)}}function W(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Date Received"),t.qZA())}function B(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WKS1RCVD)}}function K(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Charge Amount"),t.qZA())}function L(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(0!==e.WKAMT?e.WKAMT:"")}}function Y(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"MN"),t.qZA())}function w(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WK1MIN)}}function Q(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Transaction Date"),t.qZA())}function H(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WKS1TRAN)}}function J(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Shipped"),t.qZA())}function $(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(e.WSHIP)}}function F(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Days Past Grace"),t.qZA())}function z(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(0!==e.WKPGRAC?e.WKPGRAC:"")}}function k(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Rate"),t.qZA())}function j(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(0!==e.WKRATE?e.WKRATE:"")}}function X(a,n){1&a&&(t.TgZ(0,"th",47),t._uU(1,"Months Storage"),t.qZA())}function V(a,n){if(1&a&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&a){const e=n.$implicit;t.xp6(1),t.Oqu(0!==e.WKS1MULT?e.WKS1MULT:"")}}function tt(a,n){1&a&&t._UZ(0,"tr",49)}function et(a,n){1&a&&t._UZ(0,"tr",50)}const at=function(){return[8,16,24]};let nt=(()=>{class a{constructor(e,i,o,s){this.fb=e,this.matDialog=i,this.router=o,this.StorerSvc=s,this.displayedColumns=["Item","Balance","Weight","DateReceived","ChargeAmount","MN"],this.dataSource=new l.by,this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.searchTextDisplay=!1,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.columnShowHideList=[],this.storer="/main-nav/storer"}searchStorer(){this.searchTextDisplay=1!=this.searchTextDisplay}ngOnInit(){this.initializeColumnProperties(),this.editedRows=[],this.element=history.state,this.form=this.fb.group({PositiontoItem:"",GENDT:"",GENTM:"",Storer:[this.element.STORE]+"\xa0"+[this.element.STNAME]}),this.getInquireStorageGrace(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}createFilter(){return(e,i)=>{const o=JSON.parse(i);return Object.keys(o).every(s=>e[s].toString().toLowerCase().includes(o[s].toLowerCase()))}}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}getInquireStorageGrace(e,i){const o=this.currentFilters||{},{S1STOR:s=`${this.element.STORE}`,S1SSFX:m="",GEND:g="",WKITEM:h=""}=o;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.StorerSvc.InquireStorageGrace(this.user,s,m,g,h,e,i).subscribe(it=>{try{const c=JSON.parse(it[0].data[1]?.value),p=c.returnedData;this.dataSource.data=p,this.displayedColumns=98===p[0]?.WKS1TYPE?["Item"]:["Item","Balance","Weight","DateReceived","ChargeAmount","MN"],this.dataSource.data=p,this.loadGeneratedDateTime(p[0].WKGEND),this.totalAmountDue=c["Total Amount Due"],this.period=c.Period,this.totalRecords=c.TotalRecords}catch(c){console.error("Error processing response:",c)}})}loadGeneratedDateTime(e){const i=e.replace('WKGEND":"',"").replace(/"/g,""),o="20"+i.substring(1,3),s=i.substring(3,5),m=i.substring(5,7),g=i.substring(7,9),h=i.substring(9,11);this.form.patchValue({GENDT:new Date(`${o}-${s}-${m}`),GENTM:`${g}:${h}`})}onPaginateChange(e){this.pageSize=e.pageSize,this.getInquireStorageGrace(e.pageSize,e.pageIndex+1)}getInquireBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getInquireStorageGrace(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInquireStorageGrace(this.pageSize,this.pageNumber)}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let i=this.displayedColumns.indexOf(e.name);i>-1&&this.displayedColumns.splice(i,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,i)=>{"Actions"!=e&&"TransDate"!=e&&this.columnShowHideList.push({position:i,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"TransDate",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"shipped",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"DaysPastGrace",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Rate",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"MonthsStorage",isActive:!1})}onBack(){this.router.navigate([this.storer])}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(u.qu),t.Y36(Z.uw),t.Y36(I.F0),t.Y36(q.h))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-inquire-storage-grace"]],viewQuery:function(e,i){if(1&e&&t.Gf(f.NW,5),2&e){let o;t.iGM(o=t.CRH())&&(i.paginator=o.first)}},standalone:!0,features:[t.jDz],decls:93,vars:16,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mainMenuButton","matMenu"],[3,"click",4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","readonly","",3,"value"],["appearance","outline",1,"full-width"],["matInput","","formControlName","PositiontoItem","readonly",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","GENDT","readonly","",3,"matDatepicker"],["GeneratedDatePicker",""],["matInput","","formControlName","GENTM","readonly",""],["matInput","","formControlName","Storer",2,"text-transform","uppercase"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Item"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Balance"],["matColumnDef","Weight"],["matColumnDef","DateReceived"],["matColumnDef","ChargeAmount"],["matColumnDef","MN"],["matColumnDef","TransDate"],["matColumnDef","shipped"],["matColumnDef","DaysPastGrace"],["matColumnDef","Rate"],["matColumnDef","MonthsStorage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return i.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Grace Period Exception Inquiry"),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",null,4),t.YNc(10,O,4,2,"span",5),t.qZA(),t.TgZ(11,"button",6,7)(13,"mat-icon"),t._uU(14,"visibility_off"),t.qZA()()()(),t.TgZ(15,"mat-card-content",8)(16,"form",9)(17,"div",10)(18,"div",11)(19,"mat-form-field",12)(20,"mat-label"),t._uU(21,"Period"),t.qZA(),t._UZ(22,"input",13),t.qZA(),t.TgZ(23,"mat-form-field",14)(24,"mat-label"),t._uU(25,"Position to Item"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.TgZ(27,"div",16)(28,"label",17),t._uU(29,"Generated"),t.qZA(),t.TgZ(30,"div",18)(31,"mat-form-field",14)(32,"mat-label"),t._uU(33,"Generated Date "),t.qZA(),t._UZ(34,"input",19)(35,"mat-datepicker",null,20),t.qZA(),t.TgZ(37,"mat-form-field",14)(38,"mat-label"),t._uU(39,"Generated Time"),t.qZA(),t._UZ(40,"input",21),t.qZA()()(),t.TgZ(41,"mat-form-field",12)(42,"mat-label"),t._uU(43," Storer "),t.qZA(),t._UZ(44,"input",22),t.qZA()()(),t.TgZ(45,"button",23),t._uU(46," Search "),t.qZA()()(),t._UZ(47,"br"),t.TgZ(48,"table",24),t.ynx(49,25),t.YNc(50,P,2,0,"th",26),t.YNc(51,v,2,1,"td",27),t.BQk(),t.ynx(52,28),t.YNc(53,y,2,0,"th",26),t.YNc(54,x,2,2,"td",27),t.BQk(),t.ynx(55,29),t.YNc(56,b,2,0,"th",26),t.YNc(57,R,2,1,"td",27),t.BQk(),t.ynx(58,30),t.YNc(59,W,2,0,"th",26),t.YNc(60,B,2,1,"td",27),t.BQk(),t.ynx(61,31),t.YNc(62,K,2,0,"th",26),t.YNc(63,L,2,1,"td",27),t.BQk(),t.ynx(64,32),t.YNc(65,Y,2,0,"th",26),t.YNc(66,w,2,1,"td",27),t.BQk(),t.ynx(67,33),t.YNc(68,Q,2,0,"th",26),t.YNc(69,H,2,1,"td",27),t.BQk(),t.ynx(70,34),t.YNc(71,J,2,0,"th",26),t.YNc(72,$,2,1,"td",27),t.BQk(),t.ynx(73,35),t.YNc(74,F,2,0,"th",26),t.YNc(75,z,2,1,"td",27),t.BQk(),t.ynx(76,36),t.YNc(77,k,2,0,"th",26),t.YNc(78,j,2,1,"td",27),t.BQk(),t.ynx(79,37),t.YNc(80,X,2,0,"th",26),t.YNc(81,V,2,1,"td",27),t.BQk(),t.YNc(82,tt,1,0,"tr",38),t.YNc(83,et,1,0,"tr",39),t.qZA(),t.TgZ(84,"div",40),t._UZ(85,"br")(86,"br"),t.TgZ(87,"div",41)(88,"button",42),t._uU(89),t.ALo(90,"number"),t.qZA()()(),t.TgZ(91,"mat-paginator",43,44),t.NdJ("page",function(s){return i.onPaginateChange(s)}),t.qZA()()),2&e){const o=t.MAs(9),s=t.MAs(36);t.xp6(10),t.Q6J("ngForOf",i.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(5),t.Q6J("formGroup",i.form),t.xp6(6),t.Q6J("value",i.period),t.xp6(12),t.Q6J("matDatepicker",s),t.xp6(14),t.Q6J("dataSource",i.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(6),t.hij(" Total Amount : $",t.xi3(90,12,i.totalAmountDue,"1.2-2")," "),t.xp6(2),t.Q6J("length",i.totalRecords)("pageSizeOptions",t.DdM(15,at))("pageSize",i.pageSize)}},dependencies:[D.m,T.sg,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,f.NW,E.Hw,S.VK,S.p6,M.lW,C.KE,C.hX,G.Nt,A.Mq,A.hl,_.a8,_.dk,_.dn,_.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,U.gM,N.Rr,T.JJ]}),a})()}}]);