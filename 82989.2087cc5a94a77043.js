"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[82989,34894,11790,26628,38754,85645,70096,49741],{34894:(P,N,u)=>{u.d(N,{e:()=>g});var T=u(94650),d=u(24006);let g=(()=>{class p{constructor(b,h){this.el=b,this.control=h}onInputChange(b){const h=this.el.nativeElement,e=h.value.toUpperCase();h.value=e,this.control&&this.control.control&&this.control.control.setValue(e,{emitEvent:!1})}}return p.\u0275fac=function(b){return new(b||p)(T.Y36(T.SBq),T.Y36(d.a5))},p.\u0275dir=T.lG2({type:p,selectors:[["","appUppercase",""]],hostBindings:function(b,h){1&b&&T.NdJ("input",function(f){return h.onInputChange(f)})},standalone:!0}),p})()},4379:(P,N,u)=>{u.d(N,{B:()=>e});var T=u(80529),d=u(61135),g=u(75625),p=u(70262),A=u(62843),b=u(92340),h=u(94650);let e=(()=>{class f{constructor(s){this.httpClient=s,this.url=b.N.API_BASE_URL,this.consigneeDataSource=new d.X([]),this.httpHeader={headers:new T.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(s){let m=this.consigneeDataSource.getValue();m.unshift(...s),this.consigneeDataSource.next(m)}getConsignee(s,m,_){return this.httpClient.get(this.url+`/consignee/read?user=${s}&consCode=${m}&name=${_}`)}getAll(s){return this.httpClient.get(this.url+`/consignee/readAll?user=${s}`)}getAllrecords(s,m,_){return this.httpClient.get(this.url+`/consignee/readAll?user=${s}&pageNum=${m}&recordsPerPage=${_}`)}createConsignee(s,m,_,Z,S,v,y,q,I,w,M,J,O,Y){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:s,CONAME:m,COADD1:_,COADD2:Z,COADD3:S,COADD4:v,COZIP:y,COZSFX:q,COZONE:I,COPHAR:w,COPHEX:M,COPHNU:J,CODEST:O,user:Y}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}updateConsignee(s,m,_,Z,S,v,y,q,I,w,M,J,O,Y){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:s,CONAME:m,COADD1:_,COADD2:Z,COADD3:S,COADD4:v,COZIP:y,COZSFX:q,COZONE:I,COPHAR:w,COPHEX:M,COPHNU:J,CODEST:O,user:Y}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}deleteConsignee(s,m){return this.httpClient.delete(this.url+`/consignee/consineeDelete?user=${s}&consCode=${m}`)}getConsigneeXrefService(s,m,_,Z){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${s}&consigneeCode=${m}&pageNo=${_}&recordsPerPage=${Z}`)}createConsigneeXrefService(s,m,_){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:s,parentConsignee:m,user:_}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}updateConsigneeXrefService(s,m,_){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:s,parentConsignee:m,user:_}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}deleteConsigneeXrefService(s,m){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${s}&consigneeCode=${m}`)}getConsigneeComments(s,m,_,Z,S,v){return this.httpClient.get(this.url+"/consignee/commentRead",{params:{user:s,consigneeCode:m??"",subType:_??"",sequence:Z??"",recordsPerPage:S??"",pageNo:v??""}})}createConsigneeCommentService(s,m,_,Z,S){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:s,subType:m,sequence:_,comment:Z,user:S}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}updateConsigneeCommentService(s,m,_,Z,S){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:s,subType:m,sequence:_,comment:Z,user:S}).pipe((0,g.X)(1),(0,p.K)(this.httpError))}deleteconsigneeCommentService(s,m,_,Z){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${s}&consigneeCode=${m}&subType=${_}&sequence=${Z}`).pipe((0,g.X)(1),(0,p.K)(this.httpError))}readConsignee(s,m,_,Z,S){return this.httpClient.get(this.url+"/consignee/readConsignee",{params:{user:s,code:m??"",name:_??"",recordsPerPage:Z??"",pageNo:S??""}})}httpError(s){let m="";return m=s.error instanceof ErrorEvent?s.error.message:`Error Code: ${s.status}\nMessage: ${s.message}`,console.log(m),(0,A._)(()=>new Error(m))}}return f.\u0275fac=function(s){return new(s||f)(h.LFG(T.eN))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},82989:(P,N,u)=>{u.r(N),u.d(N,{ConsigneeComponent:()=>Be});var T=u(15861),d=u(98739),g=u(7155),p=u(65412),A=u(35226),b=u.n(A),h=u(70879),e=u(94650),f=u(4379),r=u(24006),s=u(19132),m=u(97392),_=u(4859),Z=u(59549),S=u(44144),v=u(73546),y=u(34894);let q=(()=>{class n{constructor(t,o,i,l,c){this.consigneeService=t,this.fb=o,this.anyvariable=i,this.dialogRef=l,this.router=c,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({ConsigneeCode:"",Name:"",address1:"",address2:"",address3:"",address4:"",ZipCode:"",zipcodeSuffix:"",ZoneCode:"",DestinationCode:"",phoneNumber:""})}addConsinee(){const t=this.form.value;let o="",i="",l="";if(t.phoneNumber){let c=(t.phoneNumber+"").replace(/\D/g,"");if(10!=c.length)return void this.failureMessage("Phone number needs to be 10 digits");o=c?.substring(0,3),i=c?.substring(3,6),l=c?.substring(6,10)}this.consigneeService.createConsignee(t.ConsigneeCode,t.Name,t.address1,t.address2,t.address3,t.address4,t.ZipCode,t.zipcodeSuffix,t.ZoneCode,o,i,l,t.DestinationCode,this.user).subscribe(c=>{if(c&&c.length>0&&JSON.parse(c[0].data[1].value).sucess){const C=JSON.parse(c[0].data[1].value).returnedData.message;this.successMessage(C),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"])}else{const C=JSON.parse(c[0].data[1].value).returnedData.message;this.failureMessage(C)}})}successMessage(t){b().fire(t,"","success"),this.router.navigate(["/main-nav/consignee/read"])}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.B),e.Y36(r.qu),e.Y36(p.WI),e.Y36(p.so),e.Y36(s.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee-create"]],standalone:!0,features:[e.jDz],decls:70,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],[1,"title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","ConsigneeCode","appUppercase","","required",""],["matInput","","formControlName","Name"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","address1"],["matInput","","formControlName","address2"],["matInput","","formControlName","address3"],["matInput","","formControlName","address4"],["matInput","","formControlName","ZipCode"],["matInput","","formControlName","zipcodeSuffix"],["matInput","","formControlName","phoneNumber","maxlength","15"],["matInput","","formControlName","ZoneCode"],["matInput","","formControlName","DestinationCode"],[1,"footer"],["type","submit",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4,"Maintain Consignees"),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Consignee Code"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Name"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"div",11)(21,"label",12),e._uU(22,"Address "),e.qZA(),e.TgZ(23,"div",13)(24,"mat-form-field",8)(25,"mat-label"),e._uU(26,"Address1 "),e.qZA(),e._UZ(27,"input",14),e.qZA(),e.TgZ(28,"mat-form-field",8)(29,"mat-label"),e._uU(30," Address2 "),e.qZA(),e._UZ(31,"input",15),e.qZA(),e.TgZ(32,"mat-form-field",8)(33,"mat-label"),e._uU(34," Address3 "),e.qZA(),e._UZ(35,"input",16),e.qZA(),e.TgZ(36,"mat-form-field",8)(37,"mat-label"),e._uU(38," Address4 "),e.qZA(),e._UZ(39,"input",17),e.qZA()()(),e._UZ(40,"br"),e.TgZ(41,"div",11)(42,"label",12),e._uU(43,"Zip Code"),e.qZA(),e.TgZ(44,"div",13)(45,"mat-form-field",8)(46,"mat-label"),e._uU(47,"Zip Code"),e.qZA(),e._UZ(48,"input",18),e.qZA(),e.TgZ(49,"mat-form-field",8)(50,"mat-label"),e._uU(51,"Zip Code Suffix"),e.qZA(),e._UZ(52,"input",19),e.qZA()()(),e._UZ(53,"br"),e.TgZ(54,"mat-form-field",8)(55,"mat-label"),e._uU(56,"Phone number"),e.qZA(),e._UZ(57,"input",20),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-form-field",8)(60,"mat-label"),e._uU(61,"Zone Code"),e.qZA(),e._UZ(62,"input",21),e.qZA(),e.TgZ(63,"mat-form-field",8)(64,"mat-label"),e._uU(65,"Destination Code"),e.qZA(),e._UZ(66,"input",22),e.qZA()()(),e.TgZ(67,"div",23)(68,"button",24),e.NdJ("click",function(){return o.addConsinee()}),e._uU(69," Create "),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.nD,r.sg,r.u,m.Hw,_.lW,Z.KE,Z.hX,S.Nt,v.a8,v.dk,v.dn,v.n5,y.e]}),n})();var I=u(11790);let w=(()=>{class n{constructor(t,o,i,l,c,C,D){this.consigneeService=t,this.fb=o,this.anyvariable=i,this.router=l,this.CustomAlertService=c,this.matDialog=C,this.dialogRef=D,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({ConsigneeCode:this.anyvariable.WCNSCD,Name:this.anyvariable.WCNAME,Address:this.anyvariable.WCADD1,ZipCode:this.anyvariable.WCZIP})}deleteConsignee(){this.CustomAlertService.openCustomAlert("Are you sure want to delete consignee "+this.anyvariable.WCNSCD+" ?").afterClosed().subscribe(o=>{o&&(this.result=this.consigneeService.deleteConsignee(this.user,this.anyvariable.WCNSCD).subscribe(i=>{this.result=i,console.log(this.result);const l=JSON.parse(this.result[0].data[1].value).returnedData.message;if(JSON.parse(this.result[0].data[1].value).success)this.successMessage(l),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"]);else{const c=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(c)}}))})}successMessage(t){b().fire(t,"","success"),this.router.navigate(["/main-nav/consignee/read"])}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.B),e.Y36(r.qu),e.Y36(p.WI),e.Y36(s.F0),e.Y36(I.y),e.Y36(p.uw),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee-delete"]],standalone:!0,features:[e.jDz],decls:31,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline"],["matInput","","formControlName","ConsigneeCode"],["matInput","","formControlName","Name"],["matInput","","formControlName","Address"],["matInput","","formControlName","ZipCode"],[1,"footer"],["mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Delete/Consolidate A Consignee "),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Consignee Code"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Name"),e.qZA(),e._UZ(19,"input",9),e.qZA(),e.TgZ(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Address"),e.qZA(),e._UZ(23,"input",10),e.qZA(),e.TgZ(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"ZipCode"),e.qZA(),e._UZ(27,"input",11),e.qZA()()(),e.TgZ(28,"div",12)(29,"button",13),e.NdJ("click",function(){return o.deleteConsignee()}),e._uU(30," Delete "),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.Hw,_.lW,Z.KE,Z.hX,S.Nt,v.a8,v.dk,v.dn,v.n5]}),n})(),M=(()=>{class n{constructor(t,o,i,l,c){this.fb=t,this.consigneeService=o,this.router=i,this.anyvariable=l,this.dialogRef=c,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({ConsigneeCode:this.anyvariable.WCNSCD,Name:this.anyvariable.WCNAME,address1:"null"!=this.anyvariable.WCADD1?this.anyvariable.WCADD1:"",address2:"null"!=this.anyvariable.WCADD2?this.anyvariable.WCADD2:"",address3:"null"!=this.anyvariable.WCADD3?this.anyvariable.WCADD3:"",address4:"null"!=this.anyvariable.WCADD4?this.anyvariable.WCADD4:"",ZipCode:this.anyvariable.WCZIP,zipcodeSuffix:"null"!=this.anyvariable.WCZSFX?this.anyvariable.WCZSFX:"",ZoneCode:"null"!=this.anyvariable.WCZONE?this.anyvariable.WCZONE:"",DestinationCode:"null"!=this.anyvariable.WCDEST?this.anyvariable.WCDEST:"",phoneNumber:this.anyvariable.WCPHAR.toString()+this.anyvariable.WCPHEX.toString()+this.anyvariable.WCPHNU.toString()})}updateConsignee(){var t=this.form.value;let o="",i="",l="";if(null!=t.phoneNumber||null!=t.phoneNumber){let c=(t.phoneNumber+"").replace(/\D/g,"");if(10!=c.length)return void alert("Phone number needs to be 10 digits");console.log(c),o=c?.substring(0,3),i=c?.substring(3,6),l=c?.substring(6,10)}console.log(o,i,l),this.result=this.consigneeService.updateConsignee(t.ConsigneeCode,t.Name,t.address1,t.address2,t.address3,t.address4,t.ZipCode,t.zipcodeSuffix,t.ZoneCode,o,i,l,t.DestinationCode,this.user).subscribe(c=>{this.result=c;const C=JSON.parse(this.result[0].data[1].value).returnedData.message;JSON.parse(this.result[0].data[1].value).success?(this.successMessage(C),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"])):this.failureMessage(C)})}successMessage(t){b().fire(t,"","success")}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(f.B),e.Y36(s.F0),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee-update"]],standalone:!0,features:[e.jDz],decls:59,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","ConsigneeCode"],["matInput","","formControlName","Name"],["matInput","","formControlName","address1"],["matInput","","formControlName","address2"],["matInput","","formControlName","address3"],["matInput","","formControlName","address4"],["matInput","","formControlName","ZipCode"],["matInput","","formControlName","zipcodeSuffix"],["matInput","","formControlName","phoneNumber","maxlength","15"],["matInput","","formControlName","ZoneCode"],["matInput","","formControlName","DestinationCode"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Maintain Consignees "),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Consignee Code"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Name"),e.qZA(),e._UZ(19,"input",9),e.qZA(),e.TgZ(20,"mat-form-field",7)(21,"mat-label"),e._uU(22,"Address1"),e.qZA(),e._UZ(23,"input",10),e.qZA(),e.TgZ(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"Address2"),e.qZA(),e._UZ(27,"input",11),e.qZA(),e.TgZ(28,"mat-form-field",7)(29,"mat-label"),e._uU(30,"Address3"),e.qZA(),e._UZ(31,"input",12),e.qZA(),e.TgZ(32,"mat-form-field",7)(33,"mat-label"),e._uU(34,"Address4"),e.qZA(),e._UZ(35,"input",13),e.qZA(),e.TgZ(36,"mat-form-field",7)(37,"mat-label"),e._uU(38,"Zip Code"),e.qZA(),e._UZ(39,"input",14),e.qZA(),e.TgZ(40,"mat-form-field",7)(41,"mat-label"),e._uU(42,"Zip Code Suffix"),e.qZA(),e._UZ(43,"input",15),e.qZA(),e.TgZ(44,"mat-form-field",7),e._UZ(45,"input",16),e.TgZ(46,"mat-hint"),e._uU(47,"Phone number"),e.qZA()(),e.TgZ(48,"mat-form-field",7)(49,"mat-label"),e._uU(50,"Zone Code"),e.qZA(),e._UZ(51,"input",17),e.qZA(),e.TgZ(52,"mat-form-field",7)(53,"mat-label"),e._uU(54,"Destination Code"),e.qZA(),e._UZ(55,"input",18),e.qZA()()(),e.TgZ(56,"div",19)(57,"button",20),e.NdJ("click",function(){return o.updateConsignee()}),e._uU(58," Update "),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u,m.Hw,_.lW,Z.KE,Z.bx,Z.hX,S.Nt,v.a8,v.dk,v.dn,v.n5],styles:[".mat-form-field[_ngcontent-%COMP%]{padding:10px}.mat-card-content[_ngcontent-%COMP%]{padding-top:20px}.editButton[_ngcontent-%COMP%]{background-color:#3ead0b;color:#fff;padding:10px;float:right}.closeIcon[_ngcontent-%COMP%]{float:right}.mat-icon[_ngcontent-%COMP%]{padding-right:5px}"]}),n})();function J(n,a){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Consignee"),e.qZA())}function O(n,a){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.EVTIME)}}function Y(n,a){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Name/Address"),e.qZA())}function z(n,a){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.EVCODE)}}function H(n,a){1&n&&(e.TgZ(0,"th",27),e._uU(1,"Pct"),e.qZA())}function X(n,a){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.EVSTAT)}}function L(n,a){1&n&&e._UZ(0,"th",29)}function G(n,a){1&n&&(e.TgZ(0,"td",28)(1,"div",30)(2,"button",31)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"ul",32)(6,"li")(7,"button",33)(8,"mat-icon",3),e._uU(9,"call_made"),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Choose"),e.qZA()()()()()())}function j(n,a){1&n&&e._UZ(0,"tr",34)}function K(n,a){1&n&&e._UZ(0,"tr",35)}const V=function(){return[4,8,16]};let ee=(()=>{class n{constructor(t,o,i,l,c,C,D){this.router=t,this.consigneeService=o,this.fb=i,this.route=l,this.matDialog=c,this.anyvariable=C,this.dialogRef=D,this.displayedColumns=["Consignee","NameAddress","Pct","Actions"],this.dataSource=[],this.user=localStorage.getItem("userName"),this.form=this.fb.group({zip:"",street:"",terms:"",cutoffUsed:"",name:""})}ngOnInit(){}onBack(){this.router.navigate(["/main-nav/orders/read"])}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.F0),e.Y36(f.B),e.Y36(r.qu),e.Y36(s.gz),e.Y36(p.uw),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee-match-inquiry"]],standalone:!0,features:[e.jDz],decls:53,vars:6,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["required","","matInput","","formControlName","zip"],["matInput","","formControlName","street"],["matInput","","formControlName","terms"],["matInput","","formControlName","cutoffUsed"],["matInput","","formControlName","name"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Consignee"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","NameAddress"],["matColumnDef","Pct"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button",""],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Consignee Match Inquiry"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Zip"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Street"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",8)(21,"mat-label"),e._uU(22,"Terms"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"mat-form-field",8)(25,"mat-label"),e._uU(26,"Cutoff Used"),e.qZA(),e._UZ(27,"input",12),e.qZA(),e.TgZ(28,"mat-form-field",8)(29,"mat-label"),e._uU(30,"Name"),e.qZA(),e._UZ(31,"input",13),e.qZA()()(),e.TgZ(32,"div",6)(33,"div",7)(34,"button",14),e._uU(35," Search "),e.qZA()()()()(),e.TgZ(36,"table",15),e.ynx(37,16),e.YNc(38,J,2,0,"th",17),e.YNc(39,O,2,1,"td",18),e.BQk(),e.ynx(40,19),e.YNc(41,Y,2,0,"th",17),e.YNc(42,z,2,1,"td",18),e.BQk(),e.ynx(43,20),e.YNc(44,H,2,0,"th",17),e.YNc(45,X,2,1,"td",18),e.BQk(),e.ynx(46,21),e.YNc(47,L,1,0,"th",22),e.YNc(48,G,12,0,"td",18),e.BQk(),e.YNc(49,j,1,0,"tr",23),e.YNc(50,K,1,0,"tr",24),e.qZA(),e._UZ(51,"mat-paginator",25,26),e.qZA()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(27),e.Q6J("dataSource",o.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(5,V)))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,d.NW,m.Hw,_.lW,Z.KE,Z.hX,S.Nt,v.a8,v.dk,v.dn,v.n5,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk]}),n})();var te=u(86385);let ne=(()=>{class n{constructor(t,o,i,l,c,C){this.consigneeService=t,this.router=o,this.fb=i,this.matDialog=l,this.anyvariable=c,this.dialogRef=C,this.user=localStorage.getItem("userName"),this.consigneeOptions=[],this.consCode=this.anyvariable.WCNSCD.toUpperCase()}ngOnInit(){this.parentConsigneeValue="",this.form=this.fb.group({consigneeCode:[this.anyvariable.WCNSCD],parentConsignee:[""]}),this.consigneeService.getAll(this.user).subscribe(t=>{this.result=t;const o=this.result[0].data[1]?.value,i=JSON.parse(o);this.consigneeSource=i.returnedData;for(const l of this.consigneeSource)this.consigneeOptions.push(l.WCNSCD)}),this.consigneeService.getConsigneeXrefService(this.user,this.consCode,"",50).subscribe(t=>{this.result=t;const o=this.result[0].data[1]?.value,i=JSON.parse(o);this.duplicateSource=i.returnedData,this.duplicateSource[0]&&this.duplicateSource[0].CXPCON&&(this.parentConsigneeValue=this.duplicateSource[0].CXPCON,this.form.patchValue({parentConsignee:this.parentConsigneeValue}))})}createConsigneeXref(){this.consigneeService.createConsigneeXrefService(this.consCode,this.form.value.parentConsignee,this.user).subscribe(o=>{if(this.result=o,JSON.parse(this.result[0].data[1].value).success){const i=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(i),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"])}else{const i=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(i)}})}updateConsigneeXref(){this.consigneeService.updateConsigneeXrefService(this.consCode,this.form.value.parentConsignee,this.user).subscribe(o=>{if(this.result=o,JSON.parse(this.result[0].data[1].value).success){const i=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(i),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"])}else{const i=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(i)}})}deleteConsigneeXref(){this.consigneeService.deleteConsigneeXrefService(this.user,this.consCode).subscribe(t=>{this.result=t;const o=this.result[0].data[1]?.value,i=JSON.parse(o);if(this.duplicateSource=i.returnedData,JSON.parse(this.result[0].data[1].value).success){const l=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(l),this.closeDialog(),this.router.navigate(["/main-nav/consignee/read"])}else{const l=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(l)}})}successMessage(t){b().fire(t,"","success"),this.router.navigate(["/main-nav/consignee/read"])}failureMessage(t){b().fire(t,"","error")}consigneeMatchInquiry(){this.matDialog.open(ee,{width:"1000px",maxHeight:"90vh",autoFocus:!1})}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.B),e.Y36(s.F0),e.Y36(r.qu),e.Y36(p.uw),e.Y36(p.WI),e.Y36(p.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee-xref"]],standalone:!0,features:[e.jDz],decls:1,vars:0,template:function(t,o){1&t&&e._uU(0,"work")},dependencies:[h.m,te.j]}),n})();var E=u(77579),oe=u(78372),ie=u(71884),ae=u(69997),se=u(80529),W=u(36895),B=u(28255),re=u(10266),le=u(90455);function ce(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchConsignee())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA(),e.TgZ(3,"span"),e._uU(4," Filter"),e.qZA()()}}function ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchConsignee())}),e._UZ(1,"img",39),e.TgZ(2,"span"),e._uU(3," Filter"),e.qZA()()}}function me(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",40)(2,"div",41)(3,"span",42),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(4,"mat-slide-toggle",43),e.NdJ("ngModelChange",function(i){const c=e.CHM(t).$implicit;return e.KtG(c.isActive=i)})("change",function(){const l=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleColumn(l))}),e._uU(5),e.qZA()()()(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(4),e.Q6J("ngModel",t.isActive),e.xp6(1),e.hij(" ",t.name," ")}}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",44),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.getBySearch(i.form.value))}),e.TgZ(1,"div",40)(2,"div",45)(3,"mat-form-field",46)(4,"mat-label"),e._uU(5,"Code"),e.qZA(),e._UZ(6,"input",47),e.qZA(),e.TgZ(7,"mat-form-field",46)(8,"mat-label"),e._uU(9,"Name"),e.qZA(),e._UZ(10,"input",48),e.qZA()()(),e.TgZ(11,"div",49)(12,"button",50),e._uU(13," Search "),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form)}}function ge(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"Code"),e.qZA())}function pe(n,a){if(1&n&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WCNSCD," ")}}function he(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"Name"),e.qZA())}function fe(n,a){if(1&n&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WCNAME," ")}}function Ce(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"Zip Code"),e.qZA())}function _e(n,a){if(1&n&&(e.TgZ(0,"td",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.WCZIP)}}function Ze(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"City"),e.qZA())}function be(n,a){if(1&n&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WZCITY," ")}}function ve(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"State"),e.qZA())}function Te(n,a){if(1&n&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WZSTAT," ")}}function Se(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1,"Phone"),e.qZA())}function Ae(n,a){if(1&n&&(e.TgZ(0,"td",54),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.lnq(" ",t.WCPHAR," \xa0 ",t.WCPHEX," \xa0",t.WCPHNU," ")}}function De(n,a){1&n&&(e.TgZ(0,"th",51),e._uU(1," Preferred Carrier "),e.qZA())}function Ne(n,a){if(1&n&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WCRNAM," ")}}function xe(n,a){1&n&&(e.TgZ(0,"th",55),e._uU(1," Actions "),e.qZA())}function Ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",71),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw().$implicit,C=e.oxw();return e.KtG(C.executeAction(l,c))}),e._UZ(1,"img",72),e.TgZ(2,"span",73),e._uU(3),e.qZA()()}if(2&n){const t=a.$implicit;e.Q6J("color",t.color),e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.Oqu(t.label)}}function ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",81)(1,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw(2).$implicit,C=e.oxw();return e.KtG(C.handleRecentClick(l,c))}),e._uU(2),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.label," ")}}function qe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",74)(1,"div",75)(2,"span",76),e._uU(3,"Recent Searches"),e.qZA(),e.TgZ(4,"button",77),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clearRecentSearches())}),e.TgZ(5,"span",78),e._uU(6,"Clear"),e.qZA()()(),e.TgZ(7,"ul",79),e.YNc(8,ye,3,1,"li",80),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",t.filteredRecentSearches)}}function Ie(n,a){1&n&&(e.TgZ(0,"li",83)(1,"div",84)(2,"mat-icon",85),e._uU(3,"search"),e.qZA(),e.TgZ(4,"span",86),e._uU(5,"No results found"),e.qZA(),e.TgZ(6,"span",87),e._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),e.qZA()()())}function we(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",90),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function Me(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function Je(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",88)(1,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw().$implicit,C=e.oxw();return e.KtG(C.handleItemClick(l,c))}),e.YNc(2,we,2,2,"ng-container",89),e.YNc(3,Me,3,1,"ng-container",89),e._uU(4),e.qZA()()}if(2&n){const t=a.$implicit;e.xp6(2),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(1),e.hij(" ",t.label," ")}}function Oe(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",94),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function Ye(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-icon",95),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function Fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"li",91)(1,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit,c=e.oxw().$implicit,C=e.oxw();return e.KtG(C.handleItemClick(l,c))}),e.TgZ(2,"div",92),e.YNc(3,Oe,2,2,"ng-container",89),e.YNc(4,Ye,3,1,"ng-container",89),e.TgZ(5,"span",93),e._uU(6),e.qZA()()()()}if(2&n){const t=a.$implicit,o=e.oxw(2);e.Q6J("hidden",o.filteredItems.includes(t)),e.xp6(3),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(2),e.Oqu(t.label)}}function Pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",54)(1,"div",56)(2,"button",57),e._UZ(3,"img",58),e.qZA(),e.TgZ(4,"ul",59)(5,"li",60),e.YNc(6,Ue,4,4,"button",61),e.qZA(),e.TgZ(7,"li",62)(8,"mat-form-field",63)(9,"input",64),e.NdJ("ngModelChange",function(i){e.CHM(t);const l=e.oxw();return e.KtG(l.searchDropdownText=i)})("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onSearchChange())}),e.qZA()()(),e.YNc(10,qe,9,1,"li",65),e.TgZ(11,"div",66),e._UZ(12,"hr",67),e.qZA(),e.YNc(13,Ie,8,0,"li",68),e.YNc(14,Je,5,3,"li",69),e.YNc(15,Fe,7,4,"li",70),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.headerActions),e.xp6(3),e.Q6J("ngModel",t.searchDropdownText),e.xp6(1),e.Q6J("ngIf",t.filteredRecentSearches.length>0),e.xp6(3),e.Q6J("ngIf",0===t.filteredItems.length),e.xp6(1),e.Q6J("ngForOf",t.filteredItems),e.xp6(1),e.Q6J("ngForOf",t.menuItems)}}function Re(n,a){1&n&&e._UZ(0,"tr",96)}function ke(n,a){1&n&&e._UZ(0,"tr",97)}function Ee(n,a){1&n&&(e.TgZ(0,"div",98),e._UZ(1,"img",99),e.TgZ(2,"h3",100),e._uU(3,"No Data Available"),e.qZA(),e.TgZ(4,"p",101),e._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),e.qZA()())}const We=function(){return[8,16,24]};let Be=(()=>{class n{constructor(t,o,i,l,c,C,D){this.router=t,this.tableSrv=o,this.consigneeService=i,this.fb=l,this.route=c,this.matDialog=C,this.http=D,this.displayedColumns=["Code","Name","Zip Code","City","State","Actions"],this.otherColumns=["Phone","PreferredCarrier"],this.columnShowHideList=[],this.dataSource=new g.by,this.searchInput$=new E.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.duplicateSource=[],this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1,this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.currentFilters=null,this.consigneeHashSet=new Set,this.unsubscribe$=new E.x,this.form=this.fb.group({Code:"",Name:""}),this.user=localStorage.getItem("userName"),this.externalConsigneeCode=null}ngOnInit(){this.con=history.state,this.columnShowHideList=this.tableSrv.initializeColumnProperties(this.displayedColumns,this.otherColumns),this.con?.WCNSCD?this.getConsineeBySearch2(this.con.WCNSCD):this.getConsignee(this.pageSize,1),this.consigneeDataSourceSubscription=this.consigneeService.consigneeDataSource.subscribe(t=>{this.isSearchMode||(this.dataSource.data=t)}),this.searchInput$.pipe((0,oe.b)(500),(0,ie.x)()).subscribe(t=>{this.handleSearch(t)}),this.http.get("assets/jsondata/consignee.json").subscribe(t=>{this.headerActions=t.header,this.menuItems=t.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=t.search;const o=localStorage.getItem("recentSearches");if(o){const i=JSON.parse(o);this.recentSearches=this.menuItems.filter(l=>i.includes(l.label))}this.filteredRecentSearches=[...this.recentSearches]})}getConsineeBySearch2(t){this.isLoading=!0,this.noData=!1,this.isSearchMode=!1,this.externalConsigneeCode=t||null,this.consigneeDataSourceSubscription&&this.consigneeDataSourceSubscription.unsubscribe();const o=this.externalConsigneeCode?.toUpperCase()||"";this.consigneeDataSourceSubscription=this.consigneeService.readConsignee(this.user,o,"",this.pageSize,1).subscribe({next:l=>{this.isLoading=!1;const c=l?.[0]?.data?.[1]?.value,C=JSON.parse(c),D=C?.returnedData||[];this.totalRecords=C?.TotalRecords||0,this.dataSource.data=D,this.noData=0===D.length,this.paginator&&(this.paginator.pageIndex=0,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)},error:()=>{this.isLoading=!1,this.noData=!0,this.dataSource.data=[]}})}getConsignee(t,o){this.isLoading=!0,this.noData=!1,this.dataSource=new g.by([]),this.consigneeDataSourceSubscription&&this.consigneeDataSourceSubscription.unsubscribe();const i=this.currentFilters||{},{Code:l="",Name:c=""}=i;this.consigneeDataSourceSubscription=this.consigneeService.readConsignee(this.user,l.toUpperCase(),c,t,o).subscribe({next:C=>{this.isLoading=!1;const D=C?.[0]?.data?.[1]?.value,x=JSON.parse(D),U=x?.returnedData||[];this.totalRecords=x?.TotalRecords||0,this.dataSource.data=U,this.noData=0===U.length,this.paginator&&(this.paginator.length=this.totalRecords)},error:()=>{this.isLoading=!1,this.noData=!0,this.dataSource.data=[]}})}applyGlobalFilterInput(t){this.searchInput$.next(t)}handleSearch(t){if(!(t=t.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],void this.getConsignee(this.pageSize,1);this.isSearchMode=!0,this.loadSearchChunks(t,()=>{if(0===this.filteredData.length)return this.noData=!0,void(this.dataSource.data=[]);this.noData=!1,this.loadPage(1)})}loadSearchChunks(t,o){var i=this;return(0,T.Z)(function*(){const{chunkSize:C,maxCalls:D}=i.getSearchStrategy(i.totalRecords||0);let x=1,U=0,F=[];for(;U<D;){const R=(yield i.consigneeService.readConsignee(i.user,"","",C,x).toPromise())?.[0]?.data?.[1]?.value;if(!R||"string"!=typeof R){x++,U++;continue}const k=R.trim();if(!k.endsWith("}")&&!k.endsWith("]")){x++,U++;continue}let Q;try{Q=JSON.parse(k)}catch{x++,U++;continue}const $=Q?.returnedData||[],Qe=$.filter($e=>Object.values($e).some(ze=>String(ze).toLowerCase().includes(t)));if(F.push(...Qe),F.length>0||$.length<C)break;x++,U++}i.allData=F,i.filteredData=F,i.totalRecords=F.length,o?.()})()}loadPage(t){const o=(t-1)*this.pageSize;this.pageData=this.filteredData.slice(o,o+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=t-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}onPaginateChange(t){this.pageSize=t.pageSize,this.isSearchMode?this.loadPage(t.pageIndex+1):this.externalConsigneeCode?this.consigneeService.readConsignee(this.user,this.externalConsigneeCode.toUpperCase(),"",t.pageSize,t.pageIndex+1).subscribe(o=>{const i=o?.[0]?.data?.[1]?.value,l=JSON.parse(i),c=l?.returnedData||[];this.totalRecords=l?.TotalRecords||0,this.dataSource.data=c,this.paginator&&(this.paginator.length=this.totalRecords)}):this.getConsignee(t.pageSize,t.pageIndex+1)}handleItemClick(t,o){this.executeAction(t,o),this.addToRecentSearches(t)}executeAction(t,o){"function"==typeof this[t.action]?this[t.action](o):console.warn("Action not implemented:",t.action)}handleRecentClick(t,o){this.searchDropdownText=t.label,this.onSearchChange(),"function"==typeof this[t.action]&&this[t.action](o),this.addToRecentSearches(t)}addToRecentSearches(t){this.recentSearches=this.recentSearches.filter(o=>o.label!==t.label),this.recentSearches.unshift(t),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(o=>o.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const t=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(o=>o.label.toLowerCase().includes(t)),this.filteredRecentSearches=t?[]:[...this.recentSearches]}resetSearch(){this.form.reset(),this.currentFilters=null,this.isSearchMode=!1,this.externalConsigneeCode=null,this.allData=[],this.filteredData=[],this.paginator.firstPage(),this.getConsignee(this.pageSize,1)}getSearchStrategy(t){return t<=3e3?{chunkSize:400,maxCalls:4}:t<=1e4?{chunkSize:500,maxCalls:5}:{chunkSize:800,maxCalls:5}}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnDestroy(){this.consigneeDataSourceSubscription.unsubscribe()}searchConsignee(){this.searchTextDisplay=1!=this.searchTextDisplay}getBySearch(t){this.currentFilters=t,this.paginator.firstPage(),this.getConsignee(this.pageSize,this.pageNumber)}toggleColumn(t){this.displayedColumns=this.tableSrv.toggleColumn(t,this.displayedColumns)}rowClick(t){this.selectedRow=t}onBack(){this.router.navigate(["/main-nav/consignee/read"])}consigneeUpdateForm(t){this.matDialog.open(M,{panelClass:"right-dialog",data:t,autoFocus:!1})}consigneeDeleteForm(t){this.matDialog.open(w,{panelClass:"right-dialog",data:t,autoFocus:!1})}consigneeComments(t){this.router.navigateByUrl("/main-nav/consignee/comments",{state:t})}consigneeXRefForm(t){this.matDialog.open(ne,{panelClass:"right-dialog",data:t,autoFocus:!1})}addConsignee(){this.matDialog.open(q,{panelClass:"right-dialog",autoFocus:!1})}failureMessage(t){b().fire(t,"","error")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.F0),e.Y36(ae.R),e.Y36(f.B),e.Y36(r.qu),e.Y36(s.gz),e.Y36(p.uw),e.Y36(se.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-consignee"]],viewQuery:function(t,o){if(1&t&&e.Gf(d.NW,5),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first)}},standalone:!0,features:[e.jDz],decls:56,vars:13,consts:[[1,"over-Flow"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search Consignee",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Consignee",3,"click",4,"ngIf"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","matTooltip","Reset Values",1,"addButton","buttons",3,"click"],["mat-button","","matTooltip","Add Consignee",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Code"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Name"],["mat-cell","","class","uppercase-text",4,"matCellDef"],["matColumnDef","Zip Code"],["mat-cell","",4,"matCellDef"],["matColumnDef","City"],["matColumnDef","State"],["matColumnDef","Phone"],["matColumnDef","PreferredCarrier"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Consignee",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"row"],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Code","appUppercase",""],["matInput","","formControlName","Name"],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell","",1,"uppercase-text"],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-form-field",2)(4,"mat-icon",3),e._uU(5,"search"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("input",function(l){return o.applyGlobalFilterInput(l.target.value)}),e.qZA()(),e.YNc(7,ce,5,0,"button",5),e.YNc(8,ue,4,0,"button",6),e.TgZ(9,"mat-menu",7,8)(11,"div",9),e.YNc(12,me,6,2,"ng-container",10),e.qZA()(),e.TgZ(13,"button",11,12),e._UZ(15,"img",13),e.qZA(),e.TgZ(16,"button",14),e.NdJ("click",function(){return o.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"loop"),e.qZA()(),e.TgZ(19,"button",15),e.NdJ("click",function(){return o.addConsignee()}),e.TgZ(20,"mat-icon"),e._uU(21,"add"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Create Consignee"),e.qZA()()()(),e.TgZ(24,"mat-card-content",16),e.YNc(25,de,14,1,"form",17),e.qZA(),e.TgZ(26,"table",18),e.ynx(27,19),e.YNc(28,ge,2,0,"th",20),e.YNc(29,pe,2,1,"td",21),e.BQk(),e.ynx(30,22),e.YNc(31,he,2,0,"th",20),e.YNc(32,fe,2,1,"td",23),e.BQk(),e.ynx(33,24),e.YNc(34,Ce,2,0,"th",20),e.YNc(35,_e,2,1,"td",25),e.BQk(),e.ynx(36,26),e.YNc(37,Ze,2,0,"th",20),e.YNc(38,be,2,1,"td",23),e.BQk(),e.ynx(39,27),e.YNc(40,ve,2,0,"th",20),e.YNc(41,Te,2,1,"td",23),e.BQk(),e.ynx(42,28),e.YNc(43,Se,2,0,"th",20),e.YNc(44,Ae,2,3,"td",25),e.BQk(),e.ynx(45,29),e.YNc(46,De,2,0,"th",20),e.YNc(47,Ne,2,1,"td",23),e.BQk(),e.ynx(48,30),e.YNc(49,xe,2,0,"th",31),e.YNc(50,Pe,16,6,"td",25),e.BQk(),e.YNc(51,Re,1,0,"tr",32),e.YNc(52,ke,1,0,"tr",33),e.qZA(),e.YNc(53,Ee,6,0,"div",34),e.TgZ(54,"mat-paginator",35,36),e.NdJ("page",function(l){return o.onPaginateChange(l)}),e.qZA()()),2&t){const i=e.MAs(10);e.xp6(7),e.Q6J("ngIf",o.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!o.searchTextDisplay),e.xp6(4),e.Q6J("ngForOf",o.columnShowHideList),e.xp6(1),e.Q6J("matMenuTriggerFor",i),e.xp6(12),e.Q6J("ngIf",o.searchTextDisplay),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("ngIf",!o.isLoading&&o.noData),e.xp6(1),e.Q6J("length",o.totalRecords)("pageSizeOptions",e.DdM(12,We))("pageSize",o.pageSize)}},dependencies:[h.m,W.sg,W.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u,d.NW,m.Hw,B.VK,B.p6,_.lW,Z.KE,Z.hX,Z.qo,S.Nt,v.a8,v.dk,v.dn,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,re.gM,le.Rr,y.e]}),n})()},11790:(P,N,u)=>{u.d(N,{y:()=>b});var T=u(65412),d=u(94650),g=u(97392),p=u(4859);let A=(()=>{class h{constructor(f,r){this.dialogRef=f,this.data=r}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return h.\u0275fac=function(f){return new(f||h)(d.Y36(T.so),d.Y36(T.WI))},h.\u0275cmp=d.Xpm({type:h,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(f,r){1&f&&(d.TgZ(0,"div",0)(1,"div",1)(2,"button",2),d.NdJ("click",function(){return r.closeDialog()}),d.TgZ(3,"mat-icon"),d._uU(4,"close"),d.qZA()(),d.TgZ(5,"div",3),d._UZ(6,"img",4),d.qZA(),d.TgZ(7,"h2",5),d._uU(8,"Confirmation"),d.qZA(),d.TgZ(9,"span",6),d._uU(10),d.qZA()(),d.TgZ(11,"div",7)(12,"button",8),d._uU(13,"Cancel"),d.qZA(),d.TgZ(14,"button",9),d._uU(15,"Delete"),d.qZA()()()),2&f&&(d.xp6(10),d.Oqu(r.data.message),d.xp6(2),d.Q6J("mat-dialog-close",!1),d.xp6(2),d.Q6J("mat-dialog-close",!0))},dependencies:[g.Hw,p.lW,T.ZT]}),h})(),b=(()=>{class h{constructor(f){this.dialog=f}openCustomAlert(f){return this.dialog.open(A,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:f}})}}return h.\u0275fac=function(f){return new(f||h)(d.LFG(T.uw))},h.\u0275prov=d.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},15861:(P,N,u)=>{function T(g,p,A,b,h,e,f){try{var r=g[e](f),s=r.value}catch(m){return void A(m)}r.done?p(s):Promise.resolve(s).then(b,h)}function d(g){return function(){var p=this,A=arguments;return new Promise(function(b,h){var e=g.apply(p,A);function f(s){T(e,b,h,f,r,"next",s)}function r(s){T(e,b,h,f,r,"throw",s)}f(void 0)})}}u.d(N,{Z:()=>d})}}]);