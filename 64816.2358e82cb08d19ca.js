"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[64816,34894,26628],{34894:(g,_,a)=>{a.d(_,{e:()=>v});var t=a(94650),p=a(24006);let v=(()=>{class s{constructor(e,n){this.el=e,this.control=n}onInputChange(e){const n=this.el.nativeElement,u=n.value.toUpperCase();n.value=u,this.control&&this.control.control&&this.control.control.setValue(u,{emitEvent:!1})}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(t.SBq),t.Y36(p.a5))},s.\u0275dir=t.lG2({type:s,selectors:[["","appUppercase",""]],hostBindings:function(e,n){1&e&&t.NdJ("input",function(f){return n.onInputChange(f)})},standalone:!0}),s})()},64816:(g,_,a)=>{a.r(_),a.d(_,{RecordSerialComponent:()=>P});var t=a(24006),p=a(70879),v=a(85139),s=a(35226),d=a.n(s),e=a(94650),n=a(19132),u=a(65412),f=a(16082),E=a(97392),U=a(4859),h=a(59549),M=a(44144),c=a(73546),C=a(34894);let P=(()=>{class m{constructor(l,r,i,o){this.fb=l,this.router=r,this.matDialog=i,this.moveService=o,this.user=localStorage.getItem("userName")||"",this.palletMsg="Call MQU806CBR pgm for next screen",this.updateUrl="/main-nav/schedMoves/palletPick"}ngOnInit(){this.element=history.state,this.form=this.fb.group({Item:{value:this.element.apiData?.[3]?.value||"",disabled:!0},Quantity:{value:this.element.apiData?.[4]?.value||"",disabled:!0},PickedFrom:{value:this.element.apiData?.[5]?.value||"",disabled:!0},SerialsNeeded:{value:this.element.apiData?.[6]?.value||"",disabled:!0},Scanned:{value:this.element.apiData?.[7]?.value||"",disabled:!0},serialNumber:{value:this.element.apiData?.[9]?.value||"",disabled:!0},NewSerialNumber:["",t.kI.required]})}updateSerial(){this.moveService.recordSerials(this.user,this.element.apiData?.[2]?.value,this.element.apiData?.[3]?.value,this.element.apiData?.[4]?.value,this.form.value.NewSerialNumber).subscribe(r=>{const i=r?.[0]?.data?.[r[0].data.length-1]?.value?.trim(),o=r?.[0]?.data||[];i?.toUpperCase()===this.palletMsg.toUpperCase()?(this.router.navigateByUrl(this.updateUrl,{state:o}),this.matDialog.closeAll()):this.failureMessage(i)})}failureMessage(l){d().fire(l,"","error")}ngOnDestroy(){this.recordSerialSubscription&&this.recordSerialSubscription.unsubscribe()}onBack(){const{anyvariable:l,tableData:r}=this.element;this.router.navigateByUrl("/main-nav/scheduledMoves/read",{skipLocationChange:!0}).then(()=>{const i=this.matDialog.open(v.V,{width:"1000px",maxHeight:"90vh",data:l,autoFocus:!1});i.afterOpened().subscribe(()=>{const o=i.componentInstance;o.dataSource.data=r,o.paginator&&(o.dataSource.paginator=o.paginator)})})}}return m.\u0275fac=function(l){return new(l||m)(e.Y36(t.qu),e.Y36(n.F0),e.Y36(u.uw),e.Y36(f.e))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-record-serial"]],standalone:!0,features:[e.jDz],decls:44,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Item"],["matInput","","formControlName","Quantity"],["matInput","","formControlName","PickedFrom"],["matInput","","formControlName","SerialsNeeded"],["matInput","","formControlName","Scanned"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","NewSerialNumber","required","","appUppercase","","maxlength","30"],["matInput","","formControlName","serialNumber"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(l,r){1&l&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return r.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Record Serial(s)"),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Item"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Quantity"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Picked From"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Serials Needed"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Scanned"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"h3"),e._uU(32,"\xa0\xa0 Scan To LP/Serial Number"),e.qZA(),e._UZ(33,"hr"),e.TgZ(34,"mat-form-field",13)(35,"mat-label"),e._uU(36,"New Serial"),e.qZA(),e._UZ(37,"input",14),e.qZA(),e.TgZ(38,"mat-form-field",13)(39,"mat-label"),e._uU(40,"Serial"),e.qZA(),e._UZ(41,"input",15),e.qZA()()(),e.TgZ(42,"button",16),e.NdJ("click",function(){return r.updateSerial()}),e._uU(43," Submit "),e.qZA()()()()),2&l&&(e.xp6(8),e.Q6J("formGroup",r.form),e.xp6(34),e.Q6J("disabled",!(r.form.valid&&r.form.dirty)))},dependencies:[p.m,t._Y,t.Fj,t.JJ,t.JL,t.Q7,t.nD,t.sg,t.u,E.Hw,U.lW,h.KE,h.hX,M.Nt,c.a8,c.dk,c.dn,c.n5,C.e]}),m})()}}]);