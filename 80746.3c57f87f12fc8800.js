"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[80746],{80746:(M,y,l)=>{l.r(y),l.d(y,{ReceivablesInvoiceInquiryAIComponent:()=>w});var A=l(98739),u=l(7155),_=l(70879),e=l(94650),U=l(19132),v=l(24006),Z=l(81543),q=l(36895),C=l(97392),P=l(4859),t=l(59549),n=l(44144),o=l(99602),c=l(73546),p=l(10266);function h(i,r){if(1&i){const a=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(a);const m=e.oxw();return e.KtG(m.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function I(i,r){if(1&i){const a=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(a);const m=e.oxw();return e.KtG(m.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function g(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Date"),e.qZA())}function T(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WDATE)}}function b(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Tally Order"),e.qZA())}function R(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WTALLY)}}function D(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Reference Number"),e.qZA())}function O(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WREFNO)}}function S(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Pieces"),e.qZA())}function x(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WPIECE)}}function W(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Weight"),e.qZA())}function $(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WWEIGH)}}function K(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Type"),e.qZA())}function B(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WTYPE)}}function L(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Return Payment Type"),e.qZA())}function Y(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WRTNTP)}}function G(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Consignee"),e.qZA())}function Q(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WCONS)}}function k(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Min"),e.qZA())}function J(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=r.$implicit;e.xp6(1),e.Oqu(a.WMIN)}}function F(i,r){1&i&&e._UZ(0,"tr",51)}function j(i,r){1&i&&e._UZ(0,"tr",52)}const z=function(){return[8,16,24]};let w=(()=>{class i{constructor(a,s,m){this.router=a,this.fb=s,this.RecvSvc=m,this.dataSource=new u.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.headerColumns=["Date","TallyOrder","ReferenceNo","Pieces","Weight","Type","RtnPayTp","Consignee","Min"],this.period="",this.totalAmountDue=0,this.StorerName="",this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({INVNO:{value:this.element.WKINV,disabled:!0},Date:[new Date],Time:[this.formatCurrentTime()],GENDT:"",GENTM:"",CPAG:"1",WKDOCN:""}),this.getInvInquiryAI(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}formatCurrentTime(){const a=new Date;return`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}createFilter(){return(a,s)=>{const m=JSON.parse(s);return Object.keys(m).every(d=>{const E=a[d]?.toString().toLowerCase()||"",f=m[d].toLowerCase();return E.includes(f)})}}ngOnDestroy(){this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe()}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInvInquiryAI(this.pageSize,1)}onPaginateChange(a){this.pageSize=a.pageSize,this.getInvInquiryAI(a.pageSize,a.pageIndex+1)}searchAccessInvInq(){this.searchTextDisplay=1!=this.searchTextDisplay}getInvInquiryAI(a,s){const m=this.currentFilters||{},{WKINVN:d=`${this.element.WKINV}`}=m;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.RecvSvc.FreightInv(this.user,d,a,s).subscribe(E=>{var f=JSON.parse(E[0].data[1]?.value),N=f.returnedData;this.dataSource.data=N,this.period=f.Period,this.totalAmountDue=f["Total Amount Due"],this.loadGeneratedDateTime(N[0].WKGEND),this.StorerName=f.StorerName,this.totalRecords=f.TotalRecords})}loadGeneratedDateTime(a){const s=a.replace('WKGEND":"',"").replace(/"/g,""),m="20"+s.substring(1,3),d=s.substring(3,5),E=s.substring(5,7),f=s.substring(7,9),N=s.substring(9,11);this.form.patchValue({GENDT:new Date(`${m}-${d}-${E}`),GENTM:`${f}:${N}`})}getBySearch(a){this.currentFilters=a,this.paginator.firstPage(),this.getInvInquiryAI(this.pageSize,1)}onBack(){this.router.navigate([this.receivablesUrl])}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(U.F0),e.Y36(v.qu),e.Y36(Z.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-receivables-invoice-inquiry-ai"]],viewQuery:function(a,s){if(1&a&&e.Gf(A.NW,5),2&a){let m;e.iGM(m=e.CRH())&&(s.paginator=m.first)}},standalone:!0,features:[e.jDz],decls:102,vars:20,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","search AccessInvInq",3,"click",4,"ngIf"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","INVNO"],["appearance","outline",1,"full-width2"],["matInput","","readonly","",3,"value"],["matInput","","formControlName","Date",3,"matDatepicker"],["matSuffix","",3,"for"],["DatePicker",""],["matInput","","type","Time","formControlName","Time","placeholder","HH:mm","id","generatedtime","required",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","GENDT",3,"matDatepicker"],["GeneratedDatePicker",""],["matInput","","type","time","formControlName","GENTM","placeholder","HH:mm","id","generatedtime","required",""],["matInput","","formControlName","CPAG"],["matInput","","formControlName","WKDOCN"],["matInput","",3,"value"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","TallyOrder"],["matColumnDef","ReferenceNo"],["matColumnDef","Pieces"],["matColumnDef","Weight"],["matColumnDef","Type"],["matColumnDef","RtnPayTp"],["matColumnDef","Consignee"],["matColumnDef","Min"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","search AccessInvInq",1,"addButton",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,s){if(1&a&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return s.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Accessorial Invoice WorkSheet Inquiry"),e.qZA(),e.TgZ(7,"div",3),e.YNc(8,h,3,0,"button",4),e.YNc(9,I,3,0,"button",5),e.qZA()(),e.TgZ(10,"mat-card-content",6)(11,"form",7)(12,"div",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16," Invoice Number "),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"mat-form-field",12)(19,"mat-label"),e._uU(20,"Period"),e.qZA(),e._UZ(21,"input",13),e.qZA(),e.TgZ(22,"mat-form-field",10)(23,"mat-label"),e._uU(24,"Date "),e.qZA(),e._UZ(25,"input",14)(26,"mat-datepicker-toggle",15)(27,"mat-datepicker",null,16),e.qZA(),e.TgZ(29,"mat-form-field",10)(30,"mat-label"),e._uU(31,"Time"),e.qZA(),e._UZ(32,"input",17),e.qZA(),e.TgZ(33,"div",18)(34,"label",19),e._uU(35,"Generated"),e.qZA(),e.TgZ(36,"div",20)(37,"mat-form-field",10)(38,"mat-label"),e._uU(39,"Generated Date "),e.qZA(),e._UZ(40,"input",21)(41,"mat-datepicker-toggle",15)(42,"mat-datepicker",null,22),e.qZA(),e.TgZ(44,"mat-form-field",10)(45,"mat-label"),e._uU(46,"Generated Time"),e.qZA(),e._UZ(47,"input",23),e.qZA()()(),e.TgZ(48,"mat-form-field",10)(49,"mat-label"),e._uU(50," Page Of "),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Document"),e.qZA(),e._UZ(55,"input",25),e.qZA(),e.TgZ(56,"mat-form-field",12)(57,"mat-label"),e._uU(58," Storer "),e.qZA(),e._UZ(59,"input",26),e.qZA()()(),e.TgZ(60,"button",27),e._uU(61," Search "),e.qZA()()(),e._UZ(62,"br"),e.TgZ(63,"table",28),e.ynx(64,29),e.YNc(65,g,2,0,"th",30),e.YNc(66,T,2,1,"td",31),e.BQk(),e.ynx(67,32),e.YNc(68,b,2,0,"th",30),e.YNc(69,R,2,1,"td",31),e.BQk(),e.ynx(70,33),e.YNc(71,D,2,0,"th",30),e.YNc(72,O,2,1,"td",31),e.BQk(),e.ynx(73,34),e.YNc(74,S,2,0,"th",30),e.YNc(75,x,2,1,"td",31),e.BQk(),e.ynx(76,35),e.YNc(77,W,2,0,"th",30),e.YNc(78,$,2,1,"td",31),e.BQk(),e.ynx(79,36),e.YNc(80,K,2,0,"th",30),e.YNc(81,B,2,1,"td",31),e.BQk(),e.ynx(82,37),e.YNc(83,L,2,0,"th",30),e.YNc(84,Y,2,1,"td",31),e.BQk(),e.ynx(85,38),e.YNc(86,G,2,0,"th",30),e.YNc(87,Q,2,1,"td",31),e.BQk(),e.ynx(88,39),e.YNc(89,k,2,0,"th",30),e.YNc(90,J,2,1,"td",31),e.BQk(),e.YNc(91,F,1,0,"tr",40),e.YNc(92,j,1,0,"tr",41),e.qZA(),e.TgZ(93,"div",42),e._UZ(94,"br")(95,"br"),e.TgZ(96,"div",43)(97,"button",44),e._uU(98),e.ALo(99,"number"),e.qZA()()(),e.TgZ(100,"mat-paginator",45,46),e.NdJ("page",function(d){return s.onPaginateChange(d)}),e.qZA()()),2&a){const m=e.MAs(28),d=e.MAs(43);e.xp6(8),e.Q6J("ngIf",s.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!s.searchTextDisplay),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(10),e.Q6J("value",s.period),e.xp6(4),e.Q6J("matDatepicker",m),e.xp6(1),e.Q6J("for",m),e.xp6(14),e.Q6J("matDatepicker",d),e.xp6(1),e.Q6J("for",d),e.xp6(18),e.Q6J("value",s.StorerName),e.xp6(4),e.Q6J("dataSource",s.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",s.headerColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.headerColumns),e.xp6(6),e.hij(" Total Amount : $",e.xi3(99,16,s.totalAmountDue,"1.2-2")," "),e.xp6(2),e.Q6J("length",s.totalRecords)("pageSizeOptions",e.DdM(19,z))("pageSize",s.pageSize)}},dependencies:[_.m,q.O5,v._Y,v.Fj,v.JJ,v.JL,v.Q7,v.sg,v.u,A.NW,C.Hw,P.lW,t.KE,t.hX,t.R9,n.Nt,o.Mq,o.hl,o.nW,c.a8,c.dk,c.dn,c.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,p.gM,q.JJ]}),i})()},81543:(M,y,l)=>{l.d(y,{Z:()=>q});var A=l(80529),u=l(75625),_=l(70262),e=l(54004),U=l(62843),v=l(92340),Z=l(94650);let q=(()=>{class C{constructor(t){this.httpClient=t,this.url=v.N.API_BASE_URL,this.recal="/Receivables/Recalculate",this.httpHeader={headers:new A.WM({"Content-Type":"application/json"})}}getReceivables(t,n,o,c,p,h,I,g,T,b,R,D,O){return this.httpClient.get(this.url+"/Receivables/read?",{params:{user:t,invoice:n??"",customerNumber:o??"",customerSuffix:c??"",customerSecondSuffix:p??"",refNumber:h??"",startDate:I??"",endDate:g??"",building:T??"",status:b??"",type:R??"",recordsPerPage:D??"",pageNo:O??""}})}getReceivablesDetails(t,n,o){return this.httpClient.get(this.url+`/Receivables/details/read?user=${t}&invoice=${n}&seqNum=${o}`)}getReceivableInquiry(t,n){return this.httpClient.get(this.url+`/Receivables/read/inquiry?user=${t}&invoice=${n}`)}getAdjustmentInquiry(t,n){return this.httpClient.get(this.url+`/Receivables/read/adjInquiry?user=${t}&invoice=${n}`)}getInvoiceInquiry(t,n,o){return this.httpClient.get(this.url+`/Receivables/read/invoiceInquiry?user=${t}&HGCTL=${n}&invoice=${o}`)}getReceivablesAdjustInvoice(){return this.httpClient.get(this.url+"/Receivables/invoiceinquiry")}getAll(t){return this.httpClient.get(this.url+`/Receivables/readAll?user=${t}`)}adjustInvoiceRead(t,n){return this.httpClient.get(this.url+`/Receivables/adjust/read?user=${t}&invoice=${n}`)}adjustInvoiceUpdate(t,n,o,c,p,h,I,g,T,b,R,D){return this.httpClient.put(this.url+"/Receivables/adjust/update",{user:t,invoice:n,sequence:o,date:c,amount:p,description:h,ledgerCode:I,ledgerSubCode:g,customer:T,suffix1:b,suffix2:R,status:D}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}creditinvoice(t,n,o,c,p,h,I,g,T,b){return this.httpClient.put(this.url+"/Receivables/update/credit",{invoiceNumber:t,building:n,date:o,type:c,description:p,customer:h,reference:I,amount:g,balance:T,reason:b}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}getComment(t,n,o,c){return this.httpClient.get(this.url+`/Receivables/comments/read?user=${t}&key=${n}&recordsPerPage=${o}&pageNo=${c}`)}updateComment(t,n,o,c,p,h){return this.httpClient.put(this.url+"/Receivables/comments/update",{user:t,fileID:n,key:o,sub:c,seq:p,comment:h}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}createComment(t,n,o,c,p){return this.httpClient.post(this.url+"/Receivables/comments/create",{user:t,fileID:n,key:o,sub:c,comment:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}deleteComment(t,n,o,c,p){return this.httpClient.delete(this.url+`/Receivables/comments/delete?user=${t}&fileID=${n}&key=${o}&sub=${c}&seq=${p}`)}Print(t,n,o,c,p){return this.httpClient.put(this.url+"/Receivables/Print",{InvoiceNumber:t,ReportType:n,FileExtension:o,EmailAddress:c,user:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}UpdateLedgerCode(t,n,o,c,p,h,I,g){return this.httpClient.put(this.url+"/Receivables/UpdateLedgerCode",{InvoiceNumber:t,SequenceNumber:n,InvoiceDate:o,LineAmount:c,LedgerCode:p,LedgerSubCode:h,BuildingNumber:I,user:g}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}EmailDetail(t,n){return this.httpClient.put(this.url+"/Receivables/Email/Details",{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}EmailDetailsNew(t,n){return this.httpClient.put(this.url+"/Receivables/EmailDetailsNew",{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}Recalculate(t,n){return this.httpClient.put(this.url+this.recal,{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}ReceivingCover(t,n,o){return this.httpClient.put(this.url+"/Receivables/ReceivingCover",{user:t,InvoiceNumber:n,ReturnCode:o}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}MicCover(t,n,o,c,p){return this.httpClient.put(this.url+"/Receivables/MicCover",{user:t,InvoiceNumber:n,StorerNumber:o,StorerSuffix:c,ReturnCode:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}deleteReceivables(t,n){return this.httpClient.delete(this.url+`/Receivables/delete/receivable?invoice=${t}&description=${n}`)}FreightInv(t,n,o,c){return this.httpClient.get(this.url+"/Receivables/read/invoiceInquiry?",{params:{user:t,WKINVN:n??"",recordsPerPage:o??"",pageNo:c??""}})}readReceivablesTallyInquiryService(t,n){return this.httpClient.get(this.url+`/ihcrud/tallyinquiry?user=${t}&tally=${n}`).pipe((0,e.U)(o=>o[0]))}httpError(t){let n="";return n=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(n),(0,U._)(()=>new Error(n))}}return C.\u0275fac=function(t){return new(t||C)(Z.LFG(A.eN))},C.\u0275prov=Z.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()}}]);