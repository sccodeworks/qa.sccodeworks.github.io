"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[5621],{25621:(H,f,r)=>{r.r(f),r.d(f,{ReceivablesInvoiceInquiryRIComponent:()=>z});var g=r(98739),c=r(7155),v=r(70879),e=r(94650),T=r(19132),s=r(24006),R=r(81543),h=r(36895),Z=r(97392),b=r(4859),I=r(59549),y=r(44144),d=r(99602),_=r(73546),q=r(10266);function C(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function D(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function A(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Date"),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WDATE)}}function E(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Tally"),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WTALLY)}}function O(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Reference Number"),e.qZA())}function P(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WREFNO)}}function M(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Pieces"),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WPIECE)}}function S(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Weight"),e.qZA())}function W(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WWEIGH)}}function B(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Type"),e.qZA())}function k(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WTYPE)}}function Y(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Return Payment Type"),e.qZA())}function Q(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WRTNTP)}}function J(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Consignee"),e.qZA())}function K(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WCONS)}}function G(t,i){1&t&&(e.TgZ(0,"th",47),e._uU(1,"Min"),e.qZA())}function L(t,i){if(1&t&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WMIN)}}function $(t,i){1&t&&e._UZ(0,"tr",49)}function F(t,i){1&t&&e._UZ(0,"tr",50)}const w=function(){return[8,16,24]};let z=(()=>{class t{constructor(n,a,o){this.router=n,this.fb=a,this.RecvSvc=o,this.dataSource=new c.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.displayedColumns=["Date","Tally","ReferenceNo","Pieces","Weight","Type","RtnPayTp","Consignee","Min"],this.period="",this.totalAmountDue=0,this.StorerName="",this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({invoiceNumber:{value:this.element.WKINV,disabled:!0},date:[new Date],time:[this.formatCurrentTime()],GENDT:"",GENTM:"",pageOf:"1"}),this.getInvInquiryRI(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}ngOnDestroy(){this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe()}formatCurrentTime(){const n=new Date;return`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`}createFilter(){return(n,a)=>{const o=JSON.parse(a);return Object.keys(o).every(l=>{const m=n[l]?.toString().toLowerCase()||"",u=o[l].toLowerCase();return m.includes(u)})}}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInvInquiryRI(this.pageSize,1)}getInvInquiryRI(n,a){const o=this.currentFilters||{},{WKINVN:l=`${this.element.WKINV}`}=o;this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe(),this.invoiceInquirySubscription=this.RecvSvc.FreightInv(this.user,l,n,a).subscribe(m=>{var u=JSON.parse(m[0].data[1]?.value),p=u.returnedData;this.dataSource.data=p,this.period=u.Period,this.totalAmountDue=u["Total Amount Due"],this.loadGeneratedDateTime(p[0].WKGEND),this.StorerName=u.StorerName,this.totalRecords=u.TotalRecords})}loadGeneratedDateTime(n){const a=n.replace('WKGEND":"',"").replace(/"/g,""),o="20"+a.substring(1,3),l=a.substring(3,5),m=a.substring(5,7),u=a.substring(7,9),p=a.substring(9,11);this.form.patchValue({GENDT:new Date(`${o}-${l}-${m}`),GENTM:`${u}:${p}`})}getBySearch(n){this.currentFilters=n,this.paginator.firstPage(),this.getInvInquiryRI(this.pageSize,1)}searchAccessInvInq(){this.searchTextDisplay=1!=this.searchTextDisplay}onPaginateChange(n){this.pageSize=n.pageSize,this.getInvInquiryRI(n.pageSize,n.pageIndex+1)}onBack(){this.router.navigate([this.receivablesUrl])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(T.F0),e.Y36(s.qu),e.Y36(R.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-receivables-invoice-inquiry-ri"]],viewQuery:function(n,a){if(1&n&&e.Gf(g.NW,5),2&n){let o;e.iGM(o=e.CRH())&&(a.paginator=o.first)}},standalone:!0,features:[e.jDz],decls:96,vars:20,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","search AccessInvInq",3,"click",4,"ngIf"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","invoiceNumber"],["appearance","outline",1,"full-width2"],["readonly","","matInput","","readonly","",3,"value"],["readonly","","matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["datePicker",""],["readonly","","matInput","","type","Time","formControlName","time","placeholder","HH:mm","id","generatedtime"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["readonly","","matInput","","formControlName","GENDT",3,"matDatepicker"],["GeneratedDatePicker",""],["readonly","","matInput","","type","time","formControlName","GENTM","placeholder","HH:mm","id","generatedtime","required",""],["matInput","","formControlName","pageOf"],["readonly","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tally"],["matColumnDef","ReferenceNo"],["matColumnDef","Pieces"],["matColumnDef","Weight"],["matColumnDef","Type"],["matColumnDef","RtnPayTp"],["matColumnDef","Consignee"],["matColumnDef","Min"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","search AccessInvInq",1,"addButton",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return a.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Receiving Invoice Worksheet Inquiry "),e.qZA(),e.TgZ(7,"div",3),e.YNc(8,C,3,0,"button",4),e.YNc(9,D,3,0,"button",5),e.qZA()(),e.TgZ(10,"mat-card-content",6)(11,"form",7)(12,"div",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16," Invoice Number "),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"mat-form-field",12)(19,"mat-label"),e._uU(20,"Period"),e.qZA(),e._UZ(21,"input",13),e.qZA(),e.TgZ(22,"mat-form-field",10)(23,"mat-label"),e._uU(24,"date "),e.qZA(),e._UZ(25,"input",14)(26,"mat-datepicker-toggle",15)(27,"mat-datepicker",null,16),e.qZA(),e.TgZ(29,"mat-form-field",10)(30,"mat-label"),e._uU(31,"Time"),e.qZA(),e._UZ(32,"input",17),e.qZA(),e.TgZ(33,"div",18)(34,"label",19),e._uU(35,"Generated"),e.qZA(),e.TgZ(36,"div",20)(37,"mat-form-field",10)(38,"mat-label"),e._uU(39,"Generated Date "),e.qZA(),e._UZ(40,"input",21)(41,"mat-datepicker-toggle",15)(42,"mat-datepicker",null,22),e.qZA(),e.TgZ(44,"mat-form-field",10)(45,"mat-label"),e._uU(46,"Generated Time"),e.qZA(),e._UZ(47,"input",23),e.qZA()()(),e.TgZ(48,"mat-form-field",10)(49,"mat-label"),e._uU(50," Page Of "),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"mat-form-field",12)(53,"mat-label"),e._uU(54," Storer "),e.qZA(),e._UZ(55,"input",25),e.qZA()()()()(),e._UZ(56,"br"),e.TgZ(57,"table",26),e.ynx(58,27),e.YNc(59,A,2,0,"th",28),e.YNc(60,N,2,1,"td",29),e.BQk(),e.ynx(61,30),e.YNc(62,E,2,0,"th",28),e.YNc(63,U,2,1,"td",29),e.BQk(),e.ynx(64,31),e.YNc(65,O,2,0,"th",28),e.YNc(66,P,2,1,"td",29),e.BQk(),e.ynx(67,32),e.YNc(68,M,2,0,"th",28),e.YNc(69,x,2,1,"td",29),e.BQk(),e.ynx(70,33),e.YNc(71,S,2,0,"th",28),e.YNc(72,W,2,1,"td",29),e.BQk(),e.ynx(73,34),e.YNc(74,B,2,0,"th",28),e.YNc(75,k,2,1,"td",29),e.BQk(),e.ynx(76,35),e.YNc(77,Y,2,0,"th",28),e.YNc(78,Q,2,1,"td",29),e.BQk(),e.ynx(79,36),e.YNc(80,J,2,0,"th",28),e.YNc(81,K,2,1,"td",29),e.BQk(),e.ynx(82,37),e.YNc(83,G,2,0,"th",28),e.YNc(84,L,2,1,"td",29),e.BQk(),e.YNc(85,$,1,0,"tr",38),e.YNc(86,F,1,0,"tr",39),e.qZA(),e.TgZ(87,"div",40),e._UZ(88,"br")(89,"br"),e.TgZ(90,"div",41)(91,"button",42),e._uU(92),e.ALo(93,"number"),e.qZA()()(),e.TgZ(94,"mat-paginator",43,44),e.NdJ("page",function(l){return a.onPaginateChange(l)}),e.qZA()()),2&n){const o=e.MAs(28),l=e.MAs(43);e.xp6(8),e.Q6J("ngIf",a.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!a.searchTextDisplay),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(10),e.Q6J("value",a.period),e.xp6(4),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(14),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(14),e.Q6J("value",a.StorerName),e.xp6(2),e.Q6J("dataSource",a.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(6),e.hij(" Total Amount : $",e.xi3(93,16,a.totalAmountDue,"1.2-2")," "),e.xp6(2),e.Q6J("length",a.totalRecords)("pageSizeOptions",e.DdM(19,w))("pageSize",a.pageSize)}},dependencies:[v.m,h.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,g.NW,Z.Hw,b.lW,I.KE,I.hX,I.R9,y.Nt,d.Mq,d.hl,d.nW,_.a8,_.dk,_.dn,_.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,q.gM,h.JJ]}),t})()}}]);