"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3729,1790,8754,5645,2313],{11790:(N,I,s)=>{s.d(I,{y:()=>e});var p=s(65412),m=s(94650),h=s(97392),b=s(4859);let v=(()=>{class u{constructor(d,Z){this.dialogRef=d,this.data=Z}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return u.\u0275fac=function(d){return new(d||u)(m.Y36(p.so),m.Y36(p.WI))},u.\u0275cmp=m.Xpm({type:u,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(d,Z){1&d&&(m.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),m.NdJ("click",function(){return Z.closeDialog()}),m._uU(3,"close "),m.qZA(),m.TgZ(4,"span",3),m._uU(5),m.qZA()(),m.TgZ(6,"button",4),m._uU(7,"Cancel"),m.qZA(),m.TgZ(8,"button",5),m._uU(9,"Delete"),m.qZA()()),2&d&&(m.xp6(5),m.Oqu(Z.data.message),m.xp6(1),m.Q6J("mat-dialog-close",!1),m.xp6(2),m.Q6J("mat-dialog-close",!0))},dependencies:[h.Hw,b.lW,p.ZT]}),u})(),e=(()=>{class u{constructor(d){this.dialog=d}openCustomAlert(d){return this.dialog.open(v,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:d}})}}return u.\u0275fac=function(d){return new(d||u)(m.LFG(p.uw))},u.\u0275prov=m.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},3729:(N,I,s)=>{s.r(I),s.d(I,{GeneralInvoicesComponent:()=>_e});var p=s(7155),m=s(70879),h=s(65412),b=s(35226),v=s.n(b),e=s(94650),u=s(19132),l=s(24006),d=s(20025),Z=s(97392),T=s(4859),g=s(59549),G=s(44144),S=s(84385),q=s(3238),f=s(73546);let H=(()=>{class n{constructor(t,o,i,r,c,_){this.router=t,this.fb=o,this.route=i,this.GeneralInvoicesSvc=r,this.anyvariable=c,this.dialogRef=_,this.user=localStorage.getItem("userName")}ngOnInit(){const t=(new Date).toISOString().split("T")[0];this.form=this.fb.group({HGCUST:"",HGCSFX:"",HGCSF2:"",HGBLDG:"",HGBCST:"",HGBSFX:"",HGBSF2:"",HDATE:[t],HGTYPE:"",HGAMT:"",HGREF:"",HGCAR:"",HGDESC:""})}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}createGeneralInvoices(){var t=this.form.value;console.log(t),this.GeneralInvoicesSvc.createGeneralInvoices(this.user,t.HGCUST,t.HGCSFX,t.HGCSF2,t.HGBLDG,t.HGBCST,t.HGBSFX,t.HGBSF2,t.HDATE,t.HGTYPE,t.HGAMT,t.HGREF,t.HGCAR,t.HGDESC).subscribe(o=>{this.result=o,console.log(this.result);const r=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;"Record Created Successfully"===r?(this.successMessage(r),this.closeDialog(),this.router.navigate(["/main-nav/generalInvoice/read"])):this.failureMessage(r)})}successMessage(t){v().fire(t,"","success")}failureMessage(t){v().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(l.qu),e.Y36(u.gz),e.Y36(d.m),e.Y36(h.WI),e.Y36(h.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-general-invoice"]],standalone:!0,features:[e.jDz],decls:86,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"full-width"],["matInput","","required","","formControlName","HGCUST"],["matInput","","formControlName","HGCSFX"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","HGCSF2"],["matInput","","required","","formControlName","HGBLDG"],["matInput","","formControlName","HGBCST"],["matInput","","formControlName","HGBSFX"],["matInput","","formControlName","HGBSF2"],["type","date","matInput","","formControlName","HDATE"],["formControlName","HGTYPE"],["value",""],["value","GI"],["value","MI"],["value","AI"],["value","SI"],["value","FI"],["matInput","","formControlName","HGAMT"],["matInput","","formControlName","HGREF"],["matInput","","formControlName","HGCAR"],["matInput","","formControlName","HGDESC"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"General Invoice Entry"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),e._uU(14,"Customer"),e.qZA(),e.TgZ(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Customer"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Customer Suffix"),e.qZA(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"mat-form-field",14)(25,"mat-label"),e._uU(26,"Secondary Customer Suffix"),e.qZA(),e._UZ(27,"input",15),e.qZA()()(),e.TgZ(28,"mat-form-field",11)(29,"mat-label"),e._uU(30,"Building "),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"div",8)(33,"label",9),e._uU(34,"Bill-to Customer"),e.qZA(),e.TgZ(35,"div",10)(36,"mat-form-field",11)(37,"mat-label"),e._uU(38,"Bill-to Customer"),e.qZA(),e._UZ(39,"input",17),e.qZA(),e.TgZ(40,"mat-form-field",11)(41,"mat-label"),e._uU(42,"Customer Suffix"),e.qZA(),e._UZ(43,"input",18),e.qZA(),e.TgZ(44,"mat-form-field",14)(45,"mat-label"),e._uU(46,"Secondary Customer Suffix"),e.qZA(),e._UZ(47,"input",19),e.qZA()()(),e.TgZ(48,"mat-form-field",11)(49,"mat-label"),e._uU(50,"Invoice Date"),e.qZA(),e._UZ(51,"input",20),e.qZA(),e.TgZ(52,"mat-form-field",11)(53,"mat-label"),e._uU(54,"Type"),e.qZA(),e.TgZ(55,"mat-select",21)(56,"mat-option",22),e._uU(57,"-- Select --"),e.qZA(),e.TgZ(58,"mat-option",23),e._uU(59,"GI = General Invoice"),e.qZA(),e.TgZ(60,"mat-option",24),e._uU(61,"MI = MiscellaneousInvoice"),e.qZA(),e.TgZ(62,"mat-option",25),e._uU(63,"AI = AccessorialInvoice"),e.qZA(),e.TgZ(64,"mat-option",26),e._uU(65,"SI = StorageInvoice"),e.qZA(),e.TgZ(66,"mat-option",27),e._uU(67,"FI = FreightInvoice"),e.qZA()()(),e.TgZ(68,"mat-form-field",11)(69,"mat-label"),e._uU(70,"Amount"),e.qZA(),e._UZ(71,"input",28),e.qZA(),e.TgZ(72,"mat-form-field",11)(73,"mat-label"),e._uU(74,"Reference Number "),e.qZA(),e._UZ(75,"input",29),e.qZA(),e.TgZ(76,"mat-form-field",11)(77,"mat-label"),e._uU(78,"Car/Trailer Number"),e.qZA(),e._UZ(79,"input",30),e.qZA(),e.TgZ(80,"mat-form-field",11)(81,"mat-label"),e._uU(82,"Description"),e.qZA(),e._UZ(83,"input",31),e.qZA()()(),e.TgZ(84,"button",32),e.NdJ("click",function(){return o.createGeneralInvoices()}),e._uU(85," Add "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[m.m,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,Z.Hw,T.lW,g.KE,g.hX,G.Nt,S.gD,q.ey,f.a8,f.dk,f.dn,f.n5]}),n})();var C=s(99602);let x=(()=>{class n{constructor(t,o,i,r,c,_){this.router=t,this.fb=o,this.route=i,this.GeneralInvoicesSvc=r,this.anyvariable=c,this.dialogRef=_,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({HGCUST:this.anyvariable.WKCUST,HGCSFX:this.anyvariable.HGCSFX,HGCSF2:this.anyvariable.HGCSF2,HGBLDG:this.anyvariable.HGBLDG,HGBCST:this.anyvariable.HGBCST,HGBSFX:this.anyvariable.HGBSFX,HGBSF2:this.anyvariable.HGBSF2,HDATE:this.anyvariable.WKDATE,HGTYPE:this.anyvariable.HGTYPE,HGAMT:this.anyvariable.WKAMT,HGREF:this.anyvariable.WKREF,HGCAR:this.anyvariable.WKCAR,HGDESC:this.anyvariable.HGDESC})}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}updateGeneralInvoices(){var t=this.form.value;console.log(t),this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.GeneralInvoicesSvc.updateGeneralInvoices(this.user,this.anyvariable.WKCTRL,t.HGCUST,"","",t.HGBLDG,t.HGBCST,"","",t.HDATE,t.HGTYPE,t.HGAMT,t.HGREF,t.HGCAR,t.HGDESC).subscribe(o=>{this.result=o,console.log(this.result);const r=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;if("Record Updated Successfully"===r)this.successMessage(r),this.closeDialog(),this.router.navigate(["/main-nav/generalInvoice/read"]);else{const c=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(c)}})}successMessage(t){v().fire(t,"","success")}failureMessage(t){v().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(l.qu),e.Y36(u.gz),e.Y36(d.m),e.Y36(h.WI),e.Y36(h.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-general-invoice"]],standalone:!0,features:[e.jDz],decls:89,vars:3,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"full-width"],["matInput","","required","","formControlName","HGCUST"],["matInput","","formControlName","HGCSFX"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","HGCSF2"],["matInput","","formControlName","HGBLDG"],["matInput","","formControlName","HGBCST"],["matInput","","formControlName","HGBSFX"],["matInput","","formControlName","HGBSF2"],["matInput","","formControlName","HDATE",3,"matDatepicker"],["matSuffix","",3,"for"],["InvoiceDatePicker",""],["formControlName","HGTYPE"],["value",""],["value","GI"],["value","MI"],["value","AI"],["value","SI"],["value","FI"],["matInput","","formControlName","HGAMT"],["matInput","","formControlName","HGREF"],["matInput","","formControlName","HGCAR"],["matInput","","formControlName","HGDESC"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"General Invoice Entry"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),e._uU(14,"Customer"),e.qZA(),e.TgZ(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Customer"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",11)(21,"mat-label"),e._uU(22,"Customer Suffix"),e.qZA(),e._UZ(23,"input",13),e.qZA(),e.TgZ(24,"mat-form-field",14)(25,"mat-label"),e._uU(26,"Secondary Customer Suffix"),e.qZA(),e._UZ(27,"input",15),e.qZA()()(),e.TgZ(28,"mat-form-field",11)(29,"mat-label"),e._uU(30,"Building "),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"div",8)(33,"label",9),e._uU(34,"Bill-to Customer"),e.qZA(),e.TgZ(35,"div",10)(36,"mat-form-field",11)(37,"mat-label"),e._uU(38,"Bill-to Customer"),e.qZA(),e._UZ(39,"input",17),e.qZA(),e.TgZ(40,"mat-form-field",11)(41,"mat-label"),e._uU(42,"Customer Suffix"),e.qZA(),e._UZ(43,"input",18),e.qZA(),e.TgZ(44,"mat-form-field",14)(45,"mat-label"),e._uU(46,"Secondary Customer Suffix"),e.qZA(),e._UZ(47,"input",19),e.qZA()()(),e.TgZ(48,"mat-form-field",11)(49,"mat-label"),e._uU(50,"Invoice Date"),e.qZA(),e._UZ(51,"input",20)(52,"mat-datepicker-toggle",21)(53,"mat-datepicker",null,22),e.qZA(),e.TgZ(55,"mat-form-field",11)(56,"mat-label"),e._uU(57,"Type"),e.qZA(),e.TgZ(58,"mat-select",23)(59,"mat-option",24),e._uU(60,"-- Select --"),e.qZA(),e.TgZ(61,"mat-option",25),e._uU(62,"GI = General Invoice"),e.qZA(),e.TgZ(63,"mat-option",26),e._uU(64,"MI = MiscellaneousInvoice"),e.qZA(),e.TgZ(65,"mat-option",27),e._uU(66,"AI = AccessorialInvoice"),e.qZA(),e.TgZ(67,"mat-option",28),e._uU(68,"SI = StorageInvoice"),e.qZA(),e.TgZ(69,"mat-option",29),e._uU(70,"FI = FreightInvoice"),e.qZA()()(),e.TgZ(71,"mat-form-field",11)(72,"mat-label"),e._uU(73,"Amount"),e.qZA(),e._UZ(74,"input",30),e.qZA(),e.TgZ(75,"mat-form-field",11)(76,"mat-label"),e._uU(77,"Reference Number "),e.qZA(),e._UZ(78,"input",31),e.qZA(),e.TgZ(79,"mat-form-field",11)(80,"mat-label"),e._uU(81,"Car/Trailer Number"),e.qZA(),e._UZ(82,"input",32),e.qZA(),e.TgZ(83,"mat-form-field",11)(84,"mat-label"),e._uU(85,"Description"),e.qZA(),e._UZ(86,"input",33),e.qZA()()(),e.TgZ(87,"button",34),e.NdJ("click",function(){return o.updateGeneralInvoices()}),e._uU(88," Update "),e.qZA()()()()),2&t){const i=e.MAs(54);e.xp6(9),e.Q6J("formGroup",o.form),e.xp6(42),e.Q6J("matDatepicker",i),e.xp6(1),e.Q6J("for",i)}},dependencies:[m.m,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.sg,l.u,Z.Hw,T.lW,g.KE,g.hX,g.R9,G.Nt,S.gD,q.ey,C.Mq,C.hl,C.nW,f.a8,f.dk,f.dn,f.n5]}),n})();var F=s(11790);let E=(()=>{class n{constructor(t,o,i,r,c,_){this.fb=t,this.router=o,this.CustomAlertService=i,this.GeneralInvoicesSvc=r,this.anyvariable=c,this.dialogRef=_,this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({WKCTRL:this.anyvariable.WKCTRL,HGBLDG:this.anyvariable.HGBLDG,WKDATE:this.anyvariable.WKDATE,WKAMT:this.anyvariable.WKAMT,HGTYPE:this.anyvariable.HGTYPE,WKCUST:this.anyvariable.WKCUST,WKREF:this.anyvariable.WKREF,WKCAR:this.anyvariable.WKCAR,HGDESC:this.anyvariable.HGDESC})}ngOnDestroy(){this.deleteGISubscription&&this.deleteGISubscription.unsubscribe()}deleteGeneralInvoices(){console.log(this.form.value),this.CustomAlertService.openCustomAlert("Are you sure want to delete this General Invoice?").afterClosed().subscribe(i=>{i&&(this.deleteGISubscription&&this.deleteGISubscription.unsubscribe(),this.deleteGISubscription=this.GeneralInvoicesSvc.deleteGeneralInvoices(this.anyvariable.WKCTRL).subscribe(r=>{this.result=r,console.log(this.result);const c=r[0].data[r[0].data.length-1].value;"DELETED SUCCESSFULLY"===c?(this.successMessage(c),this.closeDialog(),this.router.navigate(["/main-nav/generalInvoice/read"])):this.failureMessage(r[0].data[r[0].data.length-1].value)}))})}successMessage(t){v().fire(t,"","success")}failureMessage(t){v().fire(t,"","error"),this.router.navigate(["/main-nav/generalInvoice/read"])}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(u.F0),e.Y36(F.y),e.Y36(d.m),e.Y36(h.WI),e.Y36(h.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-general-invoice"]],standalone:!0,features:[e.jDz],decls:50,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","readonly","","formControlName","WKCTRL"],["matInput","","readonly","","formControlName","HGBLDG"],["matInput","","readonly","","formControlName","WKDATE"],["matInput","","readonly","","formControlName","WKAMT"],["matInput","","readonly","","formControlName","HGTYPE",2,"text-transform","uppercase"],["matInput","","readonly","","formControlName","WKCUST"],["matInput","","readonly","","formControlName","WKREF",2,"text-transform","uppercase"],["matInput","","readonly","","formControlName","WKCAR",2,"text-transform","uppercase"],["matInput","","readonly","","formControlName","HGDESC"],["mat-button","",1,"buttons","removeButton",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Delete a General Invoice"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return o.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Control Number"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Building "),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",8)(21,"mat-label"),e._uU(22,"Invoice Date"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"mat-form-field",8)(25,"mat-label"),e._uU(26,"Amount"),e.qZA(),e._UZ(27,"input",12),e.qZA(),e.TgZ(28,"mat-form-field",8)(29,"mat-label"),e._uU(30,"Invoice Type"),e.qZA(),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"mat-form-field",8)(33,"mat-label"),e._uU(34,"Customer"),e.qZA(),e._UZ(35,"input",14),e.qZA(),e.TgZ(36,"mat-form-field",8)(37,"mat-label"),e._uU(38,"Reference Number "),e.qZA(),e._UZ(39,"input",15),e.qZA(),e.TgZ(40,"mat-form-field",8)(41,"mat-label"),e._uU(42,"Car/Trailer "),e.qZA(),e._UZ(43,"input",16),e.qZA(),e.TgZ(44,"mat-form-field",8)(45,"mat-label"),e._uU(46,"Description"),e.qZA(),e._UZ(47,"input",17),e.qZA()()(),e.TgZ(48,"button",18),e.NdJ("click",function(){return o.deleteGeneralInvoices()}),e._uU(49,"Delete"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",o.form))},dependencies:[m.m,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,Z.Hw,T.lW,g.KE,g.hX,G.Nt,f.a8,f.dk,f.dn,f.n5]}),n})();var B=s(48529),U=s(36895),R=s(98739),D=s(28255),Y=s(10266),w=s(90455);const k=["paginator"];function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchGeneralInvoices())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function J(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",35)(2,"div",36)(3,"span",37),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(4,"mat-slide-toggle",38),e.NdJ("ngModelChange",function(i){const c=e.CHM(t).$implicit;return e.KtG(c.isActive=i)})("change",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toggleColumn(r))}),e._uU(5),e.qZA()()()(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(4),e.Q6J("ngModel",t.isActive),e.xp6(1),e.hij(" ",t.name," ")}}function L(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.searchGeneralInvoices())}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"form",40)(1,"div",35)(2,"div",41)(3,"mat-form-field",42)(4,"mat-label"),e._uU(5,"Control "),e.qZA(),e._UZ(6,"input",43),e.qZA(),e.TgZ(7,"div",44)(8,"label",45),e._uU(9,"Customer"),e.qZA(),e.TgZ(10,"div",46)(11,"mat-form-field",42)(12,"mat-label"),e._uU(13,"Customer Code"),e.qZA(),e._UZ(14,"input",47),e.qZA(),e.TgZ(15,"mat-form-field",42)(16,"mat-label"),e._uU(17,"Customer Suffix"),e.qZA(),e._UZ(18,"input",48),e.qZA(),e.TgZ(19,"mat-form-field",49)(20,"mat-label"),e._uU(21,"Customer Secondary suffix"),e.qZA(),e._UZ(22,"input",50),e.qZA()()(),e._UZ(23,"br"),e.TgZ(24,"div",44)(25,"label",45),e._uU(26,"Date"),e.qZA(),e.TgZ(27,"div",46)(28,"mat-form-field",42)(29,"mat-label"),e._uU(30,"Start Date"),e.qZA(),e._UZ(31,"input",51)(32,"mat-datepicker-toggle",52)(33,"mat-datepicker",null,53),e.qZA(),e.TgZ(35,"mat-form-field",42)(36,"mat-label"),e._uU(37,"End Date"),e.qZA(),e._UZ(38,"input",54)(39,"mat-datepicker-toggle",52)(40,"mat-datepicker",null,55),e.qZA()()(),e.TgZ(42,"mat-form-field",42)(43,"mat-label"),e._uU(44,"Invoice "),e.qZA(),e._UZ(45,"input",56),e.qZA(),e.TgZ(46,"mat-form-field",42)(47,"mat-label"),e._uU(48,"Reference Number "),e.qZA(),e._UZ(49,"input",57),e.qZA(),e.TgZ(50,"mat-form-field",42)(51,"mat-label"),e._uU(52,"Building "),e.qZA(),e._UZ(53,"input",58),e.qZA(),e.TgZ(54,"mat-form-field",42)(55,"mat-label"),e._uU(56,"Status "),e.qZA(),e._UZ(57,"input",59),e.qZA()()(),e.TgZ(58,"button",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.getGIBySearch(i.form.value))}),e._uU(59," Search "),e.qZA()()}if(2&n){const t=e.MAs(34),o=e.MAs(41),i=e.oxw();e.Q6J("formGroup",i.form),e.xp6(31),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t),e.xp6(6),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o)}}function W(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1,"Control Number "),e.qZA())}function Q(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKCTRL," ")}}function O(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Status "),e.qZA())}function P(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.WKSTAT)}}function X(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1,"Type "),e.qZA())}function z(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.HGTYPE," ")}}function j(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Customer "),e.qZA())}function $(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKCUST," ")}}function V(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Invoice Date "),e.qZA())}function ee(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKDATE," ")}}function te(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Invoice Amount "),e.qZA())}function ne(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.WKAMT,"1.2-2")," ")}}function oe(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Invoice Number "),e.qZA())}function ae(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKINV," ")}}function ie(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Reference Number "),e.qZA())}function le(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKREF," ")}}function re(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Car/Tr Number "),e.qZA())}function se(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.WKCAR," ")}}function me(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Description "),e.qZA())}function ce(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.HGDESC," ")}}function ue(n,a){1&n&&(e.TgZ(0,"th",61),e._uU(1," Building "),e.qZA())}function pe(n,a){if(1&n&&(e.TgZ(0,"td",62),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.HGBLDG," ")}}function de(n,a){1&n&&e._UZ(0,"th",63)}function fe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",62)(1,"div",64)(2,"button",65)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"ul",66)(6,"li")(7,"button",67),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.invoiceUpdate(r))}),e.TgZ(8,"mat-icon",68),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Change"),e.qZA()()(),e.TgZ(12,"li")(13,"button",67),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.invoiceDetails(r))}),e.TgZ(14,"mat-icon",68),e._uU(15,"list_alt"),e.qZA(),e.TgZ(16,"mat-label"),e._uU(17,"Details"),e.qZA()()(),e.TgZ(18,"li")(19,"button",69),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.inquiry(r))}),e.TgZ(20,"mat-icon",68),e._uU(21,"call_made"),e.qZA(),e.TgZ(22,"mat-label"),e._uU(23,"Inquiry"),e.qZA()()(),e.TgZ(24,"li")(25,"button",67),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.invoiceDelete(r))}),e.TgZ(26,"mat-icon",70),e._uU(27,"delete"),e.qZA(),e.TgZ(28,"mat-label"),e._uU(29,"Delete"),e.qZA()()()()()()}}function ge(n,a){1&n&&e._UZ(0,"tr",71)}function he(n,a){1&n&&e._UZ(0,"tr",72)}const Ze=function(){return[8,16,24]};let _e=(()=>{class n{constructor(t,o,i,r){this.router=t,this.matDialog=o,this.fb=i,this.generalInvoicesService=r,this.BASE_ROUTE="/main-nav/generalInvoice",this.INITIAL_PAGE=1,this.DEFAULT_PAGE_SIZE=8,this.displayedColumns=["ControlNumber","Status","Type","Customer","InvoiceDate","InvoiceAmount","InvoiceNumber","Actions"],this.user=localStorage.getItem("userName"),this.searchTextDisplay=!1,this.selectedRow=[],this.editedRows=[],this.dataSource=new p.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.columnShowHideList=[]}ngOnInit(){this.form=this.fb.group({CTRL:"",CUST:"",CSFX:"",CSF2:"",SDAT:"",EDAT:"",INV:"",REF:"",BLDG:"",HGSTAT:""}),this.initializeColumnProperties(),this.editedRows=[],this.getGeneralInvoices(this.pageSize,this.INITIAL_PAGE)}ngOnDestroy(){this.generalInvoiceSubscription&&this.generalInvoiceSubscription.unsubscribe()}searchGeneralInvoices(){this.searchTextDisplay=1!=this.searchTextDisplay}getGIBySearch(t){this.currentFilters=t,this.paginator.firstPage(),this.getGeneralInvoices(this.pageSize,this.INITIAL_PAGE)}onPaginateChange(t){this.pageSize=t.pageSize,this.getGeneralInvoices(t.pageSize,t.pageIndex+this.INITIAL_PAGE)}toggleColumn(t){if(t.isActive)t.position>this.displayedColumns.length-1?this.displayedColumns.push(t.name):this.displayedColumns.splice(t.position,0,t.name);else{let o=this.displayedColumns.indexOf(t.name);o>-1&&this.displayedColumns.splice(o,1)}}initializeColumnProperties(){this.displayedColumns.forEach((t,o)=>{"Actions"!=t&&this.columnShowHideList.push({position:o,name:t,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"ReferenceNumber",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"Car/TrNumber",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Description",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"Building",isActive:!1}),console.log(this.columnShowHideList)}rowClick(t){this.selectedRow=t}getGeneralInvoices(t,o){const i=this.currentFilters||{},{CTRL:r="",CUST:c="",CSFX:_="",CSF2:ve="",SDAT:Ce="",EDAT:Te="",INV:Ae="",REF:Ie="",BLDG:Ge="",HGSTAT:be=""}=i;this.generalInvoiceSubscription&&this.generalInvoiceSubscription.unsubscribe(),this.generalInvoiceSubscription=this.generalInvoicesService.getGeneralInvoices(this.user,r,c,_,ve,Ce,Te,Ae,Ie,B.R.fullBuilding(Ge),be,t,o).subscribe(Ue=>{const y=Ue?.[0]?.data?.[1]?.value;if(y)try{const A=JSON.parse(y);A?.returnedData?(this.duplicateSource=A.returnedData,this.dataSource=new p.by(this.duplicateSource),this.totalRecords=A.TotalRecords||0):console.error("Returned data is undefined or null.")}catch(A){console.error("Error parsing response data:",A)}else console.error("Error fetching General Invoices")})}inquiry(t){this.router.navigateByUrl(`${this.BASE_ROUTE}/inquiry`,{state:t})}invoiceCreate(){this.matDialog.open(H,{width:"950px",height:"auto",maxHeight:"95vh",autoFocus:!1})}invoiceUpdate(t){this.matDialog.open(x,{width:"950px",height:"auto",maxHeight:"95vh",data:t,autoFocus:!1})}invoiceDelete(t){this.matDialog.open(E,{width:"950px",height:"auto",maxHeight:"95vh",data:t,autoFocus:!1})}invoiceDetails(t){this.router.navigateByUrl("/main-nav/generalInvoiceDetails/read",{state:t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(h.uw),e.Y36(l.qu),e.Y36(d.m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-general-invoices"]],viewQuery:function(t,o){if(1&t&&e.Gf(k,5),2&t){let i;e.iGM(i=e.CRH())&&(o.paginator=i.first)}},standalone:!0,features:[e.jDz],decls:61,vars:12,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","class","addButton","matTooltip","Search General Invoices",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add General Invoices",1,"addButton",3,"click"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[3,"formGroup",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ControlNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Type"],["matColumnDef","Customer"],["matColumnDef","InvoiceDate"],["matColumnDef","InvoiceAmount"],["matColumnDef","InvoiceNumber"],["matColumnDef","ReferenceNumber"],["matColumnDef","Car/TrNumber"],["matColumnDef","Description"],["matColumnDef","Building"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],[1,"row"],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-button","","matTooltip","Search General Invoices",1,"addButton",3,"click"],[3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","CTRL"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","CUST"],["matInput","","formControlName","CSFX"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","CSF2"],["matInput","","formControlName","SDAT",3,"matDatepicker"],["matSuffix","",3,"for"],["StartDatePicker",""],["matInput","","formControlName","EDAT",3,"matDatepicker"],["EndDatePicker",""],["matInput","","formControlName","INV"],["matInput","","formControlName","REF"],["matInput","","formControlName","BLDG"],["matInput","","formControlName","HGSTAT"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn",3,"click"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",1,"dropdown-item",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3," Work With General Invoices "),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,M,3,0,"button",3),e.TgZ(6,"mat-menu",4,5)(8,"div",6),e.YNc(9,J,6,2,"ng-container",7),e.qZA()(),e.YNc(10,L,3,0,"button",8),e.TgZ(11,"button",9),e.NdJ("click",function(){return o.invoiceCreate()}),e.TgZ(12,"mat-icon"),e._uU(13,"add"),e.qZA()(),e.TgZ(14,"button",10,11)(16,"mat-icon"),e._uU(17,"visibility_off"),e.qZA()()()(),e.TgZ(18,"mat-card-content",12),e.YNc(19,K,60,5,"form",13),e.qZA(),e.TgZ(20,"table",14),e.ynx(21,15),e.YNc(22,W,2,0,"th",16),e.YNc(23,Q,2,1,"td",17),e.BQk(),e.ynx(24,18),e.YNc(25,O,2,0,"th",16),e.YNc(26,P,2,1,"td",17),e.BQk(),e.ynx(27,19),e.YNc(28,X,2,0,"th",16),e.YNc(29,z,2,1,"td",17),e.BQk(),e.ynx(30,20),e.YNc(31,j,2,0,"th",16),e.YNc(32,$,2,1,"td",17),e.BQk(),e.ynx(33,21),e.YNc(34,V,2,0,"th",16),e.YNc(35,ee,2,1,"td",17),e.BQk(),e.ynx(36,22),e.YNc(37,te,2,0,"th",16),e.YNc(38,ne,3,4,"td",17),e.BQk(),e.ynx(39,23),e.YNc(40,oe,2,0,"th",16),e.YNc(41,ae,2,1,"td",17),e.BQk(),e.ynx(42,24),e.YNc(43,ie,2,0,"th",16),e.YNc(44,le,2,1,"td",17),e.BQk(),e.ynx(45,25),e.YNc(46,re,2,0,"th",16),e.YNc(47,se,2,1,"td",17),e.BQk(),e.ynx(48,26),e.YNc(49,me,2,0,"th",16),e.YNc(50,ce,2,1,"td",17),e.BQk(),e.ynx(51,27),e.YNc(52,ue,2,0,"th",16),e.YNc(53,pe,2,1,"td",17),e.BQk(),e.ynx(54,28),e.YNc(55,de,1,0,"th",29),e.YNc(56,fe,30,0,"td",17),e.BQk(),e.YNc(57,ge,1,0,"tr",30),e.YNc(58,he,1,0,"tr",31),e.qZA(),e.TgZ(59,"mat-paginator",32,33),e.NdJ("page",function(r){return o.onPaginateChange(r)}),e.qZA()()),2&t){const i=e.MAs(7);e.xp6(5),e.Q6J("ngIf",o.searchTextDisplay),e.xp6(4),e.Q6J("ngForOf",o.columnShowHideList),e.xp6(1),e.Q6J("ngIf",!o.searchTextDisplay),e.xp6(4),e.Q6J("matMenuTriggerFor",i),e.xp6(5),e.Q6J("ngIf",o.searchTextDisplay),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(37),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(1),e.Q6J("length",o.totalRecords)("pageSizeOptions",e.DdM(11,Ze))("pageSize",o.pageSize)}},dependencies:[m.m,U.sg,U.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,R.NW,Z.Hw,D.VK,D.p6,T.lW,g.KE,g.hX,g.R9,G.Nt,C.Mq,C.hl,C.nW,f.a8,f.dk,f.dn,f.n5,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,Y.gM,w.Rr,U.JJ]}),n})()}}]);