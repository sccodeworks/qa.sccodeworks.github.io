"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[58708],{58708:(J,Z,l)=>{l.r(Z),l.d(Z,{OrderPickInquiryComponent:()=>z});var T=l(98739),m=l(7155),y=l(70879),t=l(94650),O=l(19132),I=l(65105),p=l(24006),U=l(97392),N=l(4859),C=l(59549),P=l(44144),s=l(73546);function S(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Quantity"),t.qZA())}function b(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.Quantity)}}function M(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"UM"),t.qZA())}function W(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.UM)}}function B(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"HM"),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.HM)}}function E(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Item Code / Lot No"),t.qZA())}function L(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.ItemCode)}}function R(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Description"),t.qZA())}function v(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.Description)}}function H(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Weight"),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.Weight)}}function Q(e,o){1&e&&(t.TgZ(0,"th",41),t._uU(1,"Cubes"),t.qZA())}function x(e,o){if(1&e&&(t.TgZ(0,"td",42),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(n.Cubes)}}function $(e,o){1&e&&t._UZ(0,"tr",43)}function F(e,o){1&e&&t._UZ(0,"tr",44)}const w=function(){return[8,16,24]};let z=(()=>{class e{constructor(n,i,_,a){this.router=n,this.OrderService=i,this.fb=_,this.route=a,this.user=localStorage.getItem("userName")||"",this.dataSource=new m.by,this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.displayedColumns=["Quantity","UM","HM","ItemCode","Description","Weight","Cubes"],this.allRows=[]}ngOnInit(){this.element=history.state,this.form=this.fb.group({Ship:[""],BLNo:[""],Page:[""],To:[""],Date:[""],Bldg:[""],ShipDate:[""],ArriveDate:[""],Shippers:[""],ShipVia:[""],Reference:[""],PONo:[""],CODAmt:[""],FreightCharge:[""],StorerNo:[""],StorerName:[""]}),this.BolInquiryform=this.fb.group({TotalPackages:[""],TotalCube:[""]}),this.loadBolInquiry(this.pageSize,this.pageNumber)}ngOnDestroy(){this.getBolInquirySubscription&&this.getBolInquirySubscription.unsubscribe()}loadBolInquiry(n,i){this.getBolInquirySubscription&&this.getBolInquirySubscription.unsubscribe(),this.getBolInquirySubscription=this.OrderService.PickInquiry(this.user,this.element.OHBILL).subscribe(_=>{const a=JSON.parse(_[0].data[1]?.value),D=a.returnedData,A=D.map((r,u)=>{const c=r.ODLOT2||r.ODLOT3?[r.ODLOT1,r.ODLOT2,r.ODLOT3].filter(f=>f).join(" "):r.ITDSC1||"",d=r.WLINE?.trim()||"",h=[r.ODITEM,r.ODLOT1,r.ODLOT2,r.ODLOT3].filter(f=>f&&"0"!==f).join(" "),q=u===D.length-1;return{Quantity:r.W1SHQT||"",UM:r.W1SHUM&&"0"!==r.W1SHUM?r.W1SHUM:"",HM:r.ODHAZD&&"0"!==r.ODHAZD?r.ODHAZD:"",ItemCode:q?"Trailer":h,Description:q?"":d||c,Weight:r.WGRSW||"",Cubes:r.WTCFT||""}}),g=r=>{if(!r||"0"===r||"000000"===r)return"";const u=String(r).trim();return 6!==u.length?u:`${u.substring(0,2)}/${u.substring(2,4)}/${u.substring(4,6)}`},K=(r=new Date,`${String(r.getMonth()+1).padStart(2,"0")}/${String(r.getDate()).padStart(2,"0")}/${String(r.getFullYear()).slice(-2)}`);var r;this.form.patchValue({Ship:a.ONNAME||"",BLNo:a.OHBILL||"",Page:` ${a.CPAG} of ${a.TPAG}`||"",To:` ${a.ONADD1} ${a.ONADD2} ${a.ONADD3}  ${a.ONADD4} ${a.ONADD5}`||"",Date:a.Date||K,Bldg:a.OHBLDG||"",ShipDate:g(a.WHSSCH),ArriveDate:g(a.WHASCH),Shippers:g(a.WCRNAM),ShipVia:a.WRNAM||"",Reference:a.OHSREF||"",PONo:a.OHPO||"",CODAmt:a.OHCOD||"",FreightCharge:a.OHFCOV||"",StorerNo:` ${a.OHSTOR}  ${a.OHSSFX}`||"",StorerName:a.WSTNAM||""}),this.BolInquiryform.patchValue({TotalPackages:a.WTQTY&&0!==a.WTQTY?a.WTQTY:"",TotalCube:(a.WTWGT&&0!==a.WTWGT?a.WTWGT.toFixed(2):"")+(a.WTCFT&&0!==a.WTCFT?"  "+a.WTCFT.toFixed(2):"")}),this.allRows=A,this.totalRecords=A.length,this.updatePaginatedData()})}updatePaginatedData(){const n=(this.pageNumber-1)*this.pageSize,i=this.allRows.slice(n,n+this.pageSize);this.dataSource.data=i}onPaginateChange(n){this.pageSize=n.pageSize,this.pageNumber=n.pageIndex+1,this.updatePaginatedData()}onBack(){this.router.navigate(["/main-nav/orders/read"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(O.F0),t.Y36(I.p),t.Y36(p.qu),t.Y36(O.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-order-pick-inquiry"]],viewQuery:function(n,i){if(1&n&&t.Gf(T.NW,5),2&n){let _;t.iGM(_=t.CRH())&&(i.paginator=_.first)}},standalone:!0,features:[t.jDz],decls:118,vars:9,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Ship","readonly",""],["matInput","","formControlName","BLNo","readonly",""],["matInput","","formControlName","Page","readonly",""],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","To","readonly",""],["matInput","","formControlName","Date","readonly",""],["matInput","","formControlName","Bldg","readonly",""],["matInput","","formControlName","ShipDate","readonly",""],["matInput","","formControlName","ArriveDate","readonly",""],["matInput","","formControlName","Shippers","readonly",""],["matInput","","formControlName","ShipVia","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","Reference","readonly",""],["matInput","","formControlName","CODAmt","readonly",""],["matInput","","formControlName","PONo","readonly",""],["matInput","","formControlName","FreightCharge","readonly",""],["matInput","","formControlName","StorerNo","readonly",""],["matInput","","formControlName","StorerName","readonly",""],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Quantity"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","UM"],["matColumnDef","HM"],["matColumnDef","ItemCode"],["matColumnDef","Description"],["matColumnDef","Weight"],["matColumnDef","Cubes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSize","pageSizeOptions","page"],["matInput","","formControlName","TotalPackages","readonly",""],["matInput","","formControlName","TotalCube","readonly",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return i.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Pick Ticket Inquiry "),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13," Ship "),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"B/L No"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Page"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",11)(24,"mat-label"),t._uU(25,"To"),t.qZA(),t._UZ(26,"input",12),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",13),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33," Building Number "),t.qZA(),t._UZ(34,"input",14),t.qZA(),t._UZ(35,"br"),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38," Scheduled Ship Date"),t.qZA(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Arrival Date"),t.qZA(),t._UZ(43,"input",16),t.qZA(),t._UZ(44,"br"),t.TgZ(45,"mat-form-field",7)(46,"mat-label"),t._uU(47,"Shippers"),t.qZA(),t._UZ(48,"input",17),t.qZA(),t.TgZ(49,"mat-form-field",7)(50,"mat-label"),t._uU(51,"Ship via"),t.qZA(),t._UZ(52,"input",18),t.qZA(),t.TgZ(53,"mat-form-field",19)(54,"mat-label"),t._uU(55," Reference No."),t.qZA(),t._UZ(56,"input",20),t.qZA(),t.TgZ(57,"mat-form-field",7)(58,"mat-label"),t._uU(59," COD Amount "),t.qZA(),t._UZ(60,"input",21),t.qZA(),t._UZ(61,"br"),t.TgZ(62,"mat-form-field",7)(63,"mat-label"),t._uU(64," P.O. No."),t.qZA(),t._UZ(65,"input",22),t.qZA(),t.TgZ(66,"mat-form-field",7)(67,"mat-label"),t._uU(68," Freight Charge"),t.qZA(),t._UZ(69,"input",23),t.qZA(),t._UZ(70,"br"),t.TgZ(71,"mat-form-field",7)(72,"mat-label"),t._uU(73,"Storer Number"),t.qZA(),t._UZ(74,"input",24),t.qZA(),t.TgZ(75,"mat-form-field",7)(76,"mat-label"),t._uU(77,"Storer Name"),t.qZA(),t._UZ(78,"input",25),t.qZA()()()()(),t.TgZ(79,"table",26),t.ynx(80,27),t.YNc(81,S,2,0,"th",28),t.YNc(82,b,2,1,"td",29),t.BQk(),t.ynx(83,30),t.YNc(84,M,2,0,"th",28),t.YNc(85,W,2,1,"td",29),t.BQk(),t.ynx(86,31),t.YNc(87,B,2,0,"th",28),t.YNc(88,k,2,1,"td",29),t.BQk(),t.ynx(89,32),t.YNc(90,E,2,0,"th",28),t.YNc(91,L,2,1,"td",29),t.BQk(),t.ynx(92,33),t.YNc(93,R,2,0,"th",28),t.YNc(94,v,2,1,"td",29),t.BQk(),t.ynx(95,34),t.YNc(96,H,2,0,"th",28),t.YNc(97,Y,2,1,"td",29),t.BQk(),t.ynx(98,35),t.YNc(99,Q,2,0,"th",28),t.YNc(100,x,2,1,"td",29),t.BQk(),t.YNc(101,$,1,0,"tr",36),t.YNc(102,F,1,0,"tr",37),t.qZA(),t.TgZ(103,"mat-paginator",38),t.NdJ("page",function(a){return i.onPaginateChange(a)}),t.qZA(),t._UZ(104,"br")(105,"br"),t.TgZ(106,"mat-card-content",3)(107,"form",4)(108,"div",5)(109,"div",6)(110,"mat-form-field",7)(111,"mat-label"),t._uU(112," Total Packages "),t.qZA(),t._UZ(113,"input",39),t.qZA(),t.TgZ(114,"mat-form-field",7)(115,"mat-label"),t._uU(116,"Total Weight and Total Cube"),t.qZA(),t._UZ(117,"input",40),t.qZA()()()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",i.form),t.xp6(71),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.totalRecords)("pageSize",i.pageSize)("pageSizeOptions",t.DdM(8,w)),t.xp6(4),t.Q6J("formGroup",i.BolInquiryform))},dependencies:[y.m,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,T.NW,U.Hw,N.lW,C.KE,C.hX,P.Nt,s.a8,s.dk,s.dn,s.n5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk]}),e})()}}]);