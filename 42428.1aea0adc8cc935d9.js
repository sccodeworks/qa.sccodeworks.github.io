"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[42428],{42428:(q,D,l)=>{l.r(D),l.d(D,{ReceivableAdjustInvoiceComponent:()=>re});var S=l(15861),d=l(7155),f=l(70879),j=l(77579),y=l(78372),N=l(71884),p=l(24006),R=l(65412),C=l(35226),x=l.n(C),e=l(94650),a=l(19132),s=l(81543),c=l(97392),h=l(4859),v=l(59549),b=l(44144),g=l(73546);let I=(()=>{class i{constructor(t,n,r,u,m){this.data=t,this.dialogRef=n,this.router=r,this.fb=u,this.ReceivablesSvc=m,this.user=localStorage.getItem("userName"),this.adjustedBalance=0}ngOnDestroy(){this.InvoiceSubscription&&this.InvoiceSubscription.unsubscribe()}ngOnInit(){console.log(this.data),this.form=this.fb.group({Amount:["",[p.kI.pattern("-?[0-9]{1,9}(.[0-9]{1,2})?")]],Description:""})}update(){var t=this.form.value;this.InvoiceSubscription&&this.InvoiceSubscription.unsubscribe(),this.InvoiceSubscription=this.ReceivablesSvc.adjustInvoiceUpdate(this.user,this.data[0].WKINV,this.data[1].ADSEQ,this.data[1].AHDATE,t.Amount,t.Description,this.data[1].ADLEGC,this.data[1].ADLEGS,this.data[1].AHCUST,this.data[1].AHCSFX,this.data[1].AHCSF2,this.data[0].AHSTAT).subscribe(n=>{const u=JSON.parse(n[0].data[n[0].data.length-1].value).returnedData.message;"Record Updated Successfully"===u?(this.successMessage(u),this.closeDialog(),this.router.navigate(["/main-nav/receivables/adjustInvoice"],{state:this.data[0]})):this.failureMessage(u)})}successMessage(t){x().fire(t,"","success")}failureMessage(t){x().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(R.WI),e.Y36(R.so),e.Y36(a.F0),e.Y36(p.qu),e.Y36(s.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-edit-adjust-invoice"]],standalone:!0,features:[e.jDz],decls:23,vars:2,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["fxLayoutAlign","center"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Amount"],["matInput","","formControlName","Description"],[1,"footer"],["mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title",2),e._uU(4," Invoice Adjustment Entry"),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(6,"mat-icon"),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Amount"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Description"),e.qZA(),e._UZ(19,"input",10),e.qZA()()(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){return n.update()}),e._uU(22," Update "),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(12),e.Q6J("disabled",!(n.form.valid&&n.form.dirty)))},dependencies:[f.m,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,c.Hw,h.lW,v.KE,v.hX,b.Nt,g.a8,g.dk,g.dn,g.n5]}),i})();var A=l(36895),T=l(80529),Z=l(98739);const U=["paginator"];function J(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1," Ledger Description "),e.qZA())}function M(i,o){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.lnq(" ",t.ADLEGC," \xa0 ",t.ADLEGS," \xa0 ",t.LEDESC," ")}}function $(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Original Amount"),e.qZA())}function O(i,o){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.ADAMT)}}function P(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Adjustment"),e.qZA())}function F(i,o){1&i&&e._UZ(0,"td",39)}function Y(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1," Adjustment Amount "),e.qZA())}function B(i,o){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.xp6(1),e.Oqu(t.ADAMT)}}function Q(i,o){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Description"),e.qZA())}function L(i,o){1&i&&e._UZ(0,"td",39)}function k(i,o){1&i&&(e.TgZ(0,"th",40),e._uU(1,"Actions"),e.qZA())}function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",61)(1,"button",62),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw(2).$implicit,_=e.oxw();return e.KtG(_.handleRecentClick(u,m))}),e._uU(2),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(2),e.hij(" ",t.label," ")}}function H(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",54)(1,"div",55)(2,"span",56),e._uU(3,"Recent Searches"),e.qZA(),e.TgZ(4,"button",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.clearRecentSearches())}),e.TgZ(5,"span",58),e._uU(6,"Clear"),e.qZA()()(),e.TgZ(7,"ul",59),e.YNc(8,K,3,1,"li",60),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",t.filteredRecentSearches)}}function G(i,o){1&i&&(e.TgZ(0,"li",63)(1,"div",64)(2,"mat-icon",65),e._uU(3,"search"),e.qZA(),e.TgZ(4,"span",66),e._uU(5,"No results found"),e.qZA(),e.TgZ(6,"span",67),e._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),e.qZA()()())}function z(i,o){if(1&i&&(e.ynx(0),e._UZ(1,"img",70),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function W(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",68)(1,"button",62),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw().$implicit,_=e.oxw();return e.KtG(_.handleItemClick(u,m))}),e.YNc(2,z,2,2,"ng-container",69),e.YNc(3,W,3,1,"ng-container",69),e._uU(4),e.qZA()()}if(2&i){const t=o.$implicit;e.xp6(2),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(1),e.hij(" ",t.label," ")}}function V(i,o){if(1&i&&(e.ynx(0),e._UZ(1,"img",74),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function ee(i,o){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-icon",75),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function te(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"li",71)(1,"button",62),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw().$implicit,_=e.oxw();return e.KtG(_.handleItemClick(u,m))}),e.TgZ(2,"div",72),e.YNc(3,V,2,2,"ng-container",69),e.YNc(4,ee,3,1,"ng-container",69),e.TgZ(5,"span",73),e._uU(6),e.qZA()()()()}if(2&i){const t=o.$implicit,n=e.oxw(2);e.Q6J("hidden",n.filteredItems.includes(t)),e.xp6(3),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(2),e.Oqu(t.label)}}function ie(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"td",39)(1,"div",41)(2,"button",42),e._UZ(3,"img",43),e.qZA(),e.TgZ(4,"ul",44)(5,"li",45)(6,"mat-form-field",46)(7,"input",47),e.NdJ("ngModelChange",function(r){e.CHM(t);const u=e.oxw();return e.KtG(u.searchDropdownText=r)})("input",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onSearchChange())}),e.qZA()()(),e.YNc(8,H,9,1,"li",48),e.TgZ(9,"div",49),e._UZ(10,"hr",50),e.qZA(),e.YNc(11,G,8,0,"li",51),e.YNc(12,X,5,3,"li",52),e.YNc(13,te,7,4,"li",53),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.searchDropdownText),e.xp6(1),e.Q6J("ngIf",t.filteredRecentSearches.length>0),e.xp6(3),e.Q6J("ngIf",0===t.filteredItems.length),e.xp6(1),e.Q6J("ngForOf",t.filteredItems),e.xp6(1),e.Q6J("ngForOf",t.menuItems)}}function ne(i,o){1&i&&e._UZ(0,"tr",76)}function ae(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"tr",77),e.NdJ("click",function(){const u=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.rowClick(u))}),e.qZA()}}function se(i,o){1&i&&(e.TgZ(0,"div",78),e._UZ(1,"img",79),e.TgZ(2,"h3",80),e._uU(3,"No Data Available"),e.qZA(),e.TgZ(4,"p",81),e._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),e.qZA()())}const oe=function(){return[8,16,24]};let re=(()=>{class i{constructor(t,n,r,u,m,_){this.matDialog=t,this.router=n,this.fb=r,this.ReceivablesSvc=u,this.decimalPipe=m,this.http=_,this.displayedColumns=["Ledger Description","Original Amount","Adjustment","Adjustment Amount","Description","Actions"],this.duplicateSource=[],this.dataSource=new d.by,this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.searchInput$=new j.x,this.currentFilters=null,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.totalRecords=0,this.isSearchMode=!1,this.url="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({Invoice:{value:this.element.WKINV,disabled:!0},Description:{value:this.element.AHDESC,disabled:!0},Date:{value:this.element.AHDATE,disabled:!0},Customer:{value:this.element.AHCUST,disabled:!0},Type:{value:this.element.AHTYPE,disabled:!0},ReferenceNo:{value:this.element.AHREF,disabled:!0},Balance:[{value:"$"+this.decimalPipe.transform(this.element.AHBALN,"1.2-2"),disabled:!0}]}),this.getadjustinvoice(this.pageSize,1),this.searchInput$.pipe((0,y.b)(500),(0,N.x)()).subscribe(t=>{this.handleSearch(t)}),this.http.get("assets/jsondata/ReceivableInvoiceAdjustmentEntry.json").subscribe(t=>{this.headerActions=t.header,this.menuItems=t.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=t.search;const n=localStorage.getItem("recentSearches");if(n){const r=JSON.parse(n);this.recentSearches=this.menuItems.filter(u=>r.includes(u.label))}this.filteredRecentSearches=[...this.recentSearches]})}handleItemClick(t,n){this.executeAction(t,n),this.addToRecentSearches(t)}executeAction(t,n){"function"==typeof this[t.action]?this[t.action](n):console.warn("Action not implemented:",t.action)}handleRecentClick(t,n){this.searchDropdownText=t.label,this.onSearchChange(),"function"==typeof this[t.action]&&this[t.action](n),this.addToRecentSearches(t)}addToRecentSearches(t){this.recentSearches=this.recentSearches.filter(n=>n.label!==t.label),this.recentSearches.unshift(t),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(n=>n.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const t=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(n=>n.label.toLowerCase().includes(t)),this.filteredRecentSearches=t?[]:[...this.recentSearches]}applyGlobalFilterInput(t){this.searchInput$.next(t)}handleSearch(t){if(!(t=t.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.noData=!1,this.paginator&&this.paginator.firstPage(),void this.getadjustinvoice(this.pageSize,1);this.isSearchMode=!0,0!==this.allData.length?this.applyManualFilter(t):this.getAlladjustinvoice(()=>this.applyManualFilter(t))}applyManualFilter(t){this.filteredData=this.allData.filter(n=>Object.values(n).some(r=>String(r).toLowerCase().includes(t))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(t){const n=(t-1)*this.pageSize;this.pageData=this.filteredData.slice(n,n+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=t-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}onPaginateChange(t){this.pageSize=t.pageSize,this.isSearchMode?this.loadPage(t.pageIndex+1):this.getadjustinvoice(t.pageSize,t.pageIndex+1)}getAlladjustinvoice(t){var n=this;return(0,S.Z)(function*(){if(n.allData.length>0)return void(t&&t());let r=1,u=1,m=[];do{const w=(yield n.ReceivablesSvc.adjustInvoiceRead(n.user,n.element.WKINV,8,r).toPromise())?.[0]?.data||[],le=w[w.length-1]?.value,E=JSON.parse(le);m.push(...E.returnedData),n.totalRecords=E.TotalRecords,u=Math.ceil(E.TotalRecords/8),r++}while(r<=u);n.allData=m,t&&t()})()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getadjustinvoice(t,n){this.isLoading=!0,this.noData=!1,this.dataSource=new d.by([]),this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ReceivablesSvc.adjustInvoiceRead(this.user,this.element.WKINV,t,n).subscribe({next:r=>{this.isLoading=!1;try{this.adjustedBalance=0;const m=JSON.parse(r[0].data[1].value),_=m?.returnedData||[];this.totalRecords=m?.TotalRecords||0,this.allData=[],this.filteredData=[],this.noData=0===_.length,this.dataSource.data=_,this.paginator&&(this.paginator.length=this.totalRecords),_.length>0&&(this.adjustedBalance=_[0].AHBALN)}catch(m){console.error("\u274c Parse error:",m),this.handleReceivableNoData()}},error:()=>this.handleReceivableNoData()})}handleReceivableNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new d.by([])}rowClick(t){this.selectedRow=t}adjustInvoiceUpdate(){this.matDialog.open(I,{panelClass:"right-dialog",data:[history.state,this.selectedRow],autoFocus:!1})}onBack(){this.router.navigate([this.url])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(R.uw),e.Y36(a.F0),e.Y36(p.qu),e.Y36(s.Z),e.Y36(A.JJ),e.Y36(T.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-receivable-adjust-invoice"]],viewQuery:function(t,n){if(1&t&&e.Gf(U,5),2&t){let r;e.iGM(r=e.CRH())&&(n.paginator=r.first)}},standalone:!0,features:[e._Bn([A.JJ]),e.jDz],decls:72,vars:10,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Invoice"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","Description"],["matInput","","formControlName","Date"],["matInput","","formControlName","Customer"],["matInput","","formControlName","Type"],["matInput","","formControlName","ReferenceNo"],["matInput","","formControlName","Balance"],["id","myTable","mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Ledger Description"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Original Amount"],["matColumnDef","Adjustment"],["matColumnDef","Adjustment Amount"],["matColumnDef","Description"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],[1,"table-summary"],[1,"form-info-message"],[1,"align-right"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row","",3,"click"],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return n.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Invoice Adjustment Entry "),e.qZA(),e.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-icon",5),e._uU(10,"search"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("input",function(u){return n.applyGlobalFilterInput(u.target.value)}),e.qZA()()()(),e.TgZ(12,"mat-card-content",7)(13,"form",8)(14,"div",9)(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"Invoice"),e.qZA(),e._UZ(19,"input",12),e.qZA(),e.TgZ(20,"mat-form-field",13)(21,"mat-label"),e._uU(22,"Description"),e.qZA(),e._UZ(23,"input",14),e.qZA(),e.TgZ(24,"mat-form-field",11)(25,"mat-label"),e._uU(26,"Date"),e.qZA(),e._UZ(27,"input",15),e.qZA(),e.TgZ(28,"mat-form-field",13)(29,"mat-label"),e._uU(30,"Customer"),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"mat-form-field",11)(33,"mat-label"),e._uU(34,"Type"),e.qZA(),e._UZ(35,"input",17),e.qZA(),e.TgZ(36,"mat-form-field",11)(37,"mat-label"),e._uU(38,"Reference No"),e.qZA(),e._UZ(39,"input",18),e.qZA(),e.TgZ(40,"mat-form-field",11)(41,"mat-label"),e._uU(42,"Balance"),e.qZA(),e._UZ(43,"input",19),e.qZA()()()()(),e.TgZ(44,"table",20),e.ynx(45,21),e.YNc(46,J,2,0,"th",22),e.YNc(47,M,2,3,"td",23),e.BQk(),e.ynx(48,24),e.YNc(49,$,2,0,"th",22),e.YNc(50,O,2,1,"td",23),e.BQk(),e.ynx(51,25),e.YNc(52,P,2,0,"th",22),e.YNc(53,F,1,0,"td",23),e.BQk(),e.ynx(54,26),e.YNc(55,Y,2,0,"th",22),e.YNc(56,B,2,1,"td",23),e.BQk(),e.ynx(57,27),e.YNc(58,Q,2,0,"th",22),e.YNc(59,L,1,0,"td",23),e.BQk(),e.ynx(60,28),e.YNc(61,k,2,0,"th",29),e.YNc(62,ie,14,5,"td",23),e.BQk(),e.YNc(63,ne,1,0,"tr",30),e.YNc(64,ae,1,0,"tr",31),e.qZA(),e.YNc(65,se,6,0,"div",32),e.TgZ(66,"div",33)(67,"div",34)(68,"div",35),e._uU(69),e.qZA()()(),e.TgZ(70,"mat-paginator",36,37),e.NdJ("page",function(u){return n.onPaginateChange(u)}),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("formGroup",n.form),e.xp6(31),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&n.noData),e.xp6(4),e.hij(" Adjusted Balance : $",n.adjustedBalance,""),e.xp6(1),e.Q6J("length",n.totalRecords)("pageSizeOptions",e.DdM(9,oe))("pageSize",n.pageSize))},dependencies:[f.m,A.sg,A.O5,p._Y,p.Fj,p.JJ,p.JL,p.On,p.sg,p.u,Z.NW,c.Hw,h.lW,v.KE,v.hX,v.qo,b.Nt,g.a8,g.dk,g.dn,g.n5,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk]}),i})()},81543:(q,D,l)=>{l.d(D,{Z:()=>R});var S=l(80529),d=l(75625),f=l(70262),j=l(54004),y=l(62843),N=l(92340),p=l(94650);let R=(()=>{class C{constructor(e){this.httpClient=e,this.url=N.N.API_BASE_URL,this.recal="/Receivables/Recalculate",this.httpHeader={headers:new S.WM({"Content-Type":"application/json"})}}getReceivables(e,a,s,c,h,v,b,g,I,A,T,Z,U){return this.httpClient.get(this.url+"/Receivables/read?",{params:{user:e,invoice:a??"",customerNumber:s??"",customerSuffix:c??"",customerSecondSuffix:h??"",refNumber:v??"",startDate:b??"",endDate:g??"",building:I??"",status:A??"",type:T??"",recordsPerPage:Z??"",pageNo:U??""}})}getReceivablesDetails(e,a,s){return this.httpClient.get(this.url+`/Receivables/details/read?user=${e}&invoice=${a}&seqNum=${s}`)}getReceivableInquiry(e,a){return this.httpClient.get(this.url+`/Receivables/read/inquiry?user=${e}&invoice=${a}`)}getInvoiceInquiry(e,a,s){return this.httpClient.get(this.url+`/Receivables/read/invoiceInquiry?user=${e}&HGCTL=${a}&invoice=${s}`)}getReceivablesAdjustInvoice(){return this.httpClient.get(this.url+"/Receivables/invoiceinquiry")}getAll(e){return this.httpClient.get(this.url+`/Receivables/readAll?user=${e}`)}getAdjustmentInquiry(e,a,s,c){return this.httpClient.get(this.url+"/Receivables/read/adjInquiry??",{params:{user:e,invoice:a??"",recordsPerPage:s??"",pageNo:c??""}})}adjustInvoiceRead(e,a,s,c){return this.httpClient.get(this.url+"/Receivables/adjust/read?",{params:{user:e,invoice:a??"",recordsPerPage:s??"",pageNo:c??""}})}adjustInvoiceUpdate(e,a,s,c,h,v,b,g,I,A,T,Z){return this.httpClient.put(this.url+"/Receivables/adjust/update",{user:e,invoice:a,sequence:s,date:c,amount:h,description:v,ledgerCode:b,ledgerSubCode:g,customer:I,suffix1:A,suffix2:T,status:Z}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}creditinvoice(e,a,s,c,h,v,b,g,I,A){return this.httpClient.put(this.url+"/Receivables/update/credit",{invoiceNumber:e,building:a,date:s,type:c,description:h,customer:v,reference:b,amount:g,balance:I,reason:A}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}getComment(e,a,s,c){return this.httpClient.get(this.url+`/Receivables/comments/read?user=${e}&key=${a}&recordsPerPage=${s}&pageNo=${c}`)}updateComment(e,a,s,c,h,v){return this.httpClient.put(this.url+"/Receivables/comments/update",{user:e,fileID:a,key:s,sub:c,seq:h,comment:v}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}createComment(e,a,s,c,h){return this.httpClient.post(this.url+"/Receivables/comments/create",{user:e,fileID:a,key:s,sub:c,comment:h}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}deleteComment(e,a,s,c,h){return this.httpClient.delete(this.url+`/Receivables/comments/delete?user=${e}&fileID=${a}&key=${s}&sub=${c}&seq=${h}`)}Print(e,a,s,c,h){return this.httpClient.put(this.url+"/Receivables/Print",{InvoiceNumber:e,ReportType:a,FileExtension:s,EmailAddress:c,user:h}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}UpdateLedgerCode(e,a,s,c,h,v,b,g){return this.httpClient.put(this.url+"/Receivables/UpdateLedgerCode",{InvoiceNumber:e,SequenceNumber:a,InvoiceDate:s,LineAmount:c,LedgerCode:h,LedgerSubCode:v,BuildingNumber:b,user:g}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}EmailDetail(e,a){return this.httpClient.put(this.url+"/Receivables/Email/Details",{user:e,InvoiceNumber:a}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}EmailDetailsNew(e,a){return this.httpClient.put(this.url+"/Receivables/EmailDetailsNew",{user:e,InvoiceNumber:a}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}Recalculate(e,a){return this.httpClient.put(this.url+this.recal,{user:e,InvoiceNumber:a}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}ReceivingCover(e,a,s){return this.httpClient.put(this.url+"/Receivables/ReceivingCover",{user:e,InvoiceNumber:a,ReturnCode:s}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}MicCover(e,a,s,c,h){return this.httpClient.put(this.url+"/Receivables/MicCover",{user:e,InvoiceNumber:a,StorerNumber:s,StorerSuffix:c,ReturnCode:h}).pipe((0,d.X)(1),(0,f.K)(this.httpError))}deleteReceivables(e,a){return this.httpClient.delete(this.url+`/Receivables/delete/receivable?invoice=${e}&description=${a}`)}FreightInv(e,a,s,c){return this.httpClient.get(this.url+"/Receivables/read/invoiceInquiry?",{params:{user:e,WKINVN:a??"",recordsPerPage:s??"",pageNo:c??""}})}readReceivablesTallyInquiryService(e,a){return this.httpClient.get(this.url+`/ihcrud/tallyinquiry?user=${e}&tally=${a}`).pipe((0,j.U)(s=>s[0]))}httpError(e){let a="";return a=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(a),(0,y._)(()=>new Error(a))}}return C.\u0275fac=function(e){return new(e||C)(p.LFG(S.eN))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()}}]);