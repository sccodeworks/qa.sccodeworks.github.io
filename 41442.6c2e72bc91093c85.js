"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[41442,11790,38754,85645],{11790:(O,I,a)=>{a.d(I,{y:()=>x});var i=a(65412),c=a(94650),_=a(97392),m=a(4859);let y=(()=>{class k{constructor(b,n){this.dialogRef=b,this.data=n}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return k.\u0275fac=function(b){return new(b||k)(c.Y36(i.so),c.Y36(i.WI))},k.\u0275cmp=c.Xpm({type:k,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(b,n){1&b&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return n.closeDialog()}),c.TgZ(3,"mat-icon"),c._uU(4,"close"),c.qZA()(),c.TgZ(5,"div",3),c._UZ(6,"img",4),c.qZA(),c.TgZ(7,"h2",5),c._uU(8,"Confirmation"),c.qZA(),c.TgZ(9,"span",6),c._uU(10),c.qZA()(),c.TgZ(11,"div",7)(12,"button",8),c._uU(13,"Cancel"),c.qZA(),c.TgZ(14,"button",9),c._uU(15,"Delete"),c.qZA()()()),2&b&&(c.xp6(10),c.Oqu(n.data.message),c.xp6(2),c.Q6J("mat-dialog-close",!1),c.xp6(2),c.Q6J("mat-dialog-close",!0))},dependencies:[_.Hw,m.lW,i.ZT]}),k})(),x=(()=>{class k{constructor(b){this.dialog=b}openCustomAlert(b){return this.dialog.open(y,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:b}})}}return k.\u0275fac=function(b){return new(b||k)(c.LFG(i.uw))},k.\u0275prov=c.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},69501:(O,I,a)=>{a.d(I,{J:()=>E});var i=a(94650),c=a(24006),_=a(47957),m=a(59549),y=a(44144),x=a(69751),k=a(68675),A=a(54004),b=a(70879),n=a(36895),t=a(3238);function g(f,w){if(1&f&&(i.TgZ(0,"mat-option",7),i._uU(1),i.qZA()),2&f){const r=w.$implicit;i.Q6J("value",r),i.xp6(1),i.hij(" ",r.description," ")}}function T(f,w){1&f&&(i.TgZ(0,"mat-option"),i._uU(1," No matching results "),i.qZA())}function Z(f,w){1&f&&(i.TgZ(0,"mat-error"),i._uU(1," This field is required. Please select an option. "),i.qZA())}function S(f,w){1&f&&(i.TgZ(0,"mat-hint",8),i._uU(1," The option you entered is not valid. Please select one from the list. "),i.qZA())}let E=(()=>{class f{constructor(r){this.fb=r,this.options=[],this.value=null,this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.isRequired=!1,this.selectionChange=new i.vpe,this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.onChange=p=>{this.errorState=0===this._filter(this.control.value).length&&this.control.value.length>0},this.onTouched=()=>{},this.control=this.fb.control("",{validators:this.isRequired?[c.kI.required]:[]}),this.stateChanges=new x.y,this.filteredOptions=this.control.valueChanges.pipe((0,k.O)(""),(0,A.U)(p=>this._filter(p)))}onFocus(){(!this.control.value||"string"==typeof this.control.value&&""===this.control.value.trim())&&this.control.setValue("")}ngOnInit(){this.isRequired&&this.control.setValidators([c.kI.required]),this.control.updateValueAndValidity(),this.filteredOptions=this.control.valueChanges.pipe((0,k.O)(""),(0,A.U)(r=>this._filter(r)))}_filter(r){let p="";if("string"==typeof r)p=r.trim();else{if(!r||"object"!=typeof r)return this.options;p=r.value.toLowerCase()}if(""===p)return this.errorState=!1,this.options;const v=this.options.filter(D=>D.value.toLowerCase().includes(p)||D.description.toLowerCase().includes(p));return this.errorState=0===v.length&&p.length>0,v}writeValue(r){this.control.setValue(r&&"object"==typeof r?`${r.value} - ${r.description}`:"string"==typeof r?r:""),this.errorState=0===this._filter(this.control.value).length&&this.control.value.length>0}onOptionSelected(r){this.control.setValue(r);const[p,v]=r.description.split(" ");this.valueControlName.setValue(p),this.suffixControlName&&this.suffixControlName.setValue(v||""),this.onChange(r.value),this.selectionChange.emit(r.value),this.autocompleteTrigger.closePanel()}displayOptionText(r){return r?r.value:""}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r}setDescribedByIds(r){}onContainerClick(r){this.autocompleteTrigger&&this.autocompleteTrigger.openPanel()}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}}return f.\u0275fac=function(r){return new(r||f)(i.Y36(c.qu))},f.\u0275cmp=i.Xpm({type:f,selectors:[["app-dropdown"]],viewQuery:function(r,p){if(1&r&&i.Gf(_.ZL,7),2&r){let v;i.iGM(v=i.CRH())&&(p.autocompleteTrigger=v.first)}},hostVars:1,hostBindings:function(r,p){2&r&&i.uIk("aria-describedby",p.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance",valueControlName:"valueControlName",suffixControlName:"suffixControlName",displayControlName:"displayControlName",isRequired:"isRequired"},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[i._Bn([{provide:c.JU,multi:!0,useExisting:f},{provide:m.Eo,useExisting:f}],[{provide:c.gN,useExisting:c.sg}]),i.jDz],decls:12,vars:15,consts:[["appearance","outline",1,"full-width2"],["matInput","",3,"formControl","placeholder","matAutocomplete","focus","blur"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","hint-error","style","color: red; font-size:12px",4,"ngIf"],[3,"value"],[1,"hint-error",2,"color","red","font-size","12px"]],template:function(r,p){if(1&r&&(i.TgZ(0,"mat-form-field",0)(1,"mat-label"),i._uU(2),i.qZA(),i.TgZ(3,"input",1),i.NdJ("focus",function(){return p.onFocus(),p.autocompleteTrigger.openPanel()})("blur",function(){return p.onTouched()}),i.qZA(),i.TgZ(4,"mat-autocomplete",2,3),i.NdJ("optionSelected",function(D){return p.onOptionSelected(D.option.value)}),i.YNc(6,g,2,2,"mat-option",4),i.ALo(7,"async"),i.YNc(8,T,2,0,"mat-option",5),i.ALo(9,"async"),i.qZA(),i.YNc(10,Z,2,0,"mat-error",5),i.YNc(11,S,2,0,"mat-hint",6),i.qZA()),2&r){const v=i.MAs(5);let D;i.ekj("mat-form-field-invalid",p.control.invalid&&p.control.touched||p.errorState),i.xp6(2),i.Oqu(p.label),i.xp6(1),i.Q6J("formControl",p.control)("placeholder",p.placeholder)("matAutocomplete",v),i.xp6(1),i.Q6J("displayWith",p.displayOptionText),i.xp6(2),i.Q6J("ngForOf",i.lcZ(7,11,p.filteredOptions)),i.xp6(2),i.Q6J("ngIf",0===(null==(D=i.lcZ(9,13,p.filteredOptions))?null:D.length)&&p.control.value),i.xp6(2),i.Q6J("ngIf",p.control.invalid&&p.control.touched),i.xp6(1),i.Q6J("ngIf",p.errorState)}},dependencies:[b.m,n.sg,n.O5,c.Fj,c.JJ,c.oH,m.TO,m.KE,m.bx,m.hX,y.Nt,t.ey,n.Ov,c.UX,_.Bb,_.XC,_.ZL,m.lN,y.c]}),f})()},83490:(O,I,a)=>{a.d(I,{y:()=>k});var i=a(80529),c=a(75625),_=a(70262),m=a(62843),y=a(92340),x=a(94650);let k=(()=>{class A{constructor(n){this.httpClient=n,this.url=y.N.API_BASE_URL,this.httpHeader={headers:new i.WM({"Content-Type":"application/json"})}}getAccountingAttribute(n,t,g,T){return this.httpClient.get(this.url+"/accountAttributes/read",{params:{user:n,attribute:t??"",recordsPerPage:g??"",pageNo:T??""}})}AccountingAttributeCreate(n,t,g){return this.httpClient.post(this.url+"/accountAttributes/create",{user:n,attribute:t,description:g}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}AccountingAttributeUpdate(n,t,g){return this.httpClient.put(this.url+"/accountAttributes/update",{user:n,attribute:t,description:g}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}AccountingAttributeDelete(n,t){return this.httpClient.delete(this.url+`/accountAttributes/delete?user=${n}&attribute=${t}`)}httpError(n){let t="";return t=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(t),(0,m._)(()=>new Error(t))}}return A.\u0275fac=function(n){return new(n||A)(x.LFG(i.eN))},A.\u0275prov=x.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},16799:(O,I,a)=>{a.d(I,{x:()=>k});var i=a(80529),c=a(75625),_=a(70262),m=a(62843),y=a(92340),x=a(94650);let k=(()=>{class A{constructor(n){this.httpClient=n,this.url=y.N.API_BASE_URL,this.httpHeader={headers:new i.WM({"Content-Type":"application/json"})}}getTaskCodes(n,t,g,T,Z,S){return this.httpClient.get(this.url+`/TaskCodes/read?user=${n}&storer=${t}&suffix=${g}&status=${T}&recordsPerPage=${Z}&pageNo=${S}`)}TaskCodesCreate(n,t,g,T,Z,S,E,f,w,r,p,v,D,N){return this.httpClient.post(this.url+"/TaskCodes/create",{TSTASK:n,TSSTOR:t,TSSSFX:g,TSDESC:T,TSMINM:Z,TSBASE:S,TSRATE:E,TSLEGC:f,TSLEGS:w,TSMKUP:r,TSQUOT:p,TSAUTO:v,TSVARC:D,user:N}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}TaskCodesUpdate(n,t,g,T,Z,S,E,f,w,r,p,v,D,N){return this.httpClient.put(this.url+"/TaskCodes/update",{TSTASK:n,TSSTOR:t,TSSSFX:g,TSDESC:T,TSMINM:Z,TSBASE:S,TSRATE:E,TSLEGC:f,TSLEGS:w,TSMKUP:r,TSQUOT:p,TSAUTO:v,TSVARC:D,user:N}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}taskCodesCopyTask(n,t,g,T,Z,S,E,f,w,r,p,v,D,N,M,R){return this.httpClient.put(this.url+"/TaskCodes/copyTask",{user:n,taskCode:t,storer1:g,storerSuffix1:T,storer2:Z,storerSuffix2:S,description:E,minimum:f,base:w,rate:r,ledgerCode:p,ledgerCodeSuffix:v,markup:D,taskOnQuote:N,autoCharge:M,recalculate:R}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}TaskCodesCopySet(n,t,g,T){return this.httpClient.put(this.url+"/TaskCodes/CopySet",{storer:n,suffix:t,storerNumber:g,storerSuffix:T}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}taskCodesConstraint(n,t,g,T,Z,S,E,f){return this.httpClient.post(this.url+"/TaskCodes/constraint",{documentType:n,taskCode:t,storer:g,suffix:T,constraintF:Z,relationship:S,constraintV:E,status:f}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}TaskCodesActivate(n,t,g){return this.httpClient.put(this.url+"/TaskCodes/activate",{taskCode:n,storer:t,suffix:g}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}TaskCodesDeactivate(n,t,g){return this.httpClient.put(this.url+"/TaskCodes/Deactivate",{taskCode:n,storer:t,suffix:g}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}taskCodesDelete(n,t,g){return this.httpClient.delete(this.url+`/TaskCodes/delete?taskId=${n}&storer=${t}&suffix=${g}`)}getAttributesNames(){return this.httpClient.get(this.url+"/TaskCodes/getNames")}getLedgerNames(){return this.httpClient.get(this.url+"/TaskCodes/getLedgerNames")}getTaskCodesAttributes(n,t,g,T){return this.httpClient.get(this.url+`/TaskCodes/Attributes?user=${n}&key=${t}&recordsPerPage=${g}&pageNo=${T}`)}TaskCodesAttributesCreate(n,t,g,T,Z,S,E,f){return this.httpClient.post(this.url+"/TaskCodes/Attributes/create",{user:n,EAFLID:t,EAKEY:g,EAATRB:T,EAVALU:Z,EASTAT:S,EATMST:E,EAUSER:f}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}TaskCodesAttributesUpdate(n,t,g,T,Z,S,E,f){return this.httpClient.put(this.url+"/TaskCodes/Attributes/update",{EAFLID:n,EAKEY:t,EAATRB:g,EAVALU:T,EASTAT:Z,EATMST:S,EAUSER:E,user:f}).pipe((0,c.X)(1),(0,_.K)(this.httpError))}taskCodesAttributesDelete(n,t){return this.httpClient.delete(this.url+`/TaskCodes/Attributes/delete?key=${n}&attribute=${t}`)}taskCodesConstraintDelete(n,t,g,T,Z,S,E,f){return this.httpClient.delete(this.url+`/TaskCodes/constraint/delete?documentType=${n}&taskCode=${t}&storer=${g}&suffix=${T}&constraintF=${Z}&relationship=${S}&constraintV=${E}&status=${f}`)}httpError(n){let t="";return t=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(t),(0,m._)(()=>new Error(t))}}return A.\u0275fac=function(n){return new(n||A)(x.LFG(i.eN))},A.\u0275prov=x.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},41442:(O,I,a)=>{a.r(I),a.d(I,{WwTaskcodesAttributesComponent:()=>Tt});var i=a(15861),c=a(98739),_=a(7155),m=a(24006),y=a(65412),x=a(70879),k=a(35226),A=a.n(k),b=a(48529),n=a(69501),t=a(94650),g=a(19132),T=a(83490),Z=a(16799),S=a(97392),E=a(4859),f=a(59549),w=a(44144),r=a(73546);let p=(()=>{class o{constructor(e,s,l,d,h,C){this.anyvariable=e,this.dialogRef=s,this.router=l,this.accountAttributesService=d,this.fb=h,this.taskCodesService=C,this.attributeOptions=[],this.user=localStorage.getItem("userName")||"",this.keyValue="",this.suffixControl=new m.NI("")}ngOnDestroy(){this.attributeSubscription&&this.attributeSubscription.unsubscribe()}ngOnInit(){console.log(this.anyvariable);const s=(l,d)=>String(l).padStart(d,"0");console.log(s(this.anyvariable.TSSTOR,4)),this.keyValue=s(this.anyvariable.TSSTOR,4),this.form=this.fb.group({EAFLID:{value:"TS",disabled:!0},EAKEY:{value:this.anyvariable.TSTASK+s(this.anyvariable.TSSTOR,4),disabled:!0},EAATRB:["",m.kI.required],EAVALU:["",m.kI.required],EASTAT:"AC",EATMST:"",EAUSER:""}),this.fetchAttributes()}get attributeControlName(){return this.form.controls.EAATRB}fetchAttributes(){this.taskCodesService.getAttributesNames().subscribe(e=>{this.attributeOptions=e.map(s=>({value:s.A2ATRB,description:`${s.A2ATRB} - ${s.A2DESC}`}))})}taskCodesAttributesCreate(){var e=this.form.value;const l=(e.EAATRB||"").toUpperCase();this.attributeSubscription&&this.attributeSubscription.unsubscribe(),this.attributeSubscription=this.taskCodesService.TaskCodesAttributesCreate(this.user,this.form.get("EAFLID")?.value,this.form.get("EAKEY")?.value,l,e.EAVALU.toUpperCase(),e.EASTAT,e.EATMST,this.user).subscribe(d=>{const h=d[0]?.data?.length,C=h?d[0]?.data[h-1]?.value:void 0,U=C?JSON.parse(C)?.returnedData?.message:void 0;U?.toUpperCase()===b.R.createMsg.toUpperCase()?(this.successMessage(U),this.closeDialog(),this.router.navigateByUrl("/main-nav/task-codes-attributes/read",{state:this.anyvariable})):this.failureMessage(U)})}successMessage(e){A().fire(e,"","success")}failureMessage(e){A().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.WI),t.Y36(y.so),t.Y36(g.F0),t.Y36(T.y),t.Y36(m.qu),t.Y36(Z.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-attributes-create"]],standalone:!0,features:[t.jDz],decls:40,vars:5,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","EAFLID",2,"text-transform","uppercase"],["matInput","","formControlName","EAKEY",2,"text-transform","uppercase"],["appearance","outline","label","Attribute","placeholder","Search or Enter Attribute",3,"options","valueControlName","isRequired"],["matInput","","formControlName","EAVALU",2,"text-transform","uppercase"],["matInput","","formControlName","EASTAT",2,"text-transform","uppercase"],["matInput","","formControlName","EATMST","readonly",""],["matInput","","formControlName","EAUSER","readonly","",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Entity Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"File ID"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"key"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t._UZ(20,"app-dropdown",11),t.TgZ(21,"mat-form-field",8)(22,"mat-label"),t._uU(23,"Value"),t.qZA(),t._UZ(24,"input",12),t.qZA(),t.TgZ(25,"mat-form-field",8)(26,"mat-label"),t._uU(27,"Status"),t.qZA(),t._UZ(28,"input",13),t.qZA(),t.TgZ(29,"mat-form-field",8)(30,"mat-label"),t._uU(31,"Last Changed"),t.qZA(),t._UZ(32,"input",14),t.qZA(),t.TgZ(33,"mat-form-field",8)(34,"mat-label"),t._uU(35,"Change User"),t.qZA(),t._UZ(36,"input",15),t.qZA()()(),t.TgZ(37,"div",16)(38,"button",17),t.NdJ("click",function(){return s.taskCodesAttributesCreate()}),t._uU(39,"Create"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form),t.xp6(11),t.Q6J("options",s.attributeOptions)("valueControlName",s.attributeControlName)("isRequired",!0),t.xp6(18),t.Q6J("disabled",!s.form.valid))},dependencies:[x.m,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,S.Hw,E.lW,f.KE,f.hX,w.Nt,r.a8,r.dk,r.dn,r.n5,n.J]}),o})();var v=a(36895);function D(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Attribute"),t.qZA(),t.TgZ(4,"input",19),t.NdJ("focus",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.toggleDropdown())}),t.qZA()()()}}function N(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"div",20)(1,"app-dropdown",21),t.NdJ("selectionChange",function(l){t.CHM(e);const d=t.oxw();return t.KtG(d.onOptionSelected(l))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("options",e.attributeOptions)("valueControlName",e.attributeControlName)}}let M=(()=>{class o{constructor(e,s,l,d,h,C){this.anyvariable=e,this.dialogRef=s,this.router=l,this.fb=d,this.taskCodesService=h,this.accountAttributesService=C,this.attributeOptions=[],this.user=localStorage.getItem("userName")||"",this.keyValue="",this.selectedAttribute="",this.backupAttribute="",this.showDropdown=!1,this.isOptionSelected=!1,this.isDropdownClicked=!1,this.valueChanged=!1}ngOnInit(){this.selectedAttribute=this.anyvariable[1].EAATRB,this.backupAttribute=this.selectedAttribute,this.form=this.fb.group({EAFLID:{value:this.anyvariable[1].EAFLID,disabled:!0},EAKEY:{value:this.anyvariable[1].EAKEY,disabled:!0},EAATRB:this.selectedAttribute,EAVALU:this.anyvariable[1].EAVALU,EASTAT:this.anyvariable[1].EASTAT,EATMST:{value:this.anyvariable[1].EATMST,disabled:!0},EAUSER:{value:this.anyvariable[1].EAUSER,disabled:!0}}),this.fetchAttributes(),document.addEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}onOptionSelected(e){this.valueChanged=!0,this.attributeControlName.setValue(e),this.showDropdown=!1}onDocumentClick(e){const s=e.target instanceof HTMLElement&&(e.target.closest("mat-form-field")||e.target.closest("app-dropdown")),l=e.target instanceof HTMLElement&&e.target.closest(".buttons.addButton.new-tally-form-btn");!s&&!l&&!this.valueChanged&&(this.attributeControlName.setValue(this.backupAttribute),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}ngOnDestroy(){this.attributeSubscription&&this.attributeSubscription.unsubscribe(),document.removeEventListener("click",this.onDocumentClick.bind(this))}get attributeControlName(){return this.form.controls.EAATRB}fetchAttributes(){this.taskCodesService.getAttributesNames().subscribe(e=>{this.attributeOptions=e.map(s=>({value:s.A2ATRB,description:`${s.A2ATRB} - ${s.A2DESC}`}))})}TaskCodesAttributesUpdate(){var e=this.form.value;const l=(e.EAATRB||"").toUpperCase();this.attributeSubscription&&this.attributeSubscription.unsubscribe(),this.attributeSubscription=this.taskCodesService.TaskCodesAttributesUpdate(this.anyvariable[1].EAFLID,this.anyvariable[1].EAKEY,l,e.EAVALU.toUpperCase(),e.EASTAT,this.anyvariable[1].EATMST,this.user,this.user).subscribe(d=>{const h=d[0]?.data?.length,C=h?d[0]?.data[h-1]?.value:void 0,U=C?JSON.parse(C)?.returnedData?.message:void 0;U?.toUpperCase()===b.R.updateMsg.toUpperCase()?(this.successMessage(U),this.closeDialog(),this.router.navigateByUrl("/main-nav/task-codes-attributes/read",{state:this.anyvariable[0]})):this.failureMessage(U)})}successMessage(e){A().fire(e,"","success")}failureMessage(e){A().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.WI),t.Y36(y.so),t.Y36(g.F0),t.Y36(m.qu),t.Y36(Z.x),t.Y36(T.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-attributes-change"]],standalone:!0,features:[t.jDz],decls:41,vars:4,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","EAFLID",2,"text-transform","uppercase"],["matInput","","formControlName","EAKEY",2,"text-transform","uppercase"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["matInput","","formControlName","EAVALU",2,"text-transform","uppercase"],["matInput","","formControlName","EASTAT",2,"text-transform","uppercase"],["matInput","","formControlName","EATMST"],["matInput","","formControlName","EAUSER",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"],["required","","matInput","","formControlName","EAATRB","readonly","",3,"focus"],["tabindex","0"],["label","Attribute","placeholder","Search or Enter Attribute to Change",3,"options","valueControlName","selectionChange"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Entity Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"File ID"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"key"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.YNc(20,D,5,0,"div",11),t.YNc(21,N,2,2,"div",12),t.TgZ(22,"mat-form-field",8)(23,"mat-label"),t._uU(24,"Value"),t.qZA(),t._UZ(25,"input",13),t.qZA(),t.TgZ(26,"mat-form-field",8)(27,"mat-label"),t._uU(28,"Status"),t.qZA(),t._UZ(29,"input",14),t.qZA(),t.TgZ(30,"mat-form-field",8)(31,"mat-label"),t._uU(32,"Last Changed"),t.qZA(),t._UZ(33,"input",15),t.qZA(),t.TgZ(34,"mat-form-field",8)(35,"mat-label"),t._uU(36,"Change User"),t.qZA(),t._UZ(37,"input",16),t.qZA()()(),t.TgZ(38,"div",17)(39,"button",18),t.NdJ("click",function(){return s.TaskCodesAttributesUpdate()}),t._uU(40,"Update"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form),t.xp6(11),t.Q6J("ngIf",!s.showDropdown),t.xp6(1),t.Q6J("ngIf",s.showDropdown),t.xp6(18),t.Q6J("disabled",!s.form.valid))},dependencies:[x.m,v.O5,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.sg,m.u,S.Hw,E.lW,f.KE,f.hX,w.Nt,r.a8,r.dk,r.dn,r.n5,n.J]}),o})();var R=a(77579),J=a(78372),F=a(71884),P=a(11790),B=a(80529),W=a(28255),Y=a(10266),K=a(90455);function q(o,u){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"div",33)(3,"span",34),t.NdJ("click",function(l){return l.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",35),t.NdJ("ngModelChange",function(l){const h=t.CHM(e).$implicit;return t.KtG(h.isActive=l)})("change",function(){const d=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.toggleColumn(d))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&o){const e=u.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function $(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Attribute"),t.qZA())}function Q(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EAATRB)}}function H(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Value"),t.qZA())}function V(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EAVALU)}}function j(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Last Changed"),t.qZA())}function G(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EATMST)}}function z(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"User"),t.qZA())}function X(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EAUSER)}}function tt(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Status"),t.qZA())}function et(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EASTAT)}}function st(o,u){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Key"),t.qZA())}function ot(o,u){if(1&o&&(t.TgZ(0,"td",37),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.EAKEY)}}function it(o,u){1&o&&(t.TgZ(0,"th",38),t._uU(1," Actions "),t.qZA())}function at(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw().$implicit,C=t.oxw();return t.KtG(C.executeAction(d,h))}),t._UZ(1,"img",55),t.TgZ(2,"span",56),t._uU(3),t.qZA()()}if(2&o){const e=u.$implicit;t.Q6J("color",e.color),t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.label)}}function nt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"li",64)(1,"button",65),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw(2).$implicit,C=t.oxw();return t.KtG(C.handleRecentClick(d,h))}),t._uU(2),t.qZA()()}if(2&o){const e=u.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function rt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"li",57)(1,"div",58)(2,"span",59),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",60),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2);return t.KtG(l.clearRecentSearches())}),t.TgZ(5,"span",61),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",62),t.YNc(8,nt,3,1,"li",63),t.qZA()()}if(2&o){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function lt(o,u){1&o&&(t.TgZ(0,"li",66)(1,"div",67)(2,"mat-icon",68),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",69),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",70),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function ct(o,u){if(1&o&&(t.ynx(0),t._UZ(1,"img",73),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function ut(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function dt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"li",71)(1,"button",65),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw().$implicit,C=t.oxw();return t.KtG(C.handleItemClick(d,h))}),t.YNc(2,ct,2,2,"ng-container",72),t.YNc(3,ut,3,1,"ng-container",72),t._uU(4),t.qZA()()}if(2&o){const e=u.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function pt(o,u){if(1&o&&(t.ynx(0),t._UZ(1,"img",77),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function ht(o,u){if(1&o&&(t.ynx(0),t.TgZ(1,"mat-icon",78),t._uU(2),t.qZA(),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function mt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"li",74)(1,"button",65),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw().$implicit,C=t.oxw();return t.KtG(C.handleItemClick(d,h))}),t.TgZ(2,"div",75),t.YNc(3,pt,2,2,"ng-container",72),t.YNc(4,ht,3,1,"ng-container",72),t.TgZ(5,"span",76),t._uU(6),t.qZA()()()()}if(2&o){const e=u.$implicit,s=t.oxw(2);t.Q6J("hidden",s.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function gt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"td",37)(1,"div",39)(2,"button",40),t._UZ(3,"img",41),t.qZA(),t.TgZ(4,"ul",42)(5,"li",43),t.YNc(6,at,4,4,"button",44),t.qZA(),t.TgZ(7,"li",45)(8,"mat-form-field",46)(9,"input",47),t.NdJ("ngModelChange",function(l){t.CHM(e);const d=t.oxw();return t.KtG(d.searchDropdownText=l)})("input",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.onSearchChange())}),t.qZA()()(),t.YNc(10,rt,9,1,"li",48),t.TgZ(11,"div",49),t._UZ(12,"hr",50),t.qZA(),t.YNc(13,lt,8,0,"li",51),t.YNc(14,dt,5,3,"li",52),t.YNc(15,mt,7,4,"li",53),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.headerActions),t.xp6(3),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function ft(o,u){1&o&&t._UZ(0,"tr",79)}function _t(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"tr",80),t.NdJ("click",function(){const d=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.rowClick(d.id))}),t.qZA()}if(2&o){const e=u.$implicit,s=t.oxw();t.ekj("selected",s.selectedRow==e.id)}}function Ct(o,u){1&o&&(t.TgZ(0,"div",81),t._UZ(1,"img",82),t.TgZ(2,"h3",83),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",84),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const At=function(){return[8,16,24]};let Tt=(()=>{class o{constructor(e,s,l,d,h,C){this.matDialog=e,this.taskCodesService=s,this.CustomAlertService=l,this.router=d,this.fb=h,this.http=C,this.INITIAL_PAGE=1,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName"),this.editedRows=[],this.keyValue="",this.dataSource=new _.by,this.duplicateSource=[],this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.allData=[],this.isLoading=!0,this.noData=!1,this.filteredData=[],this.pageData=[],this.isSearchMode=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.displayedColumns=["Attribute","Value","LastChanged","User","Status","Actions"],this.searchKeywords=[],this.searchInput$=new R.x,this.columnShowHideList=[]}ngOnInit(){this.element=history.state;const s=(d,h)=>String(d).padStart(h,"0");console.log(s(this.element.TSSTOR,4)),this.keyValue=s(this.element.TSSTOR,4),this.form=this.fb.group({FLID:"TS",KEY:this.element.TSTASK+s(this.element.TSSTOR,4)}),this.initializeColumnProperties(),this.editedRows=[],this.getTaskCodesAttributes(this.pageSize,this.INITIAL_PAGE),this.searchInput$.pipe((0,J.b)(500),(0,F.x)()).subscribe(d=>{this.handleSearch(d)}),this.http.get("assets/jsondata/task-codes-attributes.json").subscribe(d=>{this.headerActions=d.header,this.menuItems=d.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=d.search;const h=localStorage.getItem("recentSearches");if(h){const C=JSON.parse(h);this.recentSearches=this.menuItems.filter(U=>C.includes(U.label))}this.filteredRecentSearches=[...this.recentSearches]})}getAllTaskCodesAttributes(e){var s=this;return(0,i.Z)(function*(){if(s.allData?.length>0)return void(e&&e());s.isLoading=!0,s.noData=!1,s.dataSource=new _.by([]);const{KEY:l=""}=s.form.value||{};let d=1,h=1,C=[];do{const bt=(yield s.taskCodesService.getTaskCodesAttributes(s.user,l,8,d).toPromise())?.[0]?.data?.[1]?.value||"{}",L=JSON.parse(bt);C.push(...L.returnedData||[]),s.totalRecords=L.TotalRecords||0,h=Math.ceil(s.totalRecords/8),d++}while(d<=h);s.allData=C,s.dataSource.data=C,s.noData=0===C.length,s.isLoading=!1,e&&e()})()}handleSearch(e){if(!(e=e.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.noData=!1,this.paginator&&this.paginator.firstPage(),void this.getTaskCodesAttributes(this.pageSize,1);this.isSearchMode=!0,0!==this.allData.length?this.applyManualFilter(e):this.getAllTaskCodesAttributes(()=>this.applyManualFilter(e))}applyManualFilter(e){this.filteredData=this.allData.filter(s=>Object.values(s).some(l=>String(l).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const s=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(s,s+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}handleCustomerNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new _.by([])}resetSearch(){this.form.reset(),this.currentFilters=null,this.dataSource.filter="",this.allData=[],this.paginator.firstPage(),this.getTaskCodesAttributes(this.pageSize,this.INITIAL_PAGE)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(s=>s.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(s=>s.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(s=>s.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}handleItemClick(e,s){this.executeAction(e,s),this.addToRecentSearches(e)}executeAction(e,s){"function"==typeof this[e.action]?this[e.action](s):console.warn("Action not implemented:",e.action)}handleRecentClick(e,s){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](s),this.addToRecentSearches(e)}getCustomerBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getTaskCodesAttributes(this.pageSize,this.INITIAL_PAGE)}applyGlobalFilterInput(e){this.searchInput$.next(e)}onPaginateChange(e){this.pageSize=e.pageSize,this.getTaskCodesAttributes(e.pageSize,e.pageIndex+this.INITIAL_PAGE)}ngOnDestroy(){this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe()}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let s=this.displayedColumns.indexOf(e.name);s>-1&&this.displayedColumns.splice(s,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,s)=>{"Actions"!=e&&this.columnShowHideList.push({position:s,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Key",isActive:!1})}rowClick(e){this.selectedRow=e}getTaskCodesAttributes(e,s){this.isLoading=!0,this.noData=!1,this.dataSource=new _.by([]);const{KEY:l=""}=this.form.value||{};this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.taskCodesSubscription=this.taskCodesService.getTaskCodesAttributes(this.user,l,e,s).subscribe({next:d=>{this.isLoading=!1;try{const C=JSON.parse(d?.[0]?.data?.[1]?.value||"{}"),U=C?.returnedData||[];this.totalRecords=C?.TotalRecords||0,this.allData=[],this.filteredData=[],this.noData=0===U.length,this.dataSource.data=U,this.paginator&&(this.paginator.length=this.totalRecords)}catch(h){console.error("Parse error:",h),this.handleTaskCodesNoData()}},error:()=>this.handleTaskCodesNoData()})}handleTaskCodesNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new _.by([])}taskCodesAttributesDelete(e){var s=this.form.value;this.CustomAlertService.openCustomAlert("Are you sure want to delete this attribute: "+e.EAATRB+" ?").afterClosed().subscribe(d=>{d&&(this.deleteTaskCodesAttributesSubscription&&this.deleteTaskCodesAttributesSubscription.unsubscribe(),this.deleteTaskCodesAttributesSubscription=this.taskCodesService.taskCodesAttributesDelete(s.KEY,e.EAATRB).subscribe(h=>{const C=h?.[0]?.data?.[h[0].data.length-1]?.value;C?.toUpperCase()===b.R.deleteShortMsg.toUpperCase()?(this.successMessage(C),this.getTaskCodesAttributes()):this.failureMessage(C)}))})}onBack(){this.router.navigate(["/main-nav/task-codes/read"])}taskCodesAttributesCreateForm(e){this.matDialog.open(p,{panelClass:"right-dialog",data:e,autoFocus:!1})}taskCodesAttributesChangeForm(e){this.matDialog.open(M,{panelClass:"right-dialog",data:[this.element,e],autoFocus:!1})}successMessage(e){A().fire(e,"","success")}failureMessage(e){A().fire(e,"","error")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(y.uw),t.Y36(Z.x),t.Y36(P.y),t.Y36(g.F0),t.Y36(m.qu),t.Y36(B.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-attributes"]],viewQuery:function(e,s){if(1&e&&t.Gf(c.NW,5),2&e){let l;t.iGM(l=t.CRH())&&(s.paginator=l.first)}},standalone:!0,features:[t.jDz],decls:59,vars:11,consts:[[1,"over-Flow"],[1,"d-flex","align-items-center"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["mat-button","","matTooltip","Add New Attribute",1,"addButton",3,"click"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","readonly","","formControlName","FLID"],["matInput","","readonly","","formControlName","KEY"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Attribute"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Value"],["matColumnDef","LastChanged"],["matColumnDef","User"],["matColumnDef","Status"],["matColumnDef","Key"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row","",3,"click"],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,s){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return s.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before"),t.qZA()(),t._uU(6," Work With Entity Attributes "),t.qZA(),t.TgZ(7,"div",3)(8,"button",4),t.NdJ("click",function(){return s.taskCodesAttributesCreateForm(s.element)}),t.TgZ(9,"mat-icon"),t._uU(10,"add"),t.qZA(),t.TgZ(11,"span"),t._uU(12,"Create Attribute"),t.qZA()(),t.TgZ(13,"mat-menu",5,6)(15,"div",7),t.YNc(16,q,6,2,"ng-container",8),t.qZA()(),t.TgZ(17,"button",9)(18,"mat-icon"),t._uU(19,"visibility_off"),t.qZA()()()(),t.TgZ(20,"mat-card-content",10)(21,"form",11)(22,"div",12)(23,"div",13)(24,"mat-form-field",14)(25,"mat-label"),t._uU(26,"File ID"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.TgZ(28,"mat-form-field",14)(29,"mat-label"),t._uU(30,"Key"),t.qZA(),t._UZ(31,"input",16),t.qZA()()()()(),t.TgZ(32,"table",17),t.ynx(33,18),t.YNc(34,$,2,0,"th",19),t.YNc(35,Q,2,1,"td",20),t.BQk(),t.ynx(36,21),t.YNc(37,H,2,0,"th",19),t.YNc(38,V,2,1,"td",20),t.BQk(),t.ynx(39,22),t.YNc(40,j,2,0,"th",19),t.YNc(41,G,2,1,"td",20),t.BQk(),t.ynx(42,23),t.YNc(43,z,2,0,"th",19),t.YNc(44,X,2,1,"td",20),t.BQk(),t.ynx(45,24),t.YNc(46,tt,2,0,"th",19),t.YNc(47,et,2,1,"td",20),t.BQk(),t.ynx(48,25),t.YNc(49,st,2,0,"th",19),t.YNc(50,ot,2,1,"td",20),t.BQk(),t.ynx(51,26),t.YNc(52,it,2,0,"th",27),t.YNc(53,gt,16,6,"td",20),t.BQk(),t.YNc(54,ft,1,0,"tr",28),t.YNc(55,_t,1,2,"tr",29),t.qZA(),t.YNc(56,Ct,6,0,"div",30),t.TgZ(57,"mat-paginator",31,32),t.NdJ("page",function(d){return s.onPaginateChange(d)}),t.qZA()()),2&e){const l=t.MAs(14);t.xp6(16),t.Q6J("ngForOf",s.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",l),t.xp6(4),t.Q6J("formGroup",s.form),t.xp6(11),t.Q6J("dataSource",s.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("ngIf",!s.isLoading&&s.noData),t.xp6(1),t.Q6J("length",s.totalRecords)("pageSizeOptions",t.DdM(10,At))("pageSize",s.pageSize)}},dependencies:[x.m,v.sg,v.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,m.sg,m.u,c.NW,S.Hw,W.VK,W.p6,E.lW,f.KE,f.hX,w.Nt,r.a8,r.dk,r.dn,r.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,Y.gM,K.Rr]}),o})()}}]);