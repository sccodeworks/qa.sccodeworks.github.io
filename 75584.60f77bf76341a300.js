"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[75584],{75584:(B,r,o)=>{o.r(r),o.d(r,{RfEquipmentQuestionsComponent:()=>b});var _=o(98739),u=o(7155),d=o(70879),t=o(94650),l=o(24006),f=o(19132),E=o(65412),g=o(11527),C=o(36895),p=o(59549),h=o(44144),M=o(84385),Q=o(3238),m=o(73546),D=o(10266);function T(n,i){1&n&&t._UZ(0,"th",22)}function U(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",23)(1,"mat-select",24),t.NdJ("selectionChange",function(s){const I=t.CHM(e).$implicit,y=t.oxw();return t.KtG(y.onQuestionChange(I,s.value))}),t.TgZ(2,"mat-option",25),t._uU(3,"Y = OK"),t.qZA(),t.TgZ(4,"mat-option",26),t._uU(5,"M = Maintenance"),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(1),t.Q6J("value",e.Question)}}function v(n,i){1&n&&(t.TgZ(0,"th",22),t._uU(1,"Maintenance Question"),t.qZA())}function O(n,i){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.MaintQuestions)}}function R(n,i){1&n&&t._UZ(0,"tr",27)}function Z(n,i){1&n&&t._UZ(0,"tr",28)}function A(n,i){1&n&&(t.TgZ(0,"button",29),t._uU(1," Update "),t.qZA())}function P(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.updateEquip())}),t._uU(1," Update "),t.qZA()}}const q=function(){return[8,16,24]};let b=(()=>{class n{constructor(e,a,s,c){this.fb=e,this.router=a,this.matDialog=s,this.supplyPoolSvc=c,this.displayedColumns=["Question","MaintQuestions"],this.form=this.fb.group({Building:localStorage.getItem("building")||"",Equip:localStorage.getItem("equipment")||"",Meter:""}),this.maintOptions=["Y","M"],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.dataSource=new u.by,this.isUpdateEnabled=!1}ngOnInit(){const a=this.router.getCurrentNavigation()?.extras.state;a?.maintQuestions&&this.bindMaintQuestions(a.maintQuestions)}bindMaintQuestions(e){const a=e.map(s=>({MaintQuestions:s.EZQUES,Question:""}));this.dataSource.data=a,this.isUpdateEnabled=!1}updateEquip(){const e=localStorage.getItem("rfTargetPath");this.router.navigateByUrl(e||"/main-nav")}allQuestionsSelected(){const e=this.dataSource.data;return e.length>0&&e.every(a=>"Y"===a.Question||"M"===a.Question)}onQuestionChange(e,a){e.Question=a,this.isUpdateEnabled=this.dataSource.data.every(s=>"Y"===s.Question||"M"===s.Question)}ngOnDestroy(){this.equipSubscription&&this.equipSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(f.F0),t.Y36(E.uw),t.Y36(g.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-rf-equipment-questions"]],viewQuery:function(e,a){if(1&e&&t.Gf(_.NW,5),2&e){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:35,vars:8,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Building","readonly",""],["matInput","","formControlName","Equip","readonly",""],["matInput","","formControlName","Meter"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Question"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","MaintQuestions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"right-side"],["class","buttons button2","matTooltip","Answer all questions",4,"ngIf"],["class","buttons button2",3,"click",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["placeholder","Select",3,"value","selectionChange"],["value","Y"],["value","M"],["mat-header-row",""],["mat-row",""],["matTooltip","Answer all questions",1,"buttons","button2"],[1,"buttons","button2",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3,"Equipment Maintenance Questions"),t.qZA()(),t.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Building Number"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Equip#"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"Meter"),t.qZA(),t._UZ(19,"input",9),t.qZA()()()()(),t.TgZ(20,"table",10),t.ynx(21,11),t.YNc(22,T,1,0,"th",12),t.YNc(23,U,6,1,"td",13),t.BQk(),t.ynx(24,14),t.YNc(25,v,2,0,"th",12),t.YNc(26,O,2,1,"td",13),t.BQk(),t.YNc(27,R,1,0,"tr",15),t.YNc(28,Z,1,0,"tr",16),t.qZA(),t.TgZ(29,"div",17)(30,"div",17),t.YNc(31,A,2,0,"button",18),t.YNc(32,P,2,0,"button",19),t.qZA()(),t._UZ(33,"mat-paginator",20,21),t.qZA()),2&e&&(t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(15),t.Q6J("dataSource",a.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(3),t.Q6J("ngIf",!a.isUpdateEnabled),t.xp6(1),t.Q6J("ngIf",a.isUpdateEnabled),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(7,q)))},dependencies:[d.m,C.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,_.NW,p.KE,p.hX,h.Nt,M.gD,Q.ey,m.a8,m.dk,m.dn,m.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,D.gM]}),n})()}}]);