"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[7119],{39505:(I,g,i)=>{i.d(g,{L:()=>A});var _=i(24006),f=i(59549),T=i(69751),C=i(68675),t=i(54004),n=i(94650),E=i(36895),O=i(47957),x=i(3238),v=i(44144);function d(r,c){if(1&r&&(n.TgZ(0,"mat-option",4),n._uU(1),n.qZA()),2&r){const a=c.$implicit;n.Q6J("value",a),n.xp6(1),n.Oqu(a)}}let A=(()=>{class r{constructor(a){this.fb=a,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=s=>{},this.onChange=s=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new T.y,this.filteredOptions=this.control.valueChanges.pipe((0,C.O)(this.value),(0,t.U)(s=>this._filter(s)))}setDescribedByIds(a){}onContainerClick(a){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(a){null!=a&&(this.control.setValue(a),this.value=a)}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}_filter(a){if(null==a||0==a.length)return this.options;const s=a.toLowerCase(),p=this.options.filter(L=>L.toLowerCase().includes(s));return!this.disabled&&1===p.length&&this.control.value!=p[0]&&a.length>=(this.previousValue?.length??0)&&this.control.setValue(p[0]),this.onChange(this.control.value),this.previousValue=this.control.value,p}}return r.\u0275fac=function(a){return new(a||r)(n.Y36(_.qu))},r.\u0275cmp=n.Xpm({type:r,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(a,s){2&a&&n.uIk("aria-describedby",s.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[n._Bn([{provide:_.JU,multi:!0,useExisting:r},{provide:f.Eo,useExisting:r}],[{provide:_.gN,useExisting:_.sg}])],decls:8,vars:8,consts:[[3,"appearance"],["matInput","",3,"id","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,s){if(1&a&&(n.TgZ(0,"mat-form-field",0)(1,"mat-label"),n._uU(2),n.qZA(),n._UZ(3,"input",1),n.TgZ(4,"mat-autocomplete",null,2),n.YNc(6,d,2,2,"mat-option",3),n.ALo(7,"async"),n.qZA()()),2&a){const p=n.MAs(5);n.Q6J("appearance",s.appearance),n.xp6(2),n.Oqu(s.label),n.xp6(1),n.Q6J("id",s.id)("formControl",s.control)("matAutocomplete",p),n.xp6(3),n.Q6J("ngForOf",n.lcZ(7,6,s.filteredOptions))}},dependencies:[E.sg,_.Fj,_.JJ,_.oH,O.XC,O.ZL,x.ey,f.KE,f.hX,v.Nt,E.Ov]}),r})()},37119:(I,g,i)=>{i.r(g),i.d(g,{LotBalanceComponent:()=>N});var _=i(50692),f=i(70879),T=i(35226),C=i.n(T),t=i(94650),n=i(24006),E=i(19132),O=i(78568),x=i(36895),v=i(4859),d=i(59549),A=i(44144),r=i(73546),c=i(39505);function a(l,u){1&l&&(t.TgZ(0,"div"),t._uU(1,"Email File Extension is required."),t.qZA())}function s(l,u){1&l&&(t.TgZ(0,"div"),t._uU(1,"Please enter a valid Email File Extension."),t.qZA())}function p(l,u){if(1&l&&(t.TgZ(0,"mat-error"),t.YNc(1,a,2,0,"div",19),t.YNc(2,s,2,0,"div",19),t.qZA()),2&l){const e=t.oxw(2);let o,m;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("EmailFileExtension"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(m=e.form.get("EmailFileExtension"))||null==m.errors?null:m.errors.FileExtension)}}function L(l,u){if(1&l&&(t.TgZ(0,"custom-input-autocomplete",18),t.YNc(1,p,3,2,"mat-error",19),t.qZA()),2&l){const e=t.oxw();let o;t.Q6J("options",e.fileExtensionOptions),t.xp6(1),t.Q6J("ngIf",(null==(o=e.form.get("EmailFileExtension"))?null:o.invalid)&&((null==(o=e.form.get("EmailFileExtension"))?null:o.dirty)||(null==(o=e.form.get("EmailFileExtension"))?null:o.touched)))}}function U(l,u){1&l&&(t.TgZ(0,"div"),t._uU(1,"Extract View is required."),t.qZA())}function B(l,u){if(1&l&&(t.TgZ(0,"mat-error"),t.YNc(1,U,2,0,"div",19),t.qZA()),2&l){const e=t.oxw(2);let o;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("ExtractView"))||null==o.errors?null:o.errors.required)}}function M(l,u){if(1&l&&(t.TgZ(0,"custom-input-autocomplete",20),t.YNc(1,B,2,1,"mat-error",19),t.qZA()),2&l){const e=t.oxw();let o;t.Q6J("options",e.extractViewOptions),t.xp6(1),t.Q6J("ngIf",(null==(o=e.form.get("ExtractView"))?null:o.invalid)&&((null==(o=e.form.get("ExtractView"))?null:o.dirty)||(null==(o=e.form.get("ExtractView"))?null:o.touched)))}}function R(l,u){1&l&&(t.TgZ(0,"div"),t._uU(1,"Email is required."),t.qZA())}function P(l,u){1&l&&(t.TgZ(0,"div"),t._uU(1,"Please enter a valid Email."),t.qZA())}function D(l,u){if(1&l&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,0,"div",19),t.YNc(2,P,2,0,"div",19),t.qZA()),2&l){const e=t.oxw(2);let o,m;t.xp6(1),t.Q6J("ngIf",null==(o=e.form.get("Email"))||null==o.errors?null:o.errors.required),t.xp6(1),t.Q6J("ngIf",null==(m=e.form.get("Email"))||null==m.errors?null:m.errors.ContactType)}}function Z(l,u){if(1&l&&(t.TgZ(0,"mat-form-field",6)(1,"mat-label"),t._uU(2,"Email:"),t.qZA(),t._UZ(3,"input",21),t.YNc(4,D,3,2,"mat-error",19),t.qZA()),2&l){const e=t.oxw();let o;t.xp6(4),t.Q6J("ngIf",(null==(o=e.form.get("Email"))?null:o.invalid)&&((null==(o=e.form.get("Email"))?null:o.dirty)||(null==(o=e.form.get("Email"))?null:o.touched)))}}let N=(()=>{class l{constructor(e,o,m,h){this.fb=e,this.router=o,this.route=m,this.ReportsService=h,this.IncludeQuantitiesOptions=["*ALL","*AVAIL","*DAMAGE","*HELD","*USER1","*USER2","*USER3","*USER4","*NEGATIVE","*OVERALLOC","*NONZERO"],this.UseItemCrossReferenceOptions=["Y-Yes","N-No"],this.ReportUnitsOptions=["*QUANTITY","*PALLETS","*CASES","*CWEIGHT","*CUBES"],this.ReportTitleOptions=["Lot Balance Report"],this.OutputOptions=["*REPORT","*EMAIL"],this.extractViewOptions=["*DEFAULT"],this.fileExtensionOptions=["CSV","TXT","HTML","XLM"],this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({StorerNumber:"",StorerSuffix:"",Quantity:"",XReference:"",ReportUnits:"",ReportTitle:"",OutPut:"",EmailFileExtension:"",ExtractView:"",Email:""}),this.form.get("OutPut")?.valueChanges.subscribe(e=>{this.FileextensionContactype()||(this.form.get("EmailFileExtension")?.setValue(""),this.form.get("ExtractView")?.setValue(""),this.form.get("Email")?.setValue(""))})}FileextensionContactype(){return"*EMAIL"===this.form.get("OutPut")?.value}LotBalance(){const e=this.form.value;"Y-Yes"===e.XReference&&(e.XReference="Y"),"N-No"===e.XReference&&(e.XReference="N"),this.LotBalanceSubscription&&this.LotBalanceSubscription.unsubscribe(),this.LotBalanceSubscription=this.ReportsService.LotBalance(e.StorerNumber,e.StorerSuffix,e.Quantity,e.XReference,e.ReportUnits,e.ReportTitle,e.OutPut,e.EmailFileExtension,e.ExtractView,e.Email).subscribe(o=>{const h=o[0].data[o[0].data.length-1].value;"Successfully Submitted"===h?(this.successMessage(h),this.router.navigate(["/main-nav/LotBalance/read"])):this.failureMessage(h)})}successMessage(e){C().fire(e,"","success")}failureMessage(e){C().fire(e,"","error")}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(n.qu),t.Y36(E.F0),t.Y36(E.gz),t.Y36(O.F))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-lot-balance"]],standalone:!0,features:[t.jDz],decls:26,vars:9,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","StorerNumber"],["matInput","","formControlName","StorerSuffix"],["appearance","outline","formControlName","Quantity","label"," Include Quantities",3,"options"],["appearance","outline","formControlName","XReference","label"," Use Item Cross-Reference",3,"options"],["appearance","outline","formControlName","ReportUnits","label"," Report Units",3,"options"],["appearance","outline","formControlName","ReportTitle","label","Report Title",3,"options"],["appearance","outline","formControlName","OutPut","label","Output",1,"full-width",3,"options"],["appearance","outline","class","full-width","formControlName","EmailFileExtension","label","Email File Extension",3,"options",4,"ngIf"],["appearance","outline","class","full-width","formControlName","ExtractView","label","Extract View",3,"options",4,"ngIf"],["appearance","outline","class","full-width",4,"ngIf"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"],["appearance","outline","formControlName","EmailFileExtension","label","Email File Extension",1,"full-width",3,"options"],[4,"ngIf"],["appearance","outline","formControlName","ExtractView","label","Extract View",1,"full-width",3,"options"],["matInput","","formControlName","Email","placeholder","Email"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Lot Balance Report"),t.qZA()(),t.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Storer Number "),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Storer Suffix "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t._UZ(16,"custom-input-autocomplete",9)(17,"custom-input-autocomplete",10)(18,"custom-input-autocomplete",11)(19,"custom-input-autocomplete",12)(20,"custom-input-autocomplete",13),t.YNc(21,L,2,2,"custom-input-autocomplete",14),t.YNc(22,M,2,2,"custom-input-autocomplete",15),t.YNc(23,Z,5,1,"mat-form-field",16),t.qZA()(),t.TgZ(24,"button",17),t.NdJ("click",function(){return o.LotBalance()}),t._uU(25,"Submit"),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("options",o.IncludeQuantitiesOptions),t.xp6(1),t.Q6J("options",o.UseItemCrossReferenceOptions),t.xp6(1),t.Q6J("options",o.ReportUnitsOptions),t.xp6(1),t.Q6J("options",o.ReportTitleOptions),t.xp6(1),t.Q6J("options",o.OutputOptions),t.xp6(1),t.Q6J("ngIf",o.FileextensionContactype()),t.xp6(1),t.Q6J("ngIf",o.FileextensionContactype()),t.xp6(1),t.Q6J("ngIf",o.FileextensionContactype()))},dependencies:[f.m,x.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,v.lW,d.TO,d.KE,d.hX,A.Nt,r.a8,r.dk,r.dn,r.n5,_.j,c.L]}),l})()}}]);