"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[18864],{18864:(D,v,o)=>{o.r(v),o.d(v,{LpFloorMoveComponent:()=>y});var n=o(24006),p=o(65412),S=o(70879),F=o(35226),u=o.n(F),e=o(94650),M=o(21641),b=o(19132),C=o(36895),U=o(97392),Z=o(4859),d=o(59549),I=o(44144),m=o(73546);function T(s,c){1&s&&(e.TgZ(0,"mat-error"),e._uU(1," Storer is required "),e.qZA())}let A=(()=>{class s{constructor(t,i,r,l,a){this.data=t,this.dialogRef=i,this.lpFloorMoveService=r,this.fb=l,this.router=a,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({storer:["",n.kI.required],suffix:"",name:{value:"",disabled:!0}})}ngOnDestroy(){this.storerSelectionSubscription&&this.storerSelectionSubscription.unsubscribe()}storerSelection(){const t=this.form.value;this.storerSelectionSubscription&&this.storerSelectionSubscription.unsubscribe(),this.storerSelectionSubscription=this.lpFloorMoveService.storerSelection(this.user,t.storer??0).subscribe(r=>{const l=r?.[0]?.data??[],a=l.length,f=a?l[a-1]?.value:void 0,h=l[2]?.value??t.storer;f?.toUpperCase()==="Call AJU812RLP for LP Floor Move".toUpperCase()?(this.router.navigateByUrl("/main-nav/lpFloorMove/serializedMove/read",{state:{storer:h,data:l}}),this.closeDialog()):this.failureMessage(f)})}successMessage(t){u().fire(t,"","success")}failureMessage(t){u().fire(t,"","error"),this.router.navigate(["/dashboard"])}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(p.WI),e.Y36(p.so),e.Y36(M.D),e.Y36(n.qu),e.Y36(b.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-storer-selection"]],standalone:!0,features:[e.jDz],decls:27,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","storer"],[4,"ngIf"],["matInput","","formControlName","suffix"],["matInput","","formControlName","name"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Storer Selection"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return i.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Storer"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,T,2,0,"mat-error",10),e.qZA(),e.TgZ(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"Suffix"),e.qZA(),e._UZ(20,"input",11),e.qZA(),e.TgZ(21,"mat-form-field",8)(22,"mat-label"),e._uU(23,"Name"),e.qZA(),e._UZ(24,"input",12),e.qZA()()(),e.TgZ(25,"button",13),e.NdJ("click",function(){return i.storerSelection()}),e._uU(26," Enter "),e.qZA()()()()),2&t){let r;e.xp6(9),e.Q6J("formGroup",i.form),e.xp6(7),e.Q6J("ngIf",null==(r=i.form.get("storer"))?null:r.hasError("required"))}},dependencies:[S.m,C.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,U.Hw,Z.lW,d.TO,d.KE,d.hX,I.Nt,m.a8,m.dk,m.dn,m.n5]}),s})(),y=(()=>{class s{constructor(t,i,r,l){this.fb=t,this.router=i,this.lpFloorMoveService=r,this.matDialog=l,this.user=localStorage.getItem("userName"),this.building=localStorage.getItem("building"),this.storer=localStorage.getItem("storer"),this.storerSuffix=localStorage.getItem("storerSuffix"),this.status=localStorage.getItem("status")}ngOnInit(){this.form=this.fb.group({}),this.storerSelection()}ngOnDestroy(){this.lpFloorMoveSubscription&&this.lpFloorMoveSubscription.unsubscribe()}storerSelection(){this.storer=localStorage.getItem("storer"),this.lpFloorMoveSubscription&&this.lpFloorMoveSubscription.unsubscribe(),this.lpFloorMoveSubscription=this.lpFloorMoveService.storerSelection(this.user,"").subscribe(i=>{const r=i?.[0]?.data??[],l=r?.length,a=l?r[l-1]?.value:void 0,g=r[2]?.value??this.storer;if("Get the storer information"!==a)return a?.toUpperCase()==="Call AJU812RLP for LP Floor Move".toUpperCase()?(this.storer=g,void this.router.navigateByUrl("/main-nav/lpFloorMove/serializedMove/read",{state:{storer:this.storer,data:r}})):void(a?.toUpperCase()!=="Call AJU810R for Floor Move".toUpperCase()?this.failureMessage(a):this.failureMessage("Functionality is available only for LP-based accounts"));this.matDialog.open(A,{width:"1000px",maxHeight:"80vh",data:r,autoFocus:!1})})}successMessage(t){u().fire(t,"","success")}failureMessage(t){u().fire(t,"","error")}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(n.qu),e.Y36(b.F0),e.Y36(M.D),e.Y36(p.uw))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-lp-floor-move"]],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(t,i){},dependencies:[S.m]}),s})()}}]);