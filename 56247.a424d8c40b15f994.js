"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[56247,34894,11790,26628,38754,85645,70096,49741],{34894:(D,y,l)=>{l.d(y,{e:()=>h});var S=l(94650),n=l(24006);let h=(()=>{class N{constructor(p,t){this.el=p,this.control=t}onInputChange(p){const t=this.el.nativeElement,m=t.value.toUpperCase();t.value=m,this.control&&this.control.control&&this.control.control.setValue(m,{emitEvent:!1})}}return N.\u0275fac=function(p){return new(p||N)(S.Y36(S.SBq),S.Y36(n.a5))},N.\u0275dir=S.lG2({type:N,selectors:[["","appUppercase",""]],hostBindings:function(p,t){1&p&&S.NdJ("input",function(u){return t.onInputChange(u)})},standalone:!0}),N})()},11790:(D,y,l)=>{l.d(y,{y:()=>p});var S=l(65412),n=l(94650),h=l(97392),N=l(4859);let _=(()=>{class t{constructor(u,f){this.dialogRef=u,this.data=f}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return t.\u0275fac=function(u){return new(u||t)(n.Y36(S.so),n.Y36(S.WI))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(u,f){1&u&&(n.TgZ(0,"div",0)(1,"div",1)(2,"button",2),n.NdJ("click",function(){return f.closeDialog()}),n.TgZ(3,"mat-icon"),n._uU(4,"close"),n.qZA()(),n.TgZ(5,"div",3),n._UZ(6,"img",4),n.qZA(),n.TgZ(7,"h2",5),n._uU(8,"Confirmation"),n.qZA(),n.TgZ(9,"span",6),n._uU(10),n.qZA()(),n.TgZ(11,"div",7)(12,"button",8),n._uU(13,"Cancel"),n.qZA(),n.TgZ(14,"button",9),n._uU(15,"Delete"),n.qZA()()()),2&u&&(n.xp6(10),n.Oqu(f.data.message),n.xp6(2),n.Q6J("mat-dialog-close",!1),n.xp6(2),n.Q6J("mat-dialog-close",!0))},dependencies:[h.Hw,N.lW,S.ZT]}),t})(),p=(()=>{class t{constructor(u){this.dialog=u}openCustomAlert(u){return this.dialog.open(_,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:u}})}}return t.\u0275fac=function(u){return new(u||t)(n.LFG(S.uw))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},56247:(D,y,l)=>{l.r(y),l.d(y,{WwSupplytransactionsComponent:()=>Xt});var S=l(15861),n=l(24006),h=l(65412),N=l(35226),_=l.n(N),p=l(70879),t=l(94650),m=l(95190),u=l(19132),f=l(36895),Z=l(97392),b=l(4859),C=l(59549),q=l(44144),E=l(84385),M=l(3238),g=l(73546);function V(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Document Type is required. "),t.qZA())}function B(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Pool Affected is required for Document Types 'O' and 'A'. "),t.qZA())}function $(a,s){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Whose Invoice is required for Document Types 'O', 'A', and 'I'. "),t.qZA())}let z=(()=>{class a{constructor(e,o,i,r,c){this.SupplyTransactions=e,this.anyvariable=o,this.dialogRef=i,this.router=r,this.fb=c,this.user=localStorage.getItem("userName")}ngOnDestroy(){this.SupplyTransactionSubscription&&this.SupplyTransactionSubscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({SNTRAN:[this.anyvariable.SNTRAN,n.kI.required],SNSTOR:[this.anyvariable.SNSTOR,[n.kI.required,n.kI.maxLength(4),n.kI.pattern("^[0-9]*$")]],SNSSFX:[this.anyvariable.SNSSFX,[n.kI.required,n.kI.maxLength(2),n.kI.pattern("^[A-Za-z]*$")]],SNCONS:[this.anyvariable.SNCONS,[n.kI.required,n.kI.maxLength(12),n.kI.pattern("^[A-Za-z]*$")]],SNCARR:[this.anyvariable.SNCARR,[n.kI.required,n.kI.maxLength(15),n.kI.pattern("^[A-Za-z]*$")]],SNTYPE:[this.anyvariable.SNTYPE,[n.kI.required,n.kI.maxLength(10),n.kI.pattern("^[A-Za-z]*$")]],SNDOCT:[this.anyvariable.SNDOCT,[n.kI.required,n.kI.maxLength(1),n.kI.pattern("^[A-Za-z]*$")]],SNDOCN:[this.anyvariable.SNDOCN,[n.kI.maxLength(9),n.kI.pattern("^[0-9]*$")]],SNLOCN:[this.anyvariable.SNLOCN,[n.kI.maxLength(16),n.kI.pattern("^[A-Za-z0-9]*$")]],SNRQTY:[this.anyvariable.SNRQTY,[n.kI.maxLength(7),n.kI.pattern("^[0-9]*$")]],SNUQTY:[this.anyvariable.SNUQTY,[n.kI.maxLength(7),n.kI.pattern("^[0-9]*$")]],SNXQTY:[this.anyvariable.SNXQTY,[n.kI.maxLength(7),n.kI.pattern("^[0-9]*$")]],SNPOOL:[this.anyvariable.SNPOOL,[n.kI.required,n.kI.maxLength(1),n.kI.pattern("^[A-Za-z]*$")]],SNREAS:[this.anyvariable.SNREAS,[n.kI.maxLength(2),n.kI.pattern("^[A-Za-z]*$")]],SNSPID:[this.anyvariable.SNSPID,[n.kI.maxLength(30),n.kI.pattern("^[A-Za-z0-9]*$")]],SNNUMB:[this.anyvariable.SNNUMB,[n.kI.maxLength(3),n.kI.pattern("^[0-9]*$")]],SNINVP:[this.anyvariable.SNINVP,[n.kI.required,n.kI.maxLength(1),n.kI.pattern("^[A-Za-z]*$")]],SNSTAT:[this.anyvariable.SNSTAT,[n.kI.maxLength(2),n.kI.pattern("^[A-Za-z]*$")]]}),this.setupDocumentTypeValidation()}setupDocumentTypeValidation(){this.form.get("SNDOCT")?.valueChanges.subscribe(e=>{this.resetValidation(),"O"===e?(this.form.get("SNTYPE")?.setValidators([n.kI.required]),this.form.get("SNDOCN")?.setValidators([n.kI.required]),this.form.get("SNPOOL")?.setValidators([n.kI.required]),this.form.get("SNINVP")?.setValidators([n.kI.required])):"A"===e?(this.form.get("SNTYPE")?.setValidators([n.kI.required]),this.form.get("SNPOOL")?.setValidators([n.kI.required]),this.form.get("SNINVP")?.setValidators([n.kI.required])):"I"===e&&(this.form.get("SNCONS")?.setValidators([n.kI.required]),this.form.get("SNCARR")?.setValidators([n.kI.required]),this.form.get("SNTYPE")?.setValidators([n.kI.required]),this.form.get("SNDOCN")?.setValidators([n.kI.required]),this.form.get("SNPOOL")?.setValidators([n.kI.required]),this.form.get("SNINVP")?.setValidators([n.kI.required])),this.form.get("SNTYPE")?.updateValueAndValidity(),this.form.get("SNDOCN")?.updateValueAndValidity(),this.form.get("SNPOOL")?.updateValueAndValidity(),this.form.get("SNINVP")?.updateValueAndValidity(),this.form.get("SNCONS")?.updateValueAndValidity(),this.form.get("SNCARR")?.updateValueAndValidity()})}resetValidation(){this.form.get("SNTYPE")?.clearValidators(),this.form.get("SNDOCN")?.clearValidators(),this.form.get("SNPOOL")?.clearValidators(),this.form.get("SNINVP")?.clearValidators(),this.form.get("SNCONS")?.clearValidators(),this.form.get("SNCARR")?.clearValidators()}updateSupplyTransactions(){var e=this.form.value;this.SupplyTransactionSubscription&&this.SupplyTransactionSubscription.unsubscribe(),this.SupplyTransactionSubscription=this.SupplyTransactions.updateSupplyTransactions(this.user,e.SNTRAN,e.SNSTOR,e.SNSSFX,e.SNCONS,e.SNCARR,e.SNDOCT,e.SNDOCN,e.SNTYPE,e.SNLOCN,e.SNRQTY,e.SNUQTY,e.SNXQTY,e.SNPOOL,e.SNINVP,e.SNREAS,e.SNSPID,e.SNNUMB,e.SNSTAT).subscribe(o=>{this.result=o;const r=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;if("Record Updated Successfully"===r)this.successMessage(r),this.closeDialog(),this.router.navigate(["/main-nav/supply-transactions/read"]);else{const c=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(c)}})}successMessage(e){_().fire(e,"","success")}failureMessage(e){_().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.c),t.Y36(h.WI),t.Y36(h.so),t.Y36(u.F0),t.Y36(n.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ww-supplytransactions-change"]],standalone:!0,features:[t.jDz],decls:108,vars:4,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SNTRAN"],["matInput","","formControlName","SNSTOR"],["matInput","","formControlName","SNSSFX",2,"text-transform","uppercase"],["matInput","","formControlName","SNCONS",2,"text-transform","uppercase"],["matInput","","formControlName","SNCARR",2,"text-transform","uppercase"],["matInput","","formControlName","SNTYPE",2,"text-transform","uppercase"],["formControlName","SNDOCT"],["value","I"],["value","O"],["value","A"],[4,"ngIf"],["matInput","","formControlName","SNDOCN",2,"text-transform","uppercase"],["matInput","","formControlName","SNLOCN",2,"text-transform","uppercase"],["matInput","","formControlName","SNRQTY",2,"text-transform","uppercase"],["matInput","","formControlName","SNXQTY",2,"text-transform","uppercase"],["matInput","","formControlName","SNUQTY",2,"text-transform","uppercase"],["formControlName","SNPOOL"],["value","S"],["value","C"],["value","T"],["formControlName","SNINVP"],["matInput","","formControlName","SNREAS",2,"text-transform","uppercase"],["matInput","","formControlName","SNSPID"],["matInput","","formControlName","SNNUMB",2,"text-transform","uppercase"],["matInput","","formControlName","SNSTAT",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Supply Transaction "),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Transaction Number"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Storer Number"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Storer suffix"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Consignee Code"),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Carrier Code"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Supply Type"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Document Type"),t.qZA(),t.TgZ(39,"mat-select",14)(40,"mat-option",15),t._uU(41,"I"),t.qZA(),t.TgZ(42,"mat-option",16),t._uU(43,"O"),t.qZA(),t.TgZ(44,"mat-option",17),t._uU(45,"A"),t.qZA()(),t.YNc(46,V,2,0,"mat-error",18),t.qZA(),t.TgZ(47,"mat-form-field",7)(48,"mat-label"),t._uU(49," Document No"),t.qZA(),t._UZ(50,"input",19),t.qZA(),t.TgZ(51,"mat-form-field",7)(52,"mat-label"),t._uU(53,"Location"),t.qZA(),t._UZ(54,"input",20),t.qZA(),t.TgZ(55,"mat-form-field",7)(56,"mat-label"),t._uU(57,"Returned"),t.qZA(),t._UZ(58,"input",21),t.qZA(),t.TgZ(59,"mat-form-field",7)(60,"mat-label"),t._uU(61,"Rejected"),t.qZA(),t._UZ(62,"input",22),t.qZA(),t.TgZ(63,"mat-form-field",7)(64,"mat-label"),t._uU(65,"Used"),t.qZA(),t._UZ(66,"input",23),t.qZA(),t.TgZ(67,"mat-form-field",7)(68,"mat-label"),t._uU(69,"Pool Affected"),t.qZA(),t.TgZ(70,"mat-select",24)(71,"mat-option",25),t._uU(72,"S"),t.qZA(),t.TgZ(73,"mat-option",26),t._uU(74,"C"),t.qZA(),t.TgZ(75,"mat-option",27),t._uU(76,"T"),t.qZA()(),t.YNc(77,B,2,0,"mat-error",18),t.qZA(),t.TgZ(78,"mat-form-field",7)(79,"mat-label"),t._uU(80,"Whose Invoice"),t.qZA(),t.TgZ(81,"mat-select",28)(82,"mat-option",25),t._uU(83,"S"),t.qZA(),t.TgZ(84,"mat-option",26),t._uU(85,"C"),t.qZA(),t.TgZ(86,"mat-option",27),t._uU(87,"T"),t.qZA()(),t.YNc(88,$,2,0,"mat-error",18),t.qZA(),t.TgZ(89,"mat-form-field",7)(90,"mat-label"),t._uU(91,"Reason Code"),t.qZA(),t._UZ(92,"input",29),t.qZA(),t.TgZ(93,"mat-form-field",7)(94,"mat-label"),t._uU(95,"Supply ID number"),t.qZA(),t._UZ(96,"input",30),t.qZA(),t.TgZ(97,"mat-form-field",7)(98,"mat-label"),t._uU(99,"Rate Number"),t.qZA(),t._UZ(100,"input",31),t.qZA(),t.TgZ(101,"mat-form-field",7)(102,"mat-label"),t._uU(103,"Status"),t.qZA(),t._UZ(104,"input",32),t.qZA()()(),t.TgZ(105,"div",33)(106,"button",34),t.NdJ("click",function(){return o.updateSupplyTransactions()}),t._uU(107,"Update"),t.qZA()()()()()),2&e){let i,r,c;t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(37),t.Q6J("ngIf",null==(i=o.form.get("SNDOCT"))?null:i.hasError("required")),t.xp6(31),t.Q6J("ngIf",null==(r=o.form.get("SNPOOL"))?null:r.hasError("required")),t.xp6(11),t.Q6J("ngIf",null==(c=o.form.get("SNINVP"))?null:c.hasError("required"))}},dependencies:[p.m,f.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.Hw,b.lW,C.TO,C.KE,C.hX,q.Nt,E.gD,M.ey,g.a8,g.dk,g.dn,g.n5]}),a})();var H=l(11790);let G=(()=>{class a{constructor(e,o,i,r,c,d){this.anyvariable=e,this.CustomAlertService=o,this.dialogRef=i,this.router=r,this.fb=c,this.SupplyTransactionsService=d,this.user=localStorage.getItem("userName")}ngOnDestroy(){this.SupplyTransactionSubscription&&this.SupplyTransactionSubscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({SNTRAN:this.anyvariable.SNTRAN,SNSTOR:this.anyvariable.SNSTOR,SNSSFX:this.anyvariable.SNSSFX,SNCONS:this.anyvariable.SNCONS,SNCARR:this.anyvariable.SNCARR,SNTYPE:this.anyvariable.SNTYPE,SNDOCT:this.anyvariable.SNDOCT,SNDOCN:this.anyvariable.SNDOCN,SNQTY:this.anyvariable.SNQTY,SNSPID:this.anyvariable.SNSPID,SNINV:this.anyvariable.SNINV,SNTDAT:this.anyvariable.SNTDAT,SNPOOL:this.anyvariable.SNPOOL,SNLOCN:this.anyvariable.SNLOCN,SNINVP:this.anyvariable.SNINVP,SNNUMB:this.anyvariable.SNNUMB,SNSTAT:this.anyvariable.SNSTAT})}DeleteSupplyTransaction(){this.CustomAlertService.openCustomAlert("Are you sure you want to delete this supply transaction? ").afterClosed().subscribe(o=>{o&&(this.result=this.SupplyTransactionsService.DeleteSupplytransaction(this.user,this.anyvariable.SNTRAN).subscribe(i=>{if(this.result=i,JSON.parse(this.result[0].data[1].value).success){const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(r),this.closeDialog(),this.router.navigate(["/main-nav/supply-transactions/read"])}else{const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(r)}}))})}successMessage(e){_().fire(e,"","success"),this.router.navigate(["/main-nav/supply-transactions/read"])}failureMessage(e){_().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.WI),t.Y36(H.y),t.Y36(h.so),t.Y36(u.F0),t.Y36(n.qu),t.Y36(m.c))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ww-supplytransactions-delete"]],standalone:!0,features:[t.jDz],decls:83,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SNTRAN","readonly",""],["matInput","","formControlName","SNSTOR","readonly",""],["matInput","","formControlName","SNSSFX","readonly",""],["matInput","","formControlName","SNCONS","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNCARR","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNTYPE","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNDOCT","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNDOCN",2,"text-transform","uppercase"],["matInput","","formControlName","SNQTY","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNSPID","readonly",""],["matInput","","formControlName","SNINV","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNTDAT","readonly",""],["matInput","","formControlName","SNPOOL","readonly","",2,"text-transform","uppercase"],["appearance","outline"],["matInput","","formControlName","SNLOCN","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNINVP","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNNUMB","readonly","",2,"text-transform","uppercase"],["matInput","","formControlName","SNSTAT","readonly","",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Delete Supply Transaction "),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Transaction Number"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Storer Number"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Storer suffix"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Consignee Code"),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Carrier Code"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Supply Type"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Document Type"),t.qZA(),t._UZ(39,"input",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42," Document Number"),t.qZA(),t._UZ(43,"input",15),t.qZA(),t.TgZ(44,"mat-form-field",7)(45,"mat-label"),t._uU(46,"Transaction Quantity"),t.qZA(),t._UZ(47,"input",16),t.qZA(),t.TgZ(48,"mat-form-field",7)(49,"mat-label"),t._uU(50,"Supply ID number"),t.qZA(),t._UZ(51,"input",17),t.qZA(),t.TgZ(52,"mat-form-field",7)(53,"mat-label"),t._uU(54," Invoice number"),t.qZA(),t._UZ(55,"input",18),t.qZA(),t.TgZ(56,"mat-form-field",7)(57,"mat-label"),t._uU(58," Transaction Date"),t.qZA(),t._UZ(59,"input",19),t.qZA(),t.TgZ(60,"mat-form-field",7)(61,"mat-label"),t._uU(62,"Pool Affected"),t.qZA(),t._UZ(63,"input",20),t.qZA(),t.TgZ(64,"mat-form-field",21)(65,"mat-label"),t._uU(66,"Location"),t.qZA(),t._UZ(67,"input",22),t.qZA(),t.TgZ(68,"mat-form-field",7)(69,"mat-label"),t._uU(70," Invoice party"),t.qZA(),t._UZ(71,"input",23),t.qZA(),t.TgZ(72,"mat-form-field",7)(73,"mat-label"),t._uU(74,"Rate Number"),t.qZA(),t._UZ(75,"input",24),t.qZA(),t.TgZ(76,"mat-form-field",7)(77,"mat-label"),t._uU(78,"Status"),t.qZA(),t._UZ(79,"input",25),t.qZA()()(),t.TgZ(80,"div",26)(81,"button",27),t.NdJ("click",function(){return o.DeleteSupplyTransaction()}),t._uU(82,"Delete"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form))},dependencies:[p.m,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.Hw,b.lW,C.KE,C.hX,q.Nt,g.a8,g.dk,g.dn,g.n5]}),a})(),K=(()=>{class a{constructor(e,o,i,r,c){this.SupplyTransactions=e,this.anyvariable=o,this.dialogRef=i,this.router=r,this.fb=c,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({SNSTOR:this.anyvariable.SNSTOR,SNCONS:this.anyvariable.SNCONS,SNCARR:this.anyvariable.SNCARR,SNTYPE:this.anyvariable.SNTYPE,SNDOCT:this.anyvariable.SNDOCT,SNDOCN:this.anyvariable.SNDOCN,SNLOCN:this.anyvariable.SNLOCN,SNRQTY:this.anyvariable.SNRQTY,SNUQTY:this.anyvariable.SNUQTY,SNXQTY:this.anyvariable.SNXQTY,SNPOOL:this.anyvariable.SNPOOL,SNREAS:this.anyvariable.SNREAS,SNSPID:this.anyvariable.SNSPID,SNNUMB:this.anyvariable.SNNUMB,SNINVP:this.anyvariable.SNINVP,SNSTAT:this.anyvariable.SNSTAT}),this.form.disable()}ngOnDestroy(){this.supplyTransactionsSubscription&&this.supplyTransactionsSubscription.unsubscribe()}getSupplyTransactionData(){this.SupplyTransactions.getSupplyTransactionsInquiry(this.user,this.anyvariable.SNSTOR,this.anyvariable.SNSSFX,this.anyvariable.SNTRAN).subscribe(e=>{this.result=e;const o=this.result[0].data[1]?.value,i=JSON.parse(o);this.form.patchValue({SNSTOR:i.SNSTOR,SNCONS:i.SNCONS,SNCARR:i.SNCARR,SNTYPE:i.SNTYPE,SNDOCT:i.SNDOCT,SNDOCN:i.SNDOCN,SNLOCN:i.SNLOCN,SNRQTY:i.SNRQTY,SNUQTY:i.SNUQTY,SNXQTY:i.SNXQTY,SNPOOL:i.SNPOOL,SNREAS:i.SNREAS,SNSPID:i.SNSPID,SNNUMB:i.SNNUMB,SNINVP:i.SNINVP,SNSTAT:i.SNSTAT})})}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(m.c),t.Y36(h.WI),t.Y36(h.so),t.Y36(u.F0),t.Y36(n.qu))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ww-supplytransactions-inquiry"]],standalone:!0,features:[t.jDz],decls:76,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SNSTOR",2,"text-transform","uppercase"],["matInput","","formControlName","SNCONS",2,"text-transform","uppercase"],["matInput","","formControlName","SNCARR",2,"text-transform","uppercase"],["matInput","","formControlName","SNTYPE",2,"text-transform","uppercase"],["matInput","","formControlName","SNDOCT",2,"text-transform","uppercase"],["matInput","","formControlName","SNDOCN",2,"text-transform","uppercase"],["matInput","","formControlName","SNLOCN",2,"text-transform","uppercase"],["matInput","","formControlName","SNRQTY",2,"text-transform","uppercase"],["matInput","","formControlName","SNXQTY",2,"text-transform","uppercase"],["matInput","","formControlName","SNUQTY",2,"text-transform","uppercase"],["matInput","","formControlName","SNPOOL",2,"text-transform","uppercase"],["matInput","","formControlName","SNREAS",2,"text-transform","uppercase"],["matInput","","formControlName","SNSPID",2,"text-transform","uppercase"],["matInput","","formControlName","SNNUMB",2,"text-transform","uppercase"],["matInput","","formControlName","SNINVP",2,"text-transform","uppercase"],["matInput","","formControlName","SNSTAT",2,"text-transform","uppercase"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4," Supply Transaction Inquiry"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Storer Number"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Consignee Code "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Carrier Code"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Supply Type "),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Document Type"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Document No"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Location"),t.qZA(),t._UZ(39,"input",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Returned"),t.qZA(),t._UZ(43,"input",15),t.qZA(),t.TgZ(44,"mat-form-field",7)(45,"mat-label"),t._uU(46,"Rejected"),t.qZA(),t._UZ(47,"input",16),t.qZA(),t.TgZ(48,"mat-form-field",7)(49,"mat-label"),t._uU(50,"Used"),t.qZA(),t._UZ(51,"input",17),t.qZA(),t.TgZ(52,"mat-form-field",7)(53,"mat-label"),t._uU(54,"Pool Affected"),t.qZA(),t._UZ(55,"input",18),t.qZA(),t.TgZ(56,"mat-form-field",7)(57,"mat-label"),t._uU(58,"Reason Code"),t.qZA(),t._UZ(59,"input",19),t.qZA(),t.TgZ(60,"mat-form-field",7)(61,"mat-label"),t._uU(62,"Supply ID number"),t.qZA(),t._UZ(63,"input",20),t.qZA(),t.TgZ(64,"mat-form-field",7)(65,"mat-label"),t._uU(66,"Rate Number"),t.qZA(),t._UZ(67,"input",21),t.qZA(),t.TgZ(68,"mat-form-field",7)(69,"mat-label"),t._uU(70,"Whose Invoice"),t.qZA(),t._UZ(71,"input",22),t.qZA(),t.TgZ(72,"mat-form-field",7)(73,"mat-label"),t._uU(74,"Status"),t.qZA(),t._UZ(75,"input",23),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form))},dependencies:[p.m,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,Z.Hw,b.lW,C.KE,C.hX,q.Nt,g.a8,g.dk,g.dn,g.n5]}),a})();var X=l(19344),T=l(7155),L=l(98739),j=l(77579),tt=l(78372),et=l(71884),at=l(80529),Q=l(28255),nt=l(10266),ot=l(90455),it=l(34894);function st(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.searchSupplytransactions())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA(),t.TgZ(3,"span"),t._uU(4," Filter"),t.qZA()()}}function rt(a,s){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",46)(2,"div",47)(3,"span",48),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",49),t.NdJ("ngModelChange",function(i){const c=t.CHM(e).$implicit;return t.KtG(c.isActive=i)})("change",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.toggleColumn(r))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&a){const e=s.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function lt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.searchSupplytransactions())}),t._UZ(1,"img",51),t.TgZ(2,"span"),t._uU(3," Filter"),t.qZA()()}}function ct(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"form",52),t.NdJ("ngSubmit",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.getSupplyBySearch(i.form.value))}),t.TgZ(1,"div",46)(2,"div",53)(3,"mat-form-field",54)(4,"mat-label"),t._uU(5,"Storer"),t.qZA(),t._UZ(6,"input",55),t.qZA(),t.TgZ(7,"mat-form-field",54)(8,"mat-label"),t._uU(9,"Consignee"),t.qZA(),t._UZ(10,"input",56),t.qZA(),t.TgZ(11,"mat-form-field",54)(12,"mat-label"),t._uU(13,"Carrier"),t.qZA(),t._UZ(14,"input",57),t.qZA(),t.TgZ(15,"mat-form-field",54)(16,"mat-label"),t._uU(17,"Document Type"),t.qZA(),t._UZ(18,"input",58),t.qZA(),t.TgZ(19,"mat-form-field",54)(20,"mat-label"),t._uU(21,"Document No"),t.qZA(),t._UZ(22,"input",59),t.qZA(),t.TgZ(23,"mat-form-field",54)(24,"mat-label"),t._uU(25,"Type"),t.qZA(),t._UZ(26,"input",60),t.qZA(),t.TgZ(27,"mat-form-field",54)(28,"mat-label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",61),t.qZA(),t.TgZ(31,"mat-form-field",54)(32,"mat-label"),t._uU(33," End Date"),t.qZA(),t._UZ(34,"input",62),t.qZA(),t.TgZ(35,"mat-form-field",54)(36,"mat-label"),t._uU(37,"Pool"),t.qZA(),t._UZ(38,"input",63),t.qZA(),t.TgZ(39,"mat-form-field",54)(40,"mat-label"),t._uU(41,"Invoice"),t.qZA(),t._UZ(42,"input",64),t.qZA()()(),t.TgZ(43,"div",65)(44,"button",66),t._uU(45," Search "),t.qZA()()()}if(2&a){const e=t.oxw();t.Q6J("formGroup",e.form)}}function ut(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Storer"),t.qZA())}function pt(a,s){if(1&a&&(t.TgZ(0,"td",68),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNSTOR)}}function mt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Consignee"),t.qZA())}function dt(a,s){if(1&a&&(t.TgZ(0,"td",69),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNCONS)}}function ft(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Carrier"),t.qZA())}function St(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNCARR)}}function ht(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Pool"),t.qZA())}function gt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNPOOL)}}function Nt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Transaction Pool"),t.qZA())}function _t(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNDOCT)}}function Tt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Supply"),t.qZA())}function Zt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNTYPE)}}function Ct(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Net Quantity"),t.qZA())}function yt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNQTY)}}function At(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Date"),t.qZA())}function bt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.WKDATE,"MM/dd/yy"))}}function Ut(a,s){1&a&&(t.TgZ(0,"th",71),t._uU(1,"Status"),t.qZA())}function It(a,s){if(1&a&&(t.TgZ(0,"td",72)(1,"span",73),t._uU(2),t.qZA()()),2&a){const e=s.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngClass",o.getStatusClass(e.SNSTAT)),t.xp6(1),t.Oqu(e.SNSTAT)}}function qt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Tran"),t.qZA())}function xt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNTRAN)}}function vt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Doc"),t.qZA())}function Dt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNDOCN)}}function wt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Invoice"),t.qZA())}function Ot(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNINV)}}function Rt(a,s){1&a&&(t.TgZ(0,"th",67),t._uU(1,"Location"),t.qZA())}function Yt(a,s){if(1&a&&(t.TgZ(0,"td",70),t._uU(1),t.qZA()),2&a){const e=s.$implicit;t.xp6(1),t.Oqu(e.SNLOCN)}}function kt(a,s){1&a&&(t.TgZ(0,"th",74),t._uU(1,"Actions"),t.qZA())}function Wt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",90),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw().$implicit,d=t.oxw();return t.KtG(d.executeAction(r,c))}),t._UZ(1,"img",91),t.TgZ(2,"span",92),t._uU(3),t.qZA()()}if(2&a){const e=s.$implicit;t.Q6J("color",e.color),t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.label)}}function Pt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li",100)(1,"button",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2).$implicit,d=t.oxw();return t.KtG(d.handleRecentClick(r,c))}),t._uU(2),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function Lt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li",93)(1,"div",94)(2,"span",95),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",96),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clearRecentSearches())}),t.TgZ(5,"span",97),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",98),t.YNc(8,Pt,3,1,"li",99),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function Qt(a,s){1&a&&(t.TgZ(0,"li",102)(1,"div",103)(2,"mat-icon",104),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",105),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",106),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function Jt(a,s){if(1&a&&(t.ynx(0),t._UZ(1,"img",109),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function Ft(a,s){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function Et(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li",107)(1,"button",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleItemClick(r,c))}),t.YNc(2,Jt,2,2,"ng-container",108),t.YNc(3,Ft,3,1,"ng-container",108),t._uU(4),t.qZA()()}if(2&a){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function Mt(a,s){if(1&a&&(t.ynx(0),t._UZ(1,"img",113),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function Vt(a,s){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-icon",114),t._uU(2),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function Bt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"li",110)(1,"button",101),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw().$implicit,d=t.oxw();return t.KtG(d.handleItemClick(r,c))}),t.TgZ(2,"div",111),t.YNc(3,Mt,2,2,"ng-container",108),t.YNc(4,Vt,3,1,"ng-container",108),t.TgZ(5,"span",112),t._uU(6),t.qZA()()()()}if(2&a){const e=s.$implicit,o=t.oxw(2);t.Q6J("hidden",o.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function $t(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"td",70)(1,"div",75)(2,"button",76),t._UZ(3,"img",77),t.qZA(),t.TgZ(4,"ul",78)(5,"li",79),t.YNc(6,Wt,4,4,"button",80),t.qZA(),t.TgZ(7,"li",81)(8,"mat-form-field",82)(9,"input",83),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.searchDropdownText=i)})("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSearchChange())}),t.qZA()()(),t.YNc(10,Lt,9,1,"li",84),t.TgZ(11,"div",85),t._UZ(12,"hr",86),t.qZA(),t.YNc(13,Qt,8,0,"li",87),t.YNc(14,Et,5,3,"li",88),t.YNc(15,Bt,7,4,"li",89),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.headerActions),t.xp6(3),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function zt(a,s){1&a&&t._UZ(0,"tr",115)}function Ht(a,s){1&a&&t._UZ(0,"tr",116)}function Gt(a,s){1&a&&(t.TgZ(0,"div",117),t._UZ(1,"img",118),t.TgZ(2,"h3",119),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",120),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const Kt=function(){return[8,16,24]};let Xt=(()=>{class a{constructor(e,o,i,r,c,d,A){this.fb=e,this.router=o,this.route=i,this.SupplyTransactionsService=r,this.matDialog=c,this.cdr=d,this.http=A,this.dataSource=new T.by,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.displayedColumns=["Storer","Consignee","Carrier","Pool","TransactionPool","Supply","NetQuantity","Date","Status","Actions"],this.form=this.fb.group({SNSTOR:"",SNCONS:"",SNCARR:"",SNDOCT:"",SNDOCN:"",SNTYPE:"",WKSDATE:"",WKEDATE:"",SNPOOL:"",SNINV:""}),this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.columnShowHideList=[],this.editedRows=[],this.pageNumber=1,this.searchInput$=new j.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.duplicateSource=[],this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1}ngOnInit(){this.initializeColumnProperties(),this.editedRows=[],this.getSupplyTransactions(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter(),this.searchInput$.pipe((0,tt.b)(500),(0,et.x)()).subscribe(o=>{this.handleSearch(o)}),this.http.get("assets/jsondata/wwSupplyTransactions.json").subscribe(o=>{this.headerActions=o.header,this.menuItems=o.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=o.search;const i=localStorage.getItem("recentSearches");if(i){const r=JSON.parse(i);this.recentSearches=this.menuItems.filter(c=>r.includes(c.label))}this.filteredRecentSearches=[...this.recentSearches]})}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let o=this.displayedColumns.indexOf(e.name);o>-1&&this.displayedColumns.splice(o,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,o)=>{"Actions"!=e&&this.columnShowHideList.push({position:o,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Tran",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Doc",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Invoice",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Location",isActive:!1})}createFilter(){return(e,o)=>{const i=JSON.parse(o);return Object.keys(i).every(r=>e[r].toString().toLowerCase().includes(i[r].toLowerCase()))}}applyGlobalFilterInput(e){this.searchInput$.next(e)}handleSearch(e){if(!(e=e.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],void this.getSupplyTransactions(this.pageSize,1);this.isSearchMode=!0,this.loadSearchChunks(e,()=>{if(0===this.filteredData.length)return this.noData=!0,void(this.dataSource.data=[]);this.noData=!1,this.loadPage(1)})}applyManualFilter(e){this.filteredData=this.allData.filter(o=>Object.values(o).some(i=>String(i).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const o=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(o,o+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}getSearchStrategy(e){return e<=1500?{chunkSize:300,maxCalls:4}:e<=1e4?{chunkSize:2e3,maxCalls:5}:{chunkSize:5e3,maxCalls:5}}loadSearchChunks(e,o){var i=this;return(0,S.Z)(function*(){const r=i.currentFilters||{},{SNSTOR:c="",SNCONS:d="",SNCARR:A="",SNDOCT:w="",SNDOCN:O="",SNTYPE:R="",WKSDATE:Y="",WKEDATE:k="",SNPOOL:W="",SNINV:P=""}=r,{chunkSize:x,maxCalls:v}=i.getSearchStrategy(i.totalRecords||0);let U=1,J=0,I=[];for(;J<v;){const jt=(yield i.SupplyTransactionsService.getSupplyTransactions(i.user,c,d,A,w,O,R,Y,k,W,P,x,U).toPromise())?.[0]?.data?.[1]?.value,F=JSON.parse(jt)?.returnedData||[],te=F.filter(ee=>Object.values(ee).some(ae=>String(ae).toLowerCase().includes(e)));if(I.push(...te),I.length>0||F.length<x)break;U++,J++}i.allData=I,i.filteredData=I,i.totalRecords=I.length,o?.()})()}getStatusClass(e){return e?["C"].includes(e)?"status-gray":["W","SH","CD"].includes(e)?"status-green":["EN","I","N","RL"].includes(e)?"status-yellow":["A","PK","BL"].includes(e)?"status-purple":["PS","CM","MQ"].includes(e)?"status-blue":["EM","EP","SB","SP","EB","R","S","DL"].includes(e)?"status-red":"status-gray":""}handleItemClick(e,o){this.executeAction(e,o),this.addToRecentSearches(e)}executeAction(e,o){"function"==typeof this[e.action]?this[e.action](o):console.warn("Action not implemented:",e.action)}handleRecentClick(e,o){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](o),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(o=>o.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(o=>o.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(o=>o.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}resetSearch(){this.form.reset(),this.currentFilters=null,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.paginator.firstPage(),this.getSupplyTransactions(this.pageSize,1)}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):this.getSupplyTransactions(e.pageSize,e.pageIndex+1)}searchSupplyTransactions(){this.searchTextDisplay=1!=this.searchTextDisplay}getSupplyTransactions(e,o){this.isLoading=!0,this.noData=!1,this.dataSource=new T.by([]);const i=this.currentFilters||{},{SNSTOR:r="",SNCONS:c="",SNCARR:d="",SNDOCT:A="",SNDOCN:w="",SNTYPE:O="",WKSDATE:R="",WKEDATE:Y="",SNPOOL:k="",SNINV:W=""}=i;this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.SupplyTransactionsService.getSupplyTransactions(this.user,r,c,d,A,w,O,R,Y,k,W,e,o).subscribe({next:P=>{this.isLoading=!1;const v=JSON.parse(P?.[0]?.data?.[1]?.value||"{}"),U=v?.returnedData||[];this.totalRecords=v?.TotalRecords||0,this.dataSource.data=U,this.noData=0===U.length,this.paginator&&(this.paginator.length=this.totalRecords)},error:()=>this.handleNoData()})}handleNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new T.by([])}getSupplyBySearch(e){const o=this.pageSize,i=this.pageNumber;this.currentFilters=e,this.paginator&&this.paginator.firstPage(),this.getSupplyTransactions(o,i)}getUpdateForm(e){this.matDialog.open(z,{panelClass:"right-dialog",autoFocus:!1,data:e})}SupplytransactionsDeleteForm(e){this.matDialog.open(G,{panelClass:"right-dialog",autoFocus:!1,data:e})}SupplytransactionsInquiryForm(e){this.matDialog.open(K,{panelClass:"right-dialog",autoFocus:!1,data:e})}addSupplytransactions(){this.matDialog.open(X.WwSupplytransactionsAddComponent,{panelClass:"right-dialog",autoFocus:!1})}searchSupplytransactions(){this.searchTextDisplay=1!=this.searchTextDisplay}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(n.qu),t.Y36(u.F0),t.Y36(u.gz),t.Y36(m.c),t.Y36(h.uw),t.Y36(t.sBO),t.Y36(at.eN))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ww-supplytransactions"]],viewQuery:function(e,o){if(1&e&&t.Gf(L.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first)}},standalone:!0,features:[t.jDz],decls:74,vars:13,consts:[[1,"over-Flow"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","class","addButton","matTooltip","Search Supply Transactions",3,"click",4,"ngIf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Supply Transactions",1,"addButton","buttons",3,"click"],["mat-button","","matTooltip","Add New Supply Transactions",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Storer"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Consignee"],["mat-cell","","style","text-transform: uppercase;",4,"matCellDef"],["matColumnDef","Carrier"],["mat-cell","",4,"matCellDef"],["matColumnDef","Pool"],["matColumnDef","TransactionPool"],["matColumnDef","Supply"],["matColumnDef","NetQuantity"],["matColumnDef","Date"],["matColumnDef","Status"],["mat-header-cell","","class","status-cell",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","Tran"],["matColumnDef","Doc"],["matColumnDef","Invoice"],["matColumnDef","Location"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],[1,"row"],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-button","","matTooltip","Search Supply Transactions",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SNSTOR"],["matInput","","formControlName","SNCONS","appUppercase",""],["matInput","","formControlName","SNCARR","appUppercase",""],["matInput","","formControlName","SNDOCT","appUppercase",""],["matInput","","formControlName","SNDOCN","appUppercase",""],["matInput","","formControlName","SNTYPE","appUppercase",""],["matInput","","formControlName","WKSDATE","appUppercase",""],["matInput","","formControlName","WKEDATE","appUppercase",""],["matInput","","formControlName","SNPOOL","appUppercase",""],["matInput","","formControlName","SNINV","appUppercase",""],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell","",2,"text-transform","uppercase"],["mat-cell",""],["mat-header-cell","",1,"status-cell"],["mat-cell","",1,"status-cell"],[1,"status-badge",3,"ngClass"],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-form-field",2)(4,"mat-icon",3),t._uU(5,"search"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("input",function(r){return o.applyGlobalFilterInput(r.target.value)}),t.qZA()(),t.YNc(7,st,5,0,"button",5),t.TgZ(8,"mat-menu",6,7)(10,"div",8),t.YNc(11,rt,6,2,"ng-container",9),t.qZA()(),t.YNc(12,lt,4,0,"button",10),t.TgZ(13,"button",11,12),t._UZ(15,"img",13),t.qZA(),t.TgZ(16,"button",14),t.NdJ("click",function(){return o.resetSearch()}),t.TgZ(17,"mat-icon"),t._uU(18,"loop"),t.qZA()(),t.TgZ(19,"button",15),t.NdJ("click",function(){return o.addSupplytransactions()}),t.TgZ(20,"mat-icon"),t._uU(21,"add"),t.qZA(),t.TgZ(22,"span"),t._uU(23,"Create Supply Transactions"),t.qZA()()()(),t.TgZ(24,"mat-card-content",16),t.YNc(25,ct,46,1,"form",17),t.qZA(),t.TgZ(26,"table",18),t.ynx(27,19),t.YNc(28,ut,2,0,"th",20),t.YNc(29,pt,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,mt,2,0,"th",20),t.YNc(32,dt,2,1,"td",23),t.BQk(),t.ynx(33,24),t.YNc(34,ft,2,0,"th",20),t.YNc(35,St,2,1,"td",25),t.BQk(),t.ynx(36,26),t.YNc(37,ht,2,0,"th",20),t.YNc(38,gt,2,1,"td",25),t.BQk(),t.ynx(39,27),t.YNc(40,Nt,2,0,"th",20),t.YNc(41,_t,2,1,"td",25),t.BQk(),t.ynx(42,28),t.YNc(43,Tt,2,0,"th",20),t.YNc(44,Zt,2,1,"td",25),t.BQk(),t.ynx(45,29),t.YNc(46,Ct,2,0,"th",20),t.YNc(47,yt,2,1,"td",25),t.BQk(),t.ynx(48,30),t.YNc(49,At,2,0,"th",20),t.YNc(50,bt,3,4,"td",25),t.BQk(),t.ynx(51,31),t.YNc(52,Ut,2,0,"th",32),t.YNc(53,It,3,2,"td",33),t.BQk(),t.ynx(54,34),t.YNc(55,qt,2,0,"th",20),t.YNc(56,xt,2,1,"td",25),t.BQk(),t.ynx(57,35),t.YNc(58,vt,2,0,"th",20),t.YNc(59,Dt,2,1,"td",25),t.BQk(),t.ynx(60,36),t.YNc(61,wt,2,0,"th",20),t.YNc(62,Ot,2,1,"td",25),t.BQk(),t.ynx(63,37),t.YNc(64,Rt,2,0,"th",20),t.YNc(65,Yt,2,1,"td",25),t.BQk(),t.ynx(66,38),t.YNc(67,kt,2,0,"th",39),t.YNc(68,$t,16,6,"td",25),t.BQk(),t.YNc(69,zt,1,0,"tr",40),t.YNc(70,Ht,1,0,"tr",41),t.qZA(),t.YNc(71,Gt,6,0,"div",42),t.TgZ(72,"mat-paginator",43,44),t.NdJ("page",function(r){return o.onPaginateChange(r)}),t.qZA()()),2&e){const i=t.MAs(9);t.xp6(7),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(4),t.Q6J("ngForOf",o.columnShowHideList),t.xp6(1),t.Q6J("ngIf",!o.searchTextDisplay),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(12),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(43),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&o.noData),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(12,Kt))("pageSize",o.pageSize)}},dependencies:[p.m,f.mk,f.sg,f.O5,n._Y,n.Fj,n.JJ,n.JL,n.On,n.sg,n.u,L.NW,Z.Hw,Q.VK,Q.p6,b.lW,C.KE,C.hX,C.qo,q.Nt,g.a8,g.dk,g.dn,T.BZ,T.fO,T.as,T.w1,T.Dz,T.nj,T.ge,T.ev,T.XQ,T.Gk,nt.gM,ot.Rr,it.e,f.uU]}),a})()},15861:(D,y,l)=>{function S(h,N,_,p,t,m,u){try{var f=h[m](u),Z=f.value}catch(b){return void _(b)}f.done?N(Z):Promise.resolve(Z).then(p,t)}function n(h){return function(){var N=this,_=arguments;return new Promise(function(p,t){var m=h.apply(N,_);function u(Z){S(m,p,t,u,f,"next",Z)}function f(Z){S(m,p,t,u,f,"throw",Z)}u(void 0)})}}l.d(y,{Z:()=>n})}}]);