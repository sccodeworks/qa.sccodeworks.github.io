"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[65171],{65171:(O,_,d)=>{d.r(_),d.d(_,{ExtraOrderDetailsDataComponent:()=>L});var x=d(98739),l=d(7155),c=d(70879),h=d(24006),Z=d(65412),T=d(35226),U=d.n(T),t=d(94650),N=d(19132),e=d(36895),r=d(97392),a=d(4859),o=d(59549),s=d(44144),n=d(73546);function m(u,D){if(1&u){const i=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(i);const f=t.oxw();return t.KtG(f.updateExtraData())}),t._uU(1," Update\n"),t.qZA()}if(2&u){const i=t.oxw();t.Q6J("disabled",!(i.form.valid&&i.form.dirty))}}let C=(()=>{class u{constructor(i,p,f,g){this.data=i,this.dialogRef=p,this.fb=f,this.router=g,this.user=localStorage.getItem("userName")}ngOnInit(){console.log("Data received in dialog:",this.data[1]),this.form=this.fb.group({documentType:{value:this.data[1].EDDOCT,disabled:!0},documentNumber:{value:this.data[1].WKDOCN,disabled:!0},sequenceNumber:{value:this.data[1].WKDSEQ,disabled:!0},maxLength:{value:this.data[1].WMAX,disabled:!0},fieldType:{value:this.data[1].WTYPE,disabled:!0},fieldValue:[{value:this.data[1].WDATA1,disabled:!this.data.updateRequired},[h.kI.maxLength(40)]],fieldValue2:[{value:this.data[1].WDATA2,disabled:!this.data.updateRequired},[h.kI.maxLength(40)]]})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateExtraData(){this.form.getRawValue(),this.successMessage("Extra Data Updated Successfully"),this.router.navigate(["/main-nav/order/details/extraData"],{state:this.data[0]}),this.closeDialog()}successMessage(i){U().fire(i,"","success")}failureMessage(i){U().fire(i,"","error")}closeDialog(){this.dialogRef.close()}}return u.\u0275fac=function(i){return new(i||u)(t.Y36(Z.WI),t.Y36(Z.so),t.Y36(h.qu),t.Y36(N.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-update-extra-data"]],standalone:!0,features:[t.jDz],decls:46,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["color","primary"],[1,"tally-serach-form"],[3,"formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","documentType"],["matInput","","formControlName","documentNumber"],["matInput","","formControlName","sequenceNumber"],["matInput","","formControlName","maxLength"],["matInput","","formControlName","fieldType"],["matInput","","formControlName","fieldValue"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","fieldValue2"],["mat-raised-button","","color","primary","class","buttons addButton",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary",1,"buttons","addButton",3,"disabled","click"]],template:function(i,p){1&i&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Update Document Extra Data"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return p.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"Document Type"),t.qZA(),t._UZ(13,"input",7),t.qZA(),t.TgZ(14,"mat-form-field",6)(15,"mat-label"),t._uU(16,"Document Number"),t.qZA(),t._UZ(17,"input",8),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"Sequence Number"),t.qZA(),t._UZ(21,"input",9),t.qZA(),t.TgZ(22,"mat-form-field",6)(23,"mat-label"),t._uU(24,"Max Length"),t.qZA(),t._UZ(25,"input",10),t.qZA(),t.TgZ(26,"mat-form-field",6)(27,"mat-label"),t._uU(28,"Field Type"),t.qZA(),t._UZ(29,"input",11),t.qZA(),t.TgZ(30,"mat-form-field",6)(31,"mat-label"),t._uU(32,"Field Value"),t.qZA(),t._UZ(33,"input",12),t.qZA(),t.TgZ(34,"div",13)(35,"label",14),t._uU(36,"Field Value"),t.qZA(),t.TgZ(37,"div",15)(38,"mat-form-field",6)(39,"mat-label"),t._uU(40,"Field Value"),t.qZA(),t._UZ(41,"input",12),t.qZA(),t.TgZ(42,"mat-form-field",6),t._UZ(43,"mat-label")(44,"input",16),t.qZA()()(),t.YNc(45,m,2,1,"button",17),t.qZA()()()),2&i&&(t.xp6(9),t.Q6J("formGroup",p.form),t.xp6(36),t.Q6J("ngIf",p.data.updateRequired))},dependencies:[c.m,e.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,r.Hw,a.lW,o.KE,o.hX,s.Nt,n.a8,n.dk,n.dn,n.n5]}),u})();var v=d(15627),E=d(20655);function S(u,D){1&u&&(t.TgZ(0,"th",21),t._uU(1,"Extra Data"),t.qZA())}function A(u,D){if(1&u&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&u){const i=D.$implicit;t.xp6(1),t.Oqu(i.EDDESC)}}function $(u,D){1&u&&(t.TgZ(0,"th",23),t._uU(1,"Information"),t.qZA())}function y(u,D){if(1&u&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&u){const i=D.$implicit;t.xp6(1),t.Oqu(i.WKVALUE)}}function R(u,D){1&u&&t._UZ(0,"th",24)}function q(u,D){if(1&u){const i=t.EpF();t.TgZ(0,"td",22)(1,"div",25)(2,"button",26)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",27)(6,"li")(7,"button",28),t.NdJ("click",function(){const g=t.CHM(i).$implicit,b=t.oxw();return t.KtG(b.updateData(g))}),t.TgZ(8,"mat-icon",29),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Update"),t.qZA()()(),t._UZ(12,"li"),t.qZA()()()}}function I(u,D){1&u&&t._UZ(0,"tr",30)}function K(u,D){1&u&&t._UZ(0,"tr",31)}const X=function(){return[8,16,24]};let L=(()=>{class u{constructor(i,p,f,g,b){this.router=i,this.fb=p,this.iHeaderSvc=f,this.orderDetSvc=g,this.matDialog=b,this.user=localStorage.getItem("userName")||"",this.displayedColumns=["ExtraData","Info","Actions"],this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.dataSource=new l.by,this.orderUrl="/main-nav/orders/details",this.noUpdate="No Update Required",this.updateSuccess="Update Required"}ngOnInit(){this.element=history.state,this.form=this.fb.group({documentType:"940",documentNumber:this.element[0].OHBILL}),this.extraData(this.pageSize,this.pageNumber)}ngOnDestroy(){this.extraDataSubscription&&this.extraDataSubscription.unsubscribe()}extraData(i,p){this.extraDataSubscription&&this.extraDataSubscription.unsubscribe(),this.extraDataSubscription=this.iHeaderSvc.extraData(this.user,"940",this.element[0].OHBILL,this.element[1],i,p).subscribe(f=>{var g=JSON.parse(f[0].data[1]?.value);this.dataSource.data=g.returnedData,this.totalRecords=g.TotalRecords})}onBack(){this.router.navigateByUrl(this.orderUrl,{state:this.element[0]})}updateData(i){this.extraDataSubscription&&this.extraDataSubscription.unsubscribe(),this.extraDataSubscription=this.orderDetSvc.extraDataCheck(this.user,i.WKDOCN,i.EDSTOR,i.EDSSFX,i.EDSEQ,i.EDDESC,i.EDLEVL,i.EDFILE,i.WKDSEQ,8,1).subscribe(p=>{const f=JSON.parse(p[0].data[1]?.value);this.matDialog.open(C,{width:"1000px",maxHeight:"80vh",autoFocus:!1,data:{...[this.element,f.returnedData[0]],updateRequired:f.ReturnMessage===this.updateSuccess}})})}onPaginateChange(i){this.pageSize=i.pageSize,this.extraData(i.pageSize,i.pageIndex+1)}}return u.\u0275fac=function(i){return new(i||u)(t.Y36(N.F0),t.Y36(h.qu),t.Y36(v.X),t.Y36(E.S),t.Y36(Z.uw))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-extra-order-details-data"]],viewQuery:function(i,p){if(1&i&&t.Gf(x.NW,5),2&i){let f;t.iGM(f=t.CRH())&&(p.paginator=f.first)}},standalone:!0,features:[t.jDz],decls:33,vars:8,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","readonly","","formControlName","documentType"],["matInput","","readonly","","formControlName","documentNumber"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ExtraData"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Info"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(i,p){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return p.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Document Extra Data "),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Document Type"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Document Number"),t.qZA(),t._UZ(18,"input",8),t.qZA()()()()(),t.TgZ(19,"table",9),t.ynx(20,10),t.YNc(21,S,2,0,"th",11),t.YNc(22,A,2,1,"td",12),t.BQk(),t.ynx(23,13),t.YNc(24,$,2,0,"th",14),t.YNc(25,y,2,1,"td",12),t.BQk(),t.ynx(26,15),t.YNc(27,R,1,0,"th",16),t.YNc(28,q,13,0,"td",12),t.BQk(),t.YNc(29,I,1,0,"tr",17),t.YNc(30,K,1,0,"tr",18),t.qZA(),t.TgZ(31,"mat-paginator",19,20),t.NdJ("page",function(g){return p.onPaginateChange(g)}),t.qZA()()),2&i&&(t.xp6(8),t.Q6J("formGroup",p.form),t.xp6(11),t.Q6J("dataSource",p.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",p.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",p.displayedColumns),t.xp6(1),t.Q6J("length",p.totalRecords)("pageSizeOptions",t.DdM(7,X))("pageSize",p.pageSize))},dependencies:[c.m,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,x.NW,r.Hw,a.lW,o.KE,o.hX,s.Nt,n.a8,n.dk,n.dn,n.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk]}),u})()},20655:(O,_,d)=>{d.d(_,{S:()=>U});var x=d(80529),l=d(75625),c=d(70262),h=d(62843),Z=d(92340),T=d(94650);let U=(()=>{class t{constructor(e){this.httpClient=e,this.url=Z.N.API_BASE_URL,this.httpHeader={headers:new x.WM({"Content-Type":"application/json"})}}getOrderDetails(e,r){return this.httpClient.get(this.url+`/orderDetails/read?user=${e}&billNo=${r}`)}getOrderDtlsComment(e,r,a){return this.httpClient.get(this.url+`/orderDetails/orderDtlsCmtsRead?user=${e}&billNo=${r}&sequence=${a}`)}ItemStatusService(e,r,a,o){return this.httpClient.get(this.url+`/orderDetails/items/itemStatus?user=${e}&itemStorer=${r}&suffix=${a}&item=${o}`)}orderDtlItemStatusService(e,r,a){return this.httpClient.get(this.url+`/orderDetails/itemStatus?user=${e}&bill=${r}&sequence=${a}`)}orderDtlLotStatusService(e,r,a,o,s,n){return this.httpClient.get(this.url+`/orderDetails/lotStatus?user=${e}&storer=${r}&suffix=${a}&item=${o}&billNo=${s}&seq=${n}`)}readXDocRef(e,r,a,o){return this.httpClient.get(this.url+`/orderDetails/crossDocRefRead?user=${e}&billNo=${r}&seq=${a}&tally=${o}`)}createOrderDetailService(e,r,a,o,s,n,m,C,v,E,S){return this.httpClient.post(this.url+"/orderDetails/create",{bol:e,seq:r,qty:a,item:o,lot1:s,lot2:n,lot3:m,shipFrom:C,ovrWeight:v,changeReason:E,origLine:S}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}updateOrderDetailService(e,r,a,o,s,n,m,C,v,E,S){return this.httpClient.put(this.url+"/orderDetails/update",{bol:e,seq:r,qty:a,item:o,lot1:s,lot2:n,lot3:m,shipFrom:C,ovrWeight:v,changeReason:E,origLine:S}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}deleteOrderDetailService(e,r){return this.httpClient.delete(this.url+`/orderDetails/delete?bol=${e}&seq=${r}`)}createOrderDtlCommentService(e,r,a,o,s,n,m){return this.httpClient.post(this.url+"/orderDetails/createComment",{bol:e,seq:r,commentSequence:a,comment:o,print:s,ediID:n,ediType:m}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}updateOrderDtlCommentService(e,r,a,o,s,n,m){return this.httpClient.put(this.url+"/orderDetails/updateComment",{bol:e,seq:r,commentSequence:a,comment:o,print:s,ediID:n,ediType:m}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDetailsCommitService(e,r){return this.httpClient.put(this.url+"/orderDetails/commit",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDetailsDeCommitService(e,r){return this.httpClient.put(this.url+"/orderDetails/deCommit",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDetailsNonStockReasService(e,r){return this.httpClient.put(this.url+"/orderDetails/nonStockReas",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}updateOrderDetailLocService(e,r,a,o,s,n){return this.httpClient.put(this.url+"/orderDetails/chnageLocOrLot",{bol:e,seq:r,location:a,lot1:o,lot2:s,lot3:n}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}changeShipFormService(e,r,a){return this.httpClient.put(this.url+"/orderDetails/changeShipFrom",{bol:e,seq:r,shipInventoryBucket:a}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}createXDocRefService(e,r,a,o){return this.httpClient.post(this.url+"/orderDetails/crossDocRefCreate",{bol:e,seq:r,tally:a,user:o}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}updateXDocRefService(e,r,a,o){return this.httpClient.put(this.url+"/orderDetails/crossDocRefUpdate",{bol:e,seq:r,tally:a,user:o}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}deleteXDocRef(e,r,a,o){return this.httpClient.delete(this.url+`/orderDetails/crossDocRefDelete?user=${e}&billNo=${r}&seq=${a}&tally=${o}`)}orderDetailCutService(e,r,a,o,s,n,m){return this.httpClient.put(this.url+"/orderDetails/cut",{bol:e,seq:r,reasonCode:a,comment1:o,print1:s,comment2:n,print2:m}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDetailForceService(e,r){return this.httpClient.post(this.url+"/orderDetails/force",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDetailDeleteNosService(e,r){return this.httpClient.delete(this.url+`/orderDetails/deleteNos?billNo=${e}&seq=${r}`)}hardAllocateService(e,r){return this.httpClient.put(this.url+"/orderDetails/hardAllocate",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}removeHardAllocateService(e,r){return this.httpClient.put(this.url+"/orderDetails/removeHardAllocate",{bol:e,seq:r}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}splitLineService(e,r,a,o,s,n,m){return this.httpClient.put(this.url+"/orderDetails/splitLine",{bol:e,seq:r,location:a,lot1:o,lot2:s,lot3:n,splitQuantity:m}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDtlMoveQueueService(e,r,a,o,s){return this.httpClient.put(this.url+"/orderDetails/movequeue",{bol:e,seq:r,qty:a,priority:o,location:s}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}changeEventService(e,r,a,o,s,n,m,C,v,E,S){return this.httpClient.put(this.url+"/orderDetails/changeevent",{bol:e,seq:r,qty:a,item:o,lot1:s,lot2:n,lot3:m,shipFrom:C,ovrWeight:v,changeReason:E,origLine:S}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}changeEventCommentsService(e,r,a,o,s,n){return this.httpClient.put(this.url+"/orderDetails/changeeventcomments",{bol:e,seq:r,comment1:a,print1:o,comment2:s,print2:n}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}orderDtlStockStatus(e,r,a,o,s,n,m,C){return this.httpClient.get(this.url+`/orderDetails/stockstatus?user=${e}&storer=${r}&suffix=${a}&item=${o}&lot1=${s}&lot2=${n}&lot3=${m}&location=${C}`)}orderDtlSerialInquiry(e,r,a,o,s){return this.httpClient.get(this.url+`/orderDetails/serialInquiry?user=${e}&item=${r}&Document=${a}&lot=${o}&sequence=${s}`)}exitSetup(e){return this.httpClient.put(this.url+"/orderDetails/exitSetup",{billNumber:e}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}ucc128Read(e,r,a,o,s){return this.httpClient.get(this.url+"/orders/ucc128Read",{params:{user:e,billNumber:r??"",sequence:a??"",recordsPerPage:o??"",pageNo:s??""}})}ucc128Update(e,r,a,o,s,n,m){return this.httpClient.put(this.url+"/orders/ucc128Update",{user:e,docNumber:r,sequence:a,item:o,serial:s,nextSerial:n,quantity:m}).pipe((0,l.X)(1),(0,c.K)(this.httpError))}extraDataCheck(e,r,a,o,s,n,m,C,v,E,S){return this.httpClient.get(this.url+"/orders/extraDataCheck",{params:{user:e,billNumber:r??"",storer:a??"",suffix:o??"",seq1:s??"",desc:n??"",header:m??"",extraFile:C??"",seq2:v??"",recordsPerPage:E??"",pageNo:S??""}})}httpError(e){let r="";return r=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(r),(0,h._)(()=>new Error(r))}}return t.\u0275fac=function(e){return new(e||t)(T.LFG(x.eN))},t.\u0275prov=T.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);