"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3752],{3752:(P,v,s)=>{s.r(v),s.d(v,{InvInquiryLcTransactionsComponent:()=>z});var I=s(98739),h=s(70879),c=s(7155),A=s(36895),t=s(94650),L=s(19132),D=s(46546),d=s(24006),Z=s(97392),i=s(28255),o=s(4859),u=s(59549),l=s(44144),m=s(73546),p=s(10266),g=s(90455);function C(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",41)(3,"span",42),t.NdJ("click",function(_){return _.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",43),t.NdJ("ngModelChange",function(_){const f=t.CHM(n).$implicit;return t.KtG(f.isActive=_)})("change",function(){const T=t.CHM(n).$implicit,f=t.oxw();return t.KtG(f.toggleColumn(T))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&e){const n=a.$implicit;t.xp6(4),t.Q6J("ngModel",n.isActive),t.xp6(1),t.hij(" ",n.name," ")}}function y(e,a){1&e&&(t.TgZ(0,"th",44),t._uU(1," Originating Customer "),t.qZA())}function q(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.WKOCNAM),t.xp6(2),t.Oqu(n.WKOCAD1+""+n.WKOCAD2),t.xp6(2),t.Oqu(n.WKOCAD3)}}function E(e,a){1&e&&(t.TgZ(0,"th",44),t._uU(1," Bill-to Customer "),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.WKBCNAM),t.xp6(2),t.Oqu(n.WKBCAD1+""+n.WKBCAD2),t.xp6(2),t.Oqu(n.WKBCAD3)}}function b(e,a){1&e&&t._UZ(0,"tr",46)}function O(e,a){1&e&&t._UZ(0,"tr",47)}function M(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Status"),t.qZA())}function S(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.ADSTAT)}}function N(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Sequence Number"),t.qZA())}function x(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.ADSEQ)}}function B(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1," Building Number "),t.qZA())}function K(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.ADBLDG)}}function R(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Ledger Description"),t.qZA())}function $(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.WKLGDSC)}}function W(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Paid Amount"),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij("$",t.xi3(2,1,n.WKDPAID,"1.2-2"),"")}}function H(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1,"Adjustment Amount"),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.WKCRDT)}}function J(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1," Original Amount "),t.qZA())}function j(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij("$",t.xi3(2,1,n.ADAMT,"1.2-2"),"")}}function w(e,a){1&e&&(t.TgZ(0,"th",48),t._uU(1," Payment Number / Check Number "),t.qZA())}function F(e,a){if(1&e&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Oqu(n.PaymentNumber)}}function k(e,a){1&e&&t._UZ(0,"tr",46)}function G(e,a){1&e&&t._UZ(0,"tr",47)}const X=function(){return[8,16,24]};let z=(()=>{class e{constructor(n,r,_,T){this.router=n,this.LedgerCodes=r,this.fb=_,this.decimalPipe=T,this.displayedColumns1=["OriginatingCustomer","BillToCustomer"],this.displayedColumns=["Status","SequenceNumber","BuildingNumber","LedgerDescription","PaidAmount","Adjustment","OriginalAmount"],this.duplicateSource=[],this.user=localStorage.getItem("userName"),this.TransactionType="",this.Description="",this.Due=0,this.Paid=0,this.PaymentNumber="",this.selectedRow=[],this.editedRows=[],this.columnShowHideList=[]}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({AHINV:{value:this.element[0].WKINV,disabled:!0},AHREF:{value:this.element[0].AHREF,disabled:!0}}),this.initializeColumnProperties(),this.editedRows=[],this.getInvInquiry()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}toggleColumn(n){if(n.isActive)n.position>this.displayedColumns.length-1?this.displayedColumns.push(n.name):this.displayedColumns.splice(n.position,0,n.name);else{let r=this.displayedColumns.indexOf(n.name);r>-1&&this.displayedColumns.splice(r,1)}}initializeColumnProperties(){this.displayedColumns.forEach((n,r)=>{"OriginalAmount"!=n&&this.columnShowHideList.push({position:r,name:n,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"PaymentNumber",isActive:!1})}getInvInquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.LedgerCodes.getLctInvInquiry(this.user,this.element[0].WKINV).subscribe(n=>{var r=n[0].data[1].value;console.log(r);var _=JSON.parse(r);if(this.duplicateSource=_.returnedData,this.dataSource=new c.by(this.duplicateSource),console.log(this.duplicateSource),this.InvoiceDate=this.duplicateSource[0].AHDATE,this.TransactionDate=this.duplicateSource[0].AHTDAT,this.DueDate=this.duplicateSource[0].AHDDAT,this.InvoiceAmount="$"+this.decimalPipe.transform(this.duplicateSource[0].AHAMT,"1.2-2"),this.InvoiceStatus=this.duplicateSource[0].AHSTAT,this.AdjustmentAmount="$"+this.decimalPipe.transform(this.duplicateSource[0].WKAJAMT,"1.2-2"),this.Description=this.duplicateSource[0].AHDESC,this.TransactionType=this.duplicateSource[0].TTDESC,this.PaymentNumber=this.duplicateSource[0].WKPAY1+this.duplicateSource[0].WKSLSH1+this.duplicateSource[0].WKCHK1,this.duplicateSource.length>0){this.dataSource.paginator=this.paginator;for(let T=0;T<this.duplicateSource.length;T++){const f=this.duplicateSource[T];this.Due+=f.ADAMT,this.Paid+=f.WKDPAID,console.log(this.Due)}}})}onBack(){this.router.navigateByUrl("/main-nav/ledgerCode/receivable-details",{state:this.element[1]})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(L.F0),t.Y36(D.f),t.Y36(d.qu),t.Y36(A.JJ))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inv-inquiry-lc-transactions"]],viewQuery:function(n,r){if(1&n&&t.Gf(I.NW,5),2&n){let _;t.iGM(_=t.CRH())&&(r.paginator=_.first)}},standalone:!0,features:[t._Bn([A.JJ]),t.jDz],decls:113,vars:27,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"button"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","AHINV"],["matInput","","disabled","",3,"value"],["matInput","","formControlName","AHREF"],["appearance","outline",1,"full-width2"],["disabled","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","OriginatingCustomer"],["mat-header-cell","","mat-header-cell","","width","20%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","BillToCustomer"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-table","",1,"mat-elevation-z8","tableCss",3,"dataSource"],["matColumnDef","Status"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","SequenceNumber"],["matColumnDef","BuildingNumber"],["matColumnDef","LedgerDescription"],["matColumnDef","PaidAmount"],["matColumnDef","Adjustment"],["matColumnDef","OriginalAmount"],["matColumnDef","PaymentNumber"],[1,"Content-page-both-right"],[1,"right-side-content"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell","","width","20%"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","","mat-header-cell",""]],template:function(n,r){if(1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return r.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Receivables Transaction Inquiry"),t.qZA(),t.TgZ(7,"div",2)(8,"mat-menu",3,4)(10,"div",5),t.YNc(11,C,6,2,"ng-container",6),t.qZA()(),t.TgZ(12,"button",7,8)(14,"mat-icon"),t._uU(15,"visibility_off"),t.qZA()()()(),t.TgZ(16,"mat-card-content",9)(17,"form",10)(18,"div",11)(19,"div",12)(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"Invoice Number"),t.qZA(),t._UZ(23,"input",14),t.qZA(),t.TgZ(24,"mat-form-field",13)(25,"mat-label"),t._uU(26,"Status"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.TgZ(28,"mat-form-field",13)(29,"mat-label"),t._uU(30,"Reference Number "),t.qZA(),t._UZ(31,"input",16),t.qZA(),t.TgZ(32,"mat-form-field",13)(33,"mat-label"),t._uU(34,"Invoice Date"),t.qZA(),t._UZ(35,"input",15),t.qZA(),t.TgZ(36,"mat-form-field",13)(37,"mat-label"),t._uU(38,"Transaction Date"),t.qZA(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"mat-form-field",17)(41,"mat-label"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"input",15),t.qZA(),t.TgZ(44,"mat-form-field",13)(45,"mat-label"),t._uU(46,"Due Date"),t.qZA(),t._UZ(47,"input",15),t.qZA(),t.TgZ(48,"mat-form-field",13)(49,"mat-label"),t._uU(50,"Transaction Type"),t.qZA(),t._UZ(51,"input",18),t.qZA(),t.TgZ(52,"mat-form-field",13)(53,"mat-label"),t._uU(54,"Invoice Amount"),t.qZA(),t._UZ(55,"input",15),t.qZA(),t.TgZ(56,"mat-form-field",13)(57,"mat-label"),t._uU(58,"Adjusted Amount"),t.qZA(),t._UZ(59,"input",15),t.qZA()()()()(),t._UZ(60,"br"),t.TgZ(61,"table",19),t.ynx(62,20),t.YNc(63,y,2,0,"th",21),t.YNc(64,q,6,3,"td",22),t.BQk(),t.ynx(65,23),t.YNc(66,E,2,0,"th",21),t.YNc(67,U,6,3,"td",22),t.BQk(),t.YNc(68,b,1,0,"tr",24),t.YNc(69,O,1,0,"tr",25),t.qZA(),t._UZ(70,"br"),t.TgZ(71,"table",26),t.ynx(72,27),t.YNc(73,M,2,0,"th",28),t.YNc(74,S,2,1,"td",22),t.BQk(),t.ynx(75,29),t.YNc(76,N,2,0,"th",28),t.YNc(77,x,2,1,"td",22),t.BQk(),t.ynx(78,30),t.YNc(79,B,2,0,"th",28),t.YNc(80,K,2,1,"td",22),t.BQk(),t.ynx(81,31),t.YNc(82,R,2,0,"th",28),t.YNc(83,$,2,1,"td",22),t.BQk(),t.ynx(84,32),t.YNc(85,W,2,0,"th",28),t.YNc(86,Y,3,4,"td",22),t.BQk(),t.ynx(87,33),t.YNc(88,H,2,0,"th",28),t.YNc(89,Q,2,1,"td",22),t.BQk(),t.ynx(90,34),t.YNc(91,J,2,0,"th",28),t.YNc(92,j,3,4,"td",22),t.BQk(),t.ynx(93,35),t.YNc(94,w,2,0,"th",28),t.YNc(95,F,2,1,"td",22),t.BQk(),t.YNc(96,k,1,0,"tr",24),t.YNc(97,G,1,0,"tr",25),t.qZA(),t.TgZ(98,"div",36)(99,"div",37)(100,"button",38),t._uU(101," Paid : "),t.TgZ(102,"b"),t._uU(103),t.ALo(104,"number"),t.qZA()()(),t.TgZ(105,"div",37)(106,"button",38),t._uU(107," Due : "),t.TgZ(108,"b"),t._uU(109),t.ALo(110,"number"),t.qZA()()()(),t._UZ(111,"mat-paginator",39,40),t.qZA()),2&n){const _=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",r.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",_),t.xp6(5),t.Q6J("formGroup",r.form),t.xp6(10),t.s9C("value",r.InvoiceStatus),t.xp6(8),t.s9C("value",r.InvoiceDate),t.xp6(4),t.s9C("value",r.TransactionDate),t.xp6(4),t.s9C("value",r.Description),t.xp6(4),t.s9C("value",r.DueDate),t.xp6(4),t.s9C("value",r.TransactionType),t.xp6(4),t.s9C("value",r.InvoiceAmount),t.xp6(4),t.s9C("value",r.AdjustmentAmount),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",r.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns1),t.xp6(2),t.Q6J("dataSource",r.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",r.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",r.displayedColumns),t.xp6(6),t.hij("$ ",t.xi3(104,20,r.Paid,"1.2-2"),""),t.xp6(6),t.hij(" $ ",t.xi3(110,23,r.Due,"1.2-2"),""),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(26,X))}},dependencies:[h.m,A.sg,d._Y,d.Fj,d.JJ,d.JL,d.On,d.sg,d.u,I.NW,Z.Hw,i.VK,i.p6,o.lW,u.KE,u.hX,l.Nt,m.a8,m.dk,m.dn,m.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,p.gM,g.Rr,A.JJ]}),e})()},46546:(P,v,s)=>{s.d(v,{f:()=>D});var I=s(80529),h=s(75625),c=s(70262),A=s(62843),t=s(92340),L=s(94650);let D=(()=>{class d{constructor(i){this.httpClient=i,this.url=t.N.API_BASE_URL,this.httpHeader={headers:new I.WM({"Content-Type":"application/json"})}}getLedgerCodes(i,o,u,l){return this.httpClient.get(this.url+`/LedgerCodes/read?user=${i}&LedgerCode=${o}&recordsPerPage=${u}&pageNo=${l}`)}getAll(i){return this.httpClient.get(this.url+`/LedgerCodes/readAll?user=${i}`)}createLedgerCodes(i,o,u,l,m,p){return this.httpClient.post(this.url+"/LedgerCodes/create",{LELEGC:i,LELEGS:o,LEDESC:u,LECC:l,LECSFX:m,user:p}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}updateLedgerCodes(i,o,u,l,m,p){return this.httpClient.put(this.url+"/LedgerCodes/update",{LELEGC:i,LELEGS:o,LEDESC:u,LECC:l,LECSFX:m,user:p}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}deleteLedgerCodes(i,o,u){return this.httpClient.delete(this.url+`/LedgerCodes/delete?user=${i}&LedgerCode=${o}&LedgerSubCode=${u}`)}LedgerCodesConsolidate(i,o,u,l){return this.httpClient.put(this.url+"/LedgerCodes/consolidate",{LedgerCode1:i,LedgerSubCode1:o,LedgerCode2:u,LedgerSubCode2:l}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}getLCTransactions(i,o,u,l,m){return this.httpClient.get(this.url+`/LedgerCodes/transactions/read?user=${i}&LedgerCode=${o}&LedgerSubCode=${u}&recordsPerPage=${l}&pageNo=${m}`)}updateLcTransactions(i,o,u,l,m,p,g,C){return this.httpClient.put(this.url+"/LedgerCodes/transactions/update",{user:i,InvoiceNum:o,SequenceNum:u,InvoiceDate:l,LineAmount:m,LedgerCode:p,LedgerSubCode:g,Building:C}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}getLctInvInquiry(i,o){return this.httpClient.get(this.url+`/LedgerCodes/transactions/InvInquiry/read?user=${i}&InvoiceNum=${o}`)}getLctAdjInquiry(i,o){return this.httpClient.get(this.url+`/LedgerCodes/transactions/AdjInquiry/read?user=${i}&InvoiceNum=${o}`)}getLCAttributes(i,o,u,l){return this.httpClient.get(this.url+`/LedgerCodes/attributes/read?user=${i}&key=${o}&recordsPerPage=${u}&pageNo=${l}`)}LCAttributesCreate(i,o,u,l,m,p,g,C){return this.httpClient.post(this.url+"/LedgerCodes/attributes/create",{user:i,EAFLID:o,EAKEY:u,EAATRB:l,EAVALU:m,EASTAT:p,EATMST:g,EAUSER:C}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}LCAttributesUpdate(i,o,u,l,m,p,g,C){return this.httpClient.put(this.url+"/LedgerCodes/attributes/update",{EAFLID:i,EAKEY:o,EAATRB:u,EAVALU:l,EASTAT:m,EATMST:p,EAUSER:g,user:C}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}LCAttributesDelete(i,o){return this.httpClient.delete(this.url+`/LedgerCodes/attributes/delete?key=${i}&attribute=${o}`)}RevenueDistReport(i,o,u,l,m,p,g,C,y,q,E,U,b,O){return this.httpClient.put(this.url+"/LedgerCodes/LedgerCodesRevReport/update",{LedgerCode:i,LedgerCodeSuffix:o,StartDate:u,EndDate:l,StartingCustomer:m,StartingCustomerSuffix:p,StartingCustomerSuffix2:g,EndingCustomer:C,EndingCustomerSuffix:y,EndingCustomerSuffix2:q,StartingBuildingNumber:E,EndingBuildingNumber:U,OutPut:b,Email:O}).pipe((0,h.X)(1),(0,c.K)(this.httpError))}LCRevInquiry(i,o,u){return this.httpClient.get(this.url+`/LedgerCodes/LCRevInquiry/read?user=${i}&LedgerCode=${o}&LedgerSubCode=${u}`)}httpError(i){let o="";return o=i.error instanceof ErrorEvent?i.error.message:`Error Code: ${i.status}\nMessage: ${i.message}`,console.log(o),(0,A._)(()=>new Error(o))}}return d.\u0275fac=function(i){return new(i||d)(L.LFG(I.eN))},d.\u0275prov=L.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);