"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[83528],{83528:(L,y,s)=>{s.r(y),s.d(y,{OperatorEquipmentDetailsComponent:()=>Zt});var x=s(15861),_=s(7155),E=s(98739),Z=s(70879),S=s(77579),C=s(78372),T=s(71884),g=s(48529),t=s(94650),o=s(80529),l=s(65412),c=s(19132),u=s(24006),h=s(12412),d=s(36895),D=s(97392),O=s(28255),A=s(4859),M=s(59549),v=s(44144),q=s(73546),I=s(10266),Y=s(90455);function H(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17)(2,"div",54)(3,"span",55),t.NdJ("click",function(a){return a.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",56),t.NdJ("ngModelChange",function(a){const m=t.CHM(e).$implicit;return t.KtG(m.isActive=a)})("change",function(){const p=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(p))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&n){const e=r.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function k(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Equipment Number"),t.qZA())}function W(n,r){if(1&n&&(t.TgZ(0,"td",58),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHEQUI)}}function $(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Building"),t.qZA())}function z(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHBLDG)}}function j(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Equipment Type"),t.qZA())}function G(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHTYPE)}}function X(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Operator ID"),t.qZA())}function V(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHOPER)}}function tt(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Date"),t.qZA())}function et(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QDATE)}}function nt(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Time"),t.qZA())}function it(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(null==e.QTIME?null:e.QTIME.split(".").join(":"))}}function at(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Meter"),t.qZA())}function rt(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHMETR)}}function ot(n,r){1&n&&(t.TgZ(0,"th",57),t._uU(1,"Notes"),t.qZA())}function st(n,r){if(1&n&&(t.TgZ(0,"td",59),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.QHNOTE)}}function lt(n,r){1&n&&(t.TgZ(0,"th",60),t._uU(1,"Status"),t.qZA())}function pt(n,r){if(1&n&&(t.TgZ(0,"td",61)(1,"span",62),t._uU(2),t.qZA()()),2&n){const e=r.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",i.getStatusClass(e.QHSTAT)),t.xp6(1),t.hij(" ",e.QHSTAT,"")}}function ut(n,r){1&n&&(t.TgZ(0,"th",63),t._uU(1,"Actions"),t.qZA())}function ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",84)(1,"button",85),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw(2).$implicit,f=t.oxw();return t.KtG(f.handleRecentClick(p,m))}),t._uU(2),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function mt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",77)(1,"div",78)(2,"span",79),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",80),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearRecentSearches())}),t.TgZ(5,"span",81),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",82),t.YNc(8,ct,3,1,"li",83),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function _t(n,r){1&n&&(t.TgZ(0,"li",86)(1,"div",87)(2,"mat-icon",88),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",89),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",90),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function ht(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",93),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function dt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function gt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",91)(1,"button",85),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw().$implicit,f=t.oxw();return t.KtG(f.handleItemClick(p,m))}),t.YNc(2,ht,2,2,"ng-container",92),t.YNc(3,dt,3,1,"ng-container",92),t._uU(4),t.qZA()()}if(2&n){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function ft(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",97),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function Et(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",98),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function Dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",94)(1,"button",85),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw().$implicit,f=t.oxw();return t.KtG(f.handleItemClick(p,m))}),t.TgZ(2,"div",95),t.YNc(3,ft,2,2,"ng-container",92),t.YNc(4,Et,3,1,"ng-container",92),t.TgZ(5,"span",96),t._uU(6),t.qZA()()()()}if(2&n){const e=r.$implicit,i=t.oxw(2);t.Q6J("hidden",i.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function Ct(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"td",59)(1,"div",64)(2,"button",65),t._UZ(3,"img",66),t.qZA(),t.TgZ(4,"ul",67)(5,"li",68)(6,"mat-form-field",69)(7,"input",70),t.NdJ("ngModelChange",function(a){t.CHM(e);const p=t.oxw();return t.KtG(p.searchDropdownText=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSearchChange())}),t.qZA()()(),t.YNc(8,mt,9,1,"li",71),t.TgZ(9,"div",72),t._UZ(10,"hr",73),t.qZA(),t.YNc(11,_t,8,0,"li",74),t.YNc(12,gt,5,3,"li",75),t.YNc(13,Dt,7,4,"li",76),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function Tt(n,r){1&n&&t._UZ(0,"tr",99)}function Ot(n,r){1&n&&t._UZ(0,"tr",100)}function qt(n,r){1&n&&(t.TgZ(0,"div",101),t._UZ(1,"img",102),t.TgZ(2,"h3",103),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",104),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const xt=function(){return[8,16,24]};let Zt=(()=>{class n{constructor(e,i,a,p,m){this.http=e,this.matDialog=i,this.router=a,this.fb=p,this.OperatorEquipmentSvc=m,this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.dataSource=new _.by,this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.searchInput$=new S.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.duplicateSource=[],this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1,this.displayedColumns=["Equipment Number","Building","Equipment Type","Operator ID","Date","Time","Meter","Status","Actions"],this.pagenumber=1,this.columnShowHideList=[],this.OpEquipMaintQuesUrl="/main-nav/EquipMaintQuesDetails/read"}ngOnInit(){const e=history.state;this.element=e,console.log(this.element),this.form=this.fb.group({EquipmentNumber:this.element.EQEQUI,OperatorID:"",BuildingNumber:this.element.EQBLDG,EquipmentType:this.element.EQTYPE,Date:"",Time:""}),e?.returnedData?.length&&this.form.patchValue(e.returnedData[0]),this.initializeColumnProperties(),this.editedRows=[],this.currentFilters=this.form.value,this.getOperatorEquipmentMaintQues(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter(),this.searchInput$.pipe((0,C.b)(500),(0,T.x)()).subscribe(p=>{this.handleSearch(p)}),this.http.get("assets/jsondata/OperatorEquipmentExceptions.json").subscribe(p=>{this.headerActions=p.header,this.menuItems=p.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=p.search;const m=localStorage.getItem("recentSearches");if(m){const f=JSON.parse(m);this.recentSearches=this.menuItems.filter(b=>f.includes(b.label))}this.filteredRecentSearches=[...this.recentSearches]})}applyGlobalFilterInput(e){this.searchInput$.next(e)}handleSearch(e){if(e=e.trim().toLowerCase(),this.currentFilters=this.form.value,!e)return this.isSearchMode=!1,this.noData=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.paginator&&(this.paginator.pageIndex=0),void this.getOperatorEquipmentMaintQues(this.pageSize,1);this.isSearchMode=!0,this.loadSearchChunks(e,()=>{if(0===this.filteredData.length)return this.noData=!0,void(this.dataSource.data=[]);this.noData=!1,this.loadPage(1)})}applyManualFilter(e){this.filteredData=this.allData.filter(i=>Object.values(i).some(a=>String(a).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const i=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(i,i+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):this.getOperatorEquipmentMaintQues(e.pageSize,e.pageIndex+1)}getSearchStrategy(e){return e<=1500?{chunkSize:300,maxCalls:4}:e<=1e4?{chunkSize:2e3,maxCalls:5}:{chunkSize:5e3,maxCalls:5}}loadSearchChunks(e,i){var a=this;return(0,x.Z)(function*(){const p=a.currentFilters||{},{EquipmentNumber:m=a.element?.EQEQUI||"",EquipmentType:f=a.element?.EQTYPE||"",BuildingNumber:b=a.element?.EQBLDG||"",OperatorID:Q="",Date:w="",Time:B=""}=p,R=a.totalRecords>0?a.totalRecords:1e4,{chunkSize:U,maxCalls:N}=a.getSearchStrategy(R);let K=1,F=0,P=[];for(;F<N;){const St=(yield a.OperatorEquipmentSvc.getOEquipmentMaintQuesHeader(a.user,m,f,Q,g.R.fullBuilding(b),w,B,U,K).toPromise())?.[0]?.data?.[1]?.value,J=JSON.parse(St||"{}")?.returnedData||[],At=J.filter(Mt=>Object.values(Mt).some(bt=>String(bt).toLowerCase().includes(e)));if(P.push(...At),J.length<U)break;K++,F++}a.allData=P,a.filteredData=P,a.totalRecords=P.length,i?.()})()}getStatusClass(e){return e?["C"].includes(e)?"status-gray":["W","SH","CD"].includes(e)?"status-green":["EN","I","N","RL"].includes(e)?"status-yellow":["A","PK","BL"].includes(e)?"status-purple":["PS","CM","MQ"].includes(e)?"status-blue":["EM","EP","SB","SP","EB","R","S","DL"].includes(e)?"status-red":"status-gray":""}handleItemClick(e,i){this.executeAction(e,i),this.addToRecentSearches(e)}executeAction(e,i){"function"==typeof this[e.action]?this[e.action](i):console.warn("Action not implemented:",e.action)}handleRecentClick(e,i){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](i),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(i=>i.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(i=>i.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(i=>i.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}getBySearch(e){const i=this.pageSize,a=this.pageNumber;this.currentFilters=e,this.paginator&&this.paginator.firstPage(),this.getOperatorEquipmentMaintQues(i,a)}searchEquipmentException(){this.searchTextDisplay=1!=this.searchTextDisplay}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let i=this.displayedColumns.indexOf(e.name);i>-1&&this.displayedColumns.splice(i,1)}console.log(this.displayedColumns)}initializeColumnProperties(){this.displayedColumns.forEach((e,i)=>{"Actions"!=e&&"Status"!=e&&this.columnShowHideList.push({position:i,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Notes",isActive:!1}),console.log(this.columnShowHideList)}getOperatorEquipmentMaintQues(e,i){this.isLoading=!0,this.noData=!1;const a=this.currentFilters||{},{EquipmentNumber:p="",EquipmentType:m="",BuildingNumber:f="",OperatorID:b="",Date:Q="",Time:w=""}=a;this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.OperatorEquipmentSvc.getOEquipmentMaintQuesHeader(this.user,p,m,b,g.R.fullBuilding(f),Q,w,e,i).subscribe({next:B=>{this.isLoading=!1;const U=JSON.parse(B?.[0]?.data?.[1]?.value||"{}"),N=U?.returnedData||[];this.totalRecords=U?.Totalrecords||0,this.dataSource.data=N,this.noData=0===N.length,this.paginator&&(this.paginator.pageIndex=(i??1)-1,this.paginator.pageSize=e??this.pageSize,this.paginator.length=this.totalRecords)},error:()=>this.handleReceivableNoData()})}handleReceivableNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource.data=[]}createFilter(){return(e,i)=>{const a=JSON.parse(i);return Object.keys(a).every(p=>e[p].toString().toLowerCase().includes(a[p].toLowerCase()))}}resetSearch(){this.form.reset(),this.currentFilters=this.form.value,this.isSearchMode=!1,this.noData=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.paginator&&(this.paginator.pageIndex=0),this.getOperatorEquipmentMaintQues(this.pageSize,1)}onBack(){this.router.navigateByUrl("/main-nav/operatorEquipment/read")}OperatorEquipmentDetailsForm(e){this.router.navigateByUrl(this.OpEquipMaintQuesUrl,{state:{data:[e,this.element,this.form.value]}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.eN),t.Y36(l.uw),t.Y36(c.F0),t.Y36(u.qu),t.Y36(h.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-operator-equipment-details"]],viewQuery:function(e,i){if(1&e&&t.Gf(E.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:93,vars:10,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Operator Equipment",1,"addButton","buttons",3,"click"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","EquipmentNumber",2,"text-transform","uppercase"],["matInput","","formControlName","OperatorID",2,"text-transform","uppercase"],["matInput","","formControlName","BuildingNumber",2,"text-transform","uppercase"],["matInput","","formControlName","EquipmentType",2,"text-transform","uppercase"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"half-width"],["matInput","","type","date","formControlName","Date"],["matInput","","type","time","step","1","formControlName","Time"],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["id","myTable","mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Equipment Number"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Building"],["mat-cell","",4,"matCellDef"],["matColumnDef","Equipment Type"],["matColumnDef","Operator ID"],["matColumnDef","Date"],["matColumnDef","Time"],["matColumnDef","Meter"],["matColumnDef","Notes"],["matColumnDef","Status"],["mat-header-cell","","class","status-cell",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions","page"],["paginator",""],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell",""],["mat-header-cell","",1,"status-cell"],["mat-cell","",1,"status-cell"],[1,"status-badge",3,"ngClass"],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return i.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Equipment Maint Questions Header"),t.qZA(),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-icon",5),t._uU(10,"search"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("input",function(p){return i.applyGlobalFilterInput(p.target.value)}),t.qZA()(),t.TgZ(12,"button",7),t.NdJ("click",function(){return i.resetSearch()}),t.TgZ(13,"mat-icon"),t._uU(14,"loop"),t.qZA()(),t.TgZ(15,"mat-menu",8,9)(17,"div",10),t.YNc(18,H,6,2,"ng-container",11),t.qZA()(),t.TgZ(19,"button",12,13),t._UZ(21,"img",14),t.qZA()()(),t.TgZ(22,"mat-card-content",15)(23,"form",16),t.NdJ("ngSubmit",function(){return i.getBySearch(i.form.value)}),t.TgZ(24,"div",17)(25,"div",18)(26,"mat-form-field",19)(27,"mat-label"),t._uU(28,"Equipment Number"),t.qZA(),t._UZ(29,"input",20),t.qZA(),t.TgZ(30,"mat-form-field",19)(31,"mat-label"),t._uU(32,"Operator ID"),t.qZA(),t._UZ(33,"input",21),t.qZA(),t.TgZ(34,"mat-form-field",19)(35,"mat-label"),t._uU(36,"Building Number"),t.qZA(),t._UZ(37,"input",22),t.qZA(),t.TgZ(38,"mat-form-field",19)(39,"mat-label"),t._uU(40,"Equipment Type"),t.qZA(),t._UZ(41,"input",23),t.qZA(),t.TgZ(42,"div",24)(43,"label",25),t._uU(44,"Date/Time"),t.qZA(),t.TgZ(45,"div",26)(46,"mat-form-field",27)(47,"mat-label"),t._uU(48,"Date"),t.qZA(),t._UZ(49,"input",28),t.qZA(),t.TgZ(50,"mat-form-field",27)(51,"mat-label"),t._uU(52,"Time"),t.qZA(),t._UZ(53,"input",29),t.qZA()()()()(),t.TgZ(54,"div",30)(55,"button",31),t._uU(56," Search "),t.qZA()()()(),t.TgZ(57,"table",32),t.ynx(58,33),t.YNc(59,k,2,0,"th",34),t.YNc(60,W,2,1,"td",35),t.BQk(),t.ynx(61,36),t.YNc(62,$,2,0,"th",34),t.YNc(63,z,2,1,"td",37),t.BQk(),t.ynx(64,38),t.YNc(65,j,2,0,"th",34),t.YNc(66,G,2,1,"td",37),t.BQk(),t.ynx(67,39),t.YNc(68,X,2,0,"th",34),t.YNc(69,V,2,1,"td",37),t.BQk(),t.ynx(70,40),t.YNc(71,tt,2,0,"th",34),t.YNc(72,et,2,1,"td",37),t.BQk(),t.ynx(73,41),t.YNc(74,nt,2,0,"th",34),t.YNc(75,it,2,1,"td",37),t.BQk(),t.ynx(76,42),t.YNc(77,at,2,0,"th",34),t.YNc(78,rt,2,1,"td",37),t.BQk(),t.ynx(79,43),t.YNc(80,ot,2,0,"th",34),t.YNc(81,st,2,1,"td",37),t.BQk(),t.ynx(82,44),t.YNc(83,lt,2,0,"th",45),t.YNc(84,pt,3,2,"td",46),t.BQk(),t.ynx(85,47),t.YNc(86,ut,2,0,"th",48),t.YNc(87,Ct,14,5,"td",37),t.BQk(),t.YNc(88,Tt,1,0,"tr",49),t.YNc(89,Ot,1,0,"tr",50),t.qZA(),t.YNc(90,qt,6,0,"div",51),t.TgZ(91,"mat-paginator",52,53),t.NdJ("page",function(p){return i.onPaginateChange(p)}),t.qZA()()),2&e){const a=t.MAs(16);t.xp6(18),t.Q6J("ngForOf",i.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",a),t.xp6(4),t.Q6J("formGroup",i.form),t.xp6(34),t.Q6J("dataSource",i.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("ngIf",!i.isLoading&&i.noData),t.xp6(1),t.Q6J("pageSize",i.pageSize)("pageSizeOptions",t.DdM(9,xt))}},dependencies:[Z.m,d.mk,d.sg,d.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,E.NW,D.Hw,O.VK,O.p6,A.lW,M.KE,M.hX,M.qo,v.Nt,q.a8,q.dk,q.dn,q.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,I.gM,Y.Rr]}),n})()},12412:(L,y,s)=>{s.d(y,{b:()=>T});var x=s(80529),_=s(75625),E=s(70262),Z=s(62843),S=s(92340),C=s(94650);let T=(()=>{class g{constructor(o){this.httpClient=o,this.url=S.N.API_BASE_URL,this.httpHeader={headers:new x.WM({"Content-Type":"application/json"})}}getOperatorEquipment(o,l,c,u,h,d){return this.httpClient.get(this.url+"/operatorEquipment/read",{params:{user:o,building:l??"",equipNumber:c??"",status:u??"",recordsPerPage:h??"",pageNo:d??""}})}createOperatorEquipment(o,l,c,u,h,d,D,O,A,M,v,q,I){return this.httpClient.post(this.url+"/operatorEquipment/create",{user:o,EQBLDG:l,EQEQUI:c,EQTYPE:u,EQMAX:h,EQTRLR:d,EQFTYP:D,EQRAIS:O,EQLPEL:A,EQMANU:M,EQOWN:v,EQWORK:q,EQSTAT:I}).pipe((0,_.X)(1),(0,E.K)(this.httpError))}updateOperatorEquipment(o,l,c,u,h,d,D,O,A,M,v,q,I){return this.httpClient.put(this.url+"/operatorEquipment/update",{user:o,EQBLDG:l,EQEQUI:c,EQTYPE:u,EQMAX:h,EQTRLR:d,EQFTYP:D,EQRAIS:O,EQLPEL:A,EQMANU:M,EQOWN:v,EQWORK:q,EQSTAT:I}).pipe((0,_.X)(1),(0,E.K)(this.httpError))}deleteOperatorEquipment(o,l,c,u){return this.httpClient.delete(this.url+`/operatorEquipment/deleteEquipment?user=${o}&building=${l}&equipment=${c}&equipmentType=${u}`)}getEquipmentTypes(){return this.httpClient.get(this.url+"/operatorEquipment/equipmentType")}getBuildings(){return this.httpClient.get(this.url+"/operatorEquipment/Building")}getOperatorEquipmentDetails(){return this.httpClient.get(this.url+"/OperatorEquipmentDetails/read/OperatorEquipmentDetails")}getOperatorEquipmentExceptions(o,l,c,u,h){return this.httpClient.get(this.url+"/operatorEquipment/readExceptions",{params:{user:o,type:l??"",building:c??"",recordsPerPage:u??"",pageNo:h??""}})}createOpEquipException(o,l,c,u,h,d,D){return this.httpClient.post(this.url+"/operatorEquipment/createException",{user:o,EWTYPE:l,EWBLDG:c,EWRULE:u,EWZONE:h,EWTTYP:d,EWSTYP:D}).pipe((0,_.X)(1),(0,E.K)(this.httpError))}UpdateOpEquipException(o,l,c,u,h,d,D){return this.httpClient.put(this.url+"/operatorEquipment/updateException",{user:o,EWTYPE:l,EWBLDG:c,EWRULE:u,EWZONE:h,EWTTYP:d,EWSTYP:D}).pipe((0,_.X)(1),(0,E.K)(this.httpError))}OpEquipExceptionDelete(o,l,c,u,h){return this.httpClient.delete(this.url+`/operatorEquipment/deleteException?user=${o}&type=${l}&building=${c}&rule=${u}&zone=${h}`)}getOEquipmentMaintQuesHeader(o,l,c,u,h,d,D,O,A){return this.httpClient.get(this.url+"/EquipmentMaintQuesHeader/read",{params:{user:o,equipnum:l??"",equiptype:c??"",operator:u??"",building:h??"",date:d??"",time:D??"",recordsPerPage:O??"",pageNo:A??""}})}getOEquipmentMaintQuesHeaderDetails(o,l,c,u){return this.httpClient.get(this.url+"/EquipmentMaintQuesHeader/details/read",{params:{user:o,transno:l??"",recordsPerPage:c??"",pageNo:u??""}})}httpError(o){let l="";return l=o.error instanceof ErrorEvent?o.error.message:`Error Code: ${o.status}\nMessage: ${o.message}`,console.log(l),(0,Z._)(()=>new Error(l))}}return g.\u0275fac=function(o){return new(o||g)(C.LFG(x.eN))},g.\u0275prov=C.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},15861:(L,y,s)=>{function x(E,Z,S,C,T,g,t){try{var o=E[g](t),l=o.value}catch(c){return void S(c)}o.done?Z(l):Promise.resolve(l).then(C,T)}function _(E){return function(){var Z=this,S=arguments;return new Promise(function(C,T){var g=E.apply(Z,S);function t(l){x(g,C,T,t,o,"next",l)}function o(l){x(g,C,T,t,o,"throw",l)}t(void 0)})}}s.d(y,{Z:()=>_})}}]);