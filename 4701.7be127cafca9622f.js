"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[4701],{34701:(L,d,o)=>{o.r(d),o.d(d,{InvoiceInquiryGIComponent:()=>Y});var r=o(7155),I=o(70879),t=o(94650),T=o(19132),m=o(24006),C=o(81543),A=o(98739),D=o(97392),v=o(4859),f=o(59549),g=o(44144),c=o(73546),Z=o(36895);const q=["paginator"];function b(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Charge Description"),t.qZA())}function y(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.AsE("",i.WKDESC,"\xa0",i.CGCMNT,"")}}function U(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Quantity"),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.DGQTY,"1.2-2"))}}function O(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Rate"),t.qZA())}function G(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.DGRATE,"1.4-4"))}}function M(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Basis"),t.qZA())}function N(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Oqu(i.DGBASE)}}function B(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Amount"),t.qZA())}function R(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,i.DGAMT,"1.2-2"))}}function x(e,a){1&e&&(t.TgZ(0,"th",30),t._uU(1,"Minimum Charges"),t.qZA())}function S(e,a){if(1&e&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&e){const i=a.$implicit;t.xp6(1),t.Oqu(i.DGMINM)}}function W(e,a){1&e&&t._UZ(0,"tr",32)}function K(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"tr",33),t.NdJ("click",function(){const _=t.CHM(i).$implicit,s=t.oxw();return t.KtG(s.rowClick(_))}),t.qZA()}}const P=function(){return[8,16,24]};let Y=(()=>{class e{constructor(i,n,u){this.router=i,this.fb=n,this.RecvSvc=u,this.title="",this.header="",this.mailTo="",this.totalDue=0,this.billTO="",this.acctOf="",this.car="",this.duplicateSource=[],this.currentFilters=null,this.user=localStorage.getItem("userName")||"",this.displayedColumns=["chargeDescription","quantity","rate","basis","amount","minimumCharges"],this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({BillTo:{value:"",disabled:!0},AcctOf:{value:this.element.AHCUST,disabled:!0},RefNo:{value:this.element.AHREF,disabled:!0},CarTr:{value:"",disabled:!0},Date:{value:this.element.AHDATE,disabled:!0},Building:{value:this.element.AHBLDG,disabled:!0},invoice:{value:this.element.WKINV,disabled:!0}}),this.getGeneralInvoiceInquiry()}ngOnDestroy(){this.inquirySubscription&&this.inquirySubscription.unsubscribe()}formatTitle(i){let n=i.replace(/([A-Z])\s/g,"$1");return n=n.replace(/\s{2,}/g," "),n=n.toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "),n}getGeneralInvoiceInquiry(i,n){const u=this.currentFilters||{},{WKINVN:_=`${this.element.WKINV}`}=u;this.inquirySubscription&&this.inquirySubscription.unsubscribe(),this.inquirySubscription=this.RecvSvc.FreightInv(this.user,_,i,n).subscribe(s=>{console.log(s);const h=s[0]?.data[1]?.value,p=h?JSON.parse(h):null;if(console.log(p),p){this.duplicateSource=p.returnedData||[],this.dataSource=new r.by(this.duplicateSource);const l=this.duplicateSource[0];l?(this.mailTo=`${l.SYNAME||""} ${l.SYADD1||""} ${l.SYADD2||""} ${l.SYADD3||""}`.trim(),this.totalDue=l.HGAMT||0,this.car=l.HGCAR||"",this.title=this.formatTitle(l.WKHDG||""),this.header="EN"===this.WKSTAT?"Worksheet":"",this.billTO=`${l.WKSNAME||""}\xa0${l.WKADDR1||""}\xa0${l.WKADDR2||""}\xa0${l.WKADDR3||""}`.trim(),this.acctOf=l.WKACTOF||""):(this.billTO=this.element?.WKCUST||"",this.acctOf=this.element?.WKCUST||"")}})}rowClick(i){this.selectedRow=i}onBack(){this.router.navigate([this.receivablesUrl])}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(T.F0),t.Y36(m.qu),t.Y36(C.Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-invoice-inquiry-gi"]],viewQuery:function(i,n){if(1&i&&t.Gf(q,5),2&i){let u;t.iGM(u=t.CRH())&&(n.paginator=u.first)}},standalone:!0,features:[t.jDz],decls:72,vars:16,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","invoice"],["appearance","outline",1,"full-width2"],["matInput","","disabled","",3,"value"],["matInput","","formControlName","RefNo"],["matInput","","formControlName","Date"],["matInput","","formControlName","Building"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","chargeDescription"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","rate"],["matColumnDef","basis"],["matColumnDef","amount"],["matColumnDef","minimumCharges"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],[1,"left-side1"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return n.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before"),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Invoice Number"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"Bill To"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",8)(20,"mat-label"),t._uU(21,"Account Of"),t.qZA(),t._UZ(22,"input",9),t.qZA(),t.TgZ(23,"mat-form-field",6)(24,"mat-label"),t._uU(25,"Reference Number"),t.qZA(),t._UZ(26,"input",10),t.qZA(),t.TgZ(27,"mat-form-field",8)(28,"mat-label"),t._uU(29,"Car / Trailer Number"),t.qZA(),t._UZ(30,"input",9),t.qZA(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33,"Date"),t.qZA(),t._UZ(34,"input",11),t.qZA(),t.TgZ(35,"mat-form-field",6)(36,"mat-label"),t._uU(37,"Building"),t.qZA(),t._UZ(38,"input",12),t.qZA()()()()(),t.TgZ(39,"table",13),t.ynx(40,14),t.YNc(41,b,2,0,"th",15),t.YNc(42,y,2,2,"td",16),t.BQk(),t.ynx(43,17),t.YNc(44,U,2,0,"th",15),t.YNc(45,E,3,4,"td",16),t.BQk(),t.ynx(46,18),t.YNc(47,O,2,0,"th",15),t.YNc(48,G,3,4,"td",16),t.BQk(),t.ynx(49,19),t.YNc(50,M,2,0,"th",15),t.YNc(51,N,2,1,"td",16),t.BQk(),t.ynx(52,20),t.YNc(53,B,2,0,"th",15),t.YNc(54,R,3,4,"td",16),t.BQk(),t.ynx(55,21),t.YNc(56,x,2,0,"th",15),t.YNc(57,S,2,1,"td",16),t.BQk(),t.YNc(58,W,1,0,"tr",22),t.YNc(59,K,1,0,"tr",23),t.qZA(),t._UZ(60,"br")(61,"br"),t.TgZ(62,"div",24)(63,"div",25)(64,"button",26),t._uU(65),t.qZA()(),t.TgZ(66,"div",27)(67,"button",26),t._uU(68),t.ALo(69,"number"),t.qZA()()(),t._UZ(70,"mat-paginator",28,29),t.qZA()),2&i&&(t.xp6(6),t.AsE(" ",n.title," ",n.header," "),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(10),t.s9C("value",n.billTO),t.xp6(4),t.s9C("value",n.acctOf),t.xp6(8),t.s9C("value",n.car),t.xp6(9),t.Q6J("dataSource",n.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(6),t.hij("Mail Payment to : ",n.mailTo,""),t.xp6(3),t.hij("Total Due : $",t.xi3(69,12,n.totalDue,"1.2-2"),""),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(15,P)))},dependencies:[I.m,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,A.NW,D.Hw,v.lW,f.KE,f.hX,g.Nt,c.a8,c.dk,c.dn,c.n5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,Z.JJ]}),e})()}}]);