"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[34701],{34701:(K,A,s)=>{s.r(A),s.d(A,{InvoiceInquiryGIComponent:()=>L});var m=s(7155),p=s(70879),t=s(94650),Z=s(19132),v=s(24006),U=s(81543),b=s(98739),q=s(97392),I=s(4859),R=s(59549),e=s(44144),i=s(73546),n=s(36895);const l=["paginator"];function c(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Charge Description"),t.qZA())}function _(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.AsE("",a.WKDESC,"\xa0",a.CGCMNT,"")}}function C(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Quantity"),t.qZA())}function f(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.DGQTY,"1.2-2"))}}function g(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Rate"),t.qZA())}function D(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.DGRATE,"1.4-4"))}}function E(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Basis"),t.qZA())}function T(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.Oqu(a.DGBASE)}}function O(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Amount"),t.qZA())}function G(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.ALo(2,"number"),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,a.DGAMT,"1.2-2"))}}function $(r,u){1&r&&(t.TgZ(0,"th",31),t._uU(1,"Minimum Charges"),t.qZA())}function B(r,u){if(1&r&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&r){const a=u.$implicit;t.xp6(1),t.Oqu(a.DGMINM)}}function S(r,u){1&r&&t._UZ(0,"tr",33)}function W(r,u){if(1&r){const a=t.EpF();t.TgZ(0,"tr",34),t.NdJ("click",function(){const M=t.CHM(a).$implicit,y=t.oxw();return t.KtG(y.rowClick(M))}),t.qZA()}}const x=function(){return[8,16,24]};let L=(()=>{class r{constructor(a,o,d){this.router=a,this.fb=o,this.RecvSvc=d,this.title="",this.header="",this.mailTo="",this.totalDue=0,this.billTO="",this.acctOf="",this.car="",this.duplicateSource=[],this.currentFilters=null,this.user=localStorage.getItem("userName")||"",this.displayedColumns=["chargeDescription","quantity","rate","basis","amount","minimumCharges"],this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({BillTo:{value:"",disabled:!0},AcctOf:{value:this.element.AHCUST,disabled:!0},RefNo:{value:this.element.AHREF,disabled:!0},CarTr:{value:"",disabled:!0},Date:{value:this.element.AHDATE,disabled:!0},Building:{value:this.element.AHBLDG,disabled:!0},invoice:{value:this.element.WKINV,disabled:!0}}),this.getGeneralInvoiceInquiry()}ngOnDestroy(){this.inquirySubscription&&this.inquirySubscription.unsubscribe()}formatTitle(a){let o=a.replace(/([A-Z])\s/g,"$1");return o=o.replace(/\s{2,}/g," "),o=o.toLowerCase().split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" "),o}getGeneralInvoiceInquiry(a,o){const d=this.currentFilters||{},{WKINVN:M=`${this.element.WKINV}`}=d;this.inquirySubscription&&this.inquirySubscription.unsubscribe(),this.inquirySubscription=this.RecvSvc.FreightInv(this.user,M,a,o).subscribe(y=>{console.log(y);const N=y[0]?.data[1]?.value,P=N?JSON.parse(N):null;if(console.log(P),P){this.duplicateSource=P.returnedData||[],this.dataSource=new m.by(this.duplicateSource);const h=this.duplicateSource[0];h?(this.mailTo=`${h.SYNAME||""} ${h.SYADD1||""} ${h.SYADD2||""} ${h.SYADD3||""}`.trim(),this.totalDue=h.HGAMT||0,this.car=h.HGCAR||"",this.title=this.formatTitle(h.WKHDG||""),this.header="EN"===this.WKSTAT?"Worksheet":"",this.billTO=`${h.WKSNAME||""}\xa0${h.WKADDR1||""}\xa0${h.WKADDR2||""}\xa0${h.WKADDR3||""}`.trim(),this.acctOf=h.WKACTOF||""):(this.billTO=this.element?.WKCUST||"",this.acctOf=this.element?.WKCUST||"")}})}rowClick(a){this.selectedRow=a}onBack(){this.router.navigate([this.receivablesUrl])}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(Z.F0),t.Y36(v.qu),t.Y36(U.Z))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-invoice-inquiry-gi"]],viewQuery:function(a,o){if(1&a&&t.Gf(l,5),2&a){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first)}},standalone:!0,features:[t.jDz],decls:69,vars:16,consts:[[1,"over-Flow"],[1,"mat-card-head"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form","main-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","invoice"],["appearance","outline",1,"full-width2"],["matInput","","disabled","",3,"value"],["matInput","","formControlName","RefNo"],["matInput","","formControlName","Date"],["matInput","","formControlName","Building"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","chargeDescription"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","quantity"],["matColumnDef","rate"],["matColumnDef","basis"],["matColumnDef","amount"],["matColumnDef","minimumCharges"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"summary-container","info"],[1,"summary-row","align-between"],[1,"summary-pill"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2)(3,"button",3),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content",4)(8,"form",5)(9,"div",6)(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),t._uU(13,"Invoice Number"),t.qZA(),t._UZ(14,"input",9),t.qZA(),t.TgZ(15,"mat-form-field",10)(16,"mat-label"),t._uU(17,"Bill To"),t.qZA(),t._UZ(18,"input",11),t.qZA(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Account Of"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"mat-form-field",8)(24,"mat-label"),t._uU(25,"Reference Number"),t.qZA(),t._UZ(26,"input",12),t.qZA(),t.TgZ(27,"mat-form-field",10)(28,"mat-label"),t._uU(29,"Car / Trailer Number"),t.qZA(),t._UZ(30,"input",11),t.qZA(),t.TgZ(31,"mat-form-field",8)(32,"mat-label"),t._uU(33,"Date"),t.qZA(),t._UZ(34,"input",13),t.qZA(),t.TgZ(35,"mat-form-field",8)(36,"mat-label"),t._uU(37,"Building"),t.qZA(),t._UZ(38,"input",14),t.qZA()()()()(),t.TgZ(39,"table",15),t.ynx(40,16),t.YNc(41,c,2,0,"th",17),t.YNc(42,_,2,2,"td",18),t.BQk(),t.ynx(43,19),t.YNc(44,C,2,0,"th",17),t.YNc(45,f,3,4,"td",18),t.BQk(),t.ynx(46,20),t.YNc(47,g,2,0,"th",17),t.YNc(48,D,3,4,"td",18),t.BQk(),t.ynx(49,21),t.YNc(50,E,2,0,"th",17),t.YNc(51,T,2,1,"td",18),t.BQk(),t.ynx(52,22),t.YNc(53,O,2,0,"th",17),t.YNc(54,G,3,4,"td",18),t.BQk(),t.ynx(55,23),t.YNc(56,$,2,0,"th",17),t.YNc(57,B,2,1,"td",18),t.BQk(),t.YNc(58,S,1,0,"tr",24),t.YNc(59,W,1,0,"tr",25),t.qZA(),t.TgZ(60,"div",26)(61,"div",27)(62,"div",28),t._uU(63),t.qZA(),t.TgZ(64,"div",28),t._uU(65),t.ALo(66,"number"),t.qZA()()(),t._UZ(67,"mat-paginator",29,30),t.qZA()),2&a&&(t.xp6(6),t.AsE(" ",o.title," ",o.header," "),t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(10),t.s9C("value",o.billTO),t.xp6(4),t.s9C("value",o.acctOf),t.xp6(8),t.s9C("value",o.car),t.xp6(9),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(4),t.hij("Mail Payment to : ",o.mailTo," "),t.xp6(2),t.hij("Total Due : $",t.xi3(66,12,o.totalDue,"1.2-2")," "),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(15,x)))},dependencies:[p.m,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,b.NW,q.Hw,I.lW,R.KE,R.hX,e.Nt,i.a8,i.dk,i.dn,i.n5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,n.JJ]}),r})()},81543:(K,A,s)=>{s.d(A,{Z:()=>q});var m=s(80529),p=s(75625),t=s(70262),Z=s(54004),v=s(62843),U=s(92340),b=s(94650);let q=(()=>{class I{constructor(e){this.httpClient=e,this.url=U.N.API_BASE_URL,this.recal="/Receivables/Recalculate",this.httpHeader={headers:new m.WM({"Content-Type":"application/json"})}}getReceivables(e,i,n,l,c,_,C,f,g,D,E,T,O){return this.httpClient.get(this.url+"/Receivables/read?",{params:{user:e,invoice:i??"",customerNumber:n??"",customerSuffix:l??"",customerSecondSuffix:c??"",refNumber:_??"",startDate:C??"",endDate:f??"",building:g??"",status:D??"",type:E??"",recordsPerPage:T??"",pageNo:O??""}})}getReceivablesDetails(e,i,n){return this.httpClient.get(this.url+`/Receivables/details/read?user=${e}&invoice=${i}&seqNum=${n}`)}getReceivableInquiry(e,i){return this.httpClient.get(this.url+`/Receivables/read/inquiry?user=${e}&invoice=${i}`)}getInvoiceInquiry(e,i,n){return this.httpClient.get(this.url+`/Receivables/read/invoiceInquiry?user=${e}&HGCTL=${i}&invoice=${n}`)}getReceivablesAdjustInvoice(){return this.httpClient.get(this.url+"/Receivables/invoiceinquiry")}getAll(e){return this.httpClient.get(this.url+`/Receivables/readAll?user=${e}`)}getAdjustmentInquiry(e,i,n,l){return this.httpClient.get(this.url+"/Receivables/read/adjInquiry??",{params:{user:e,invoice:i??"",recordsPerPage:n??"",pageNo:l??""}})}adjustInvoiceRead(e,i,n,l){return this.httpClient.get(this.url+"/Receivables/adjust/read?",{params:{user:e,invoice:i??"",recordsPerPage:n??"",pageNo:l??""}})}adjustInvoiceUpdate(e,i,n,l,c,_,C,f,g,D,E,T){return this.httpClient.put(this.url+"/Receivables/adjust/update",{user:e,invoice:i,sequence:n,date:l,amount:c,description:_,ledgerCode:C,ledgerSubCode:f,customer:g,suffix1:D,suffix2:E,status:T}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}creditinvoice(e,i,n,l,c,_,C,f,g,D){return this.httpClient.put(this.url+"/Receivables/update/credit",{invoiceNumber:e,building:i,date:n,type:l,description:c,customer:_,reference:C,amount:f,balance:g,reason:D}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}getComment(e,i,n,l){return this.httpClient.get(this.url+`/Receivables/comments/read?user=${e}&key=${i}&recordsPerPage=${n}&pageNo=${l}`)}updateComment(e,i,n,l,c,_){return this.httpClient.put(this.url+"/Receivables/comments/update",{user:e,fileID:i,key:n,sub:l,seq:c,comment:_}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}createComment(e,i,n,l,c){return this.httpClient.post(this.url+"/Receivables/comments/create",{user:e,fileID:i,key:n,sub:l,comment:c}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}deleteComment(e,i,n,l,c){return this.httpClient.delete(this.url+`/Receivables/comments/delete?user=${e}&fileID=${i}&key=${n}&sub=${l}&seq=${c}`)}Print(e,i,n,l,c){return this.httpClient.put(this.url+"/Receivables/Print",{InvoiceNumber:e,ReportType:i,FileExtension:n,EmailAddress:l,user:c}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}UpdateLedgerCode(e,i,n,l,c,_,C,f){return this.httpClient.put(this.url+"/Receivables/UpdateLedgerCode",{InvoiceNumber:e,SequenceNumber:i,InvoiceDate:n,LineAmount:l,LedgerCode:c,LedgerSubCode:_,BuildingNumber:C,user:f}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}EmailDetail(e,i){return this.httpClient.put(this.url+"/Receivables/Email/Details",{user:e,InvoiceNumber:i}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}EmailDetailsNew(e,i){return this.httpClient.put(this.url+"/Receivables/EmailDetailsNew",{user:e,InvoiceNumber:i}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}Recalculate(e,i){return this.httpClient.put(this.url+this.recal,{user:e,InvoiceNumber:i}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}ReceivingCover(e,i,n){return this.httpClient.put(this.url+"/Receivables/ReceivingCover",{user:e,InvoiceNumber:i,ReturnCode:n}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}MicCover(e,i,n,l,c){return this.httpClient.put(this.url+"/Receivables/MicCover",{user:e,InvoiceNumber:i,StorerNumber:n,StorerSuffix:l,ReturnCode:c}).pipe((0,p.X)(1),(0,t.K)(this.httpError))}deleteReceivables(e,i){return this.httpClient.delete(this.url+`/Receivables/delete/receivable?invoice=${e}&description=${i}`)}FreightInv(e,i,n,l){return this.httpClient.get(this.url+"/Receivables/read/invoiceInquiry?",{params:{user:e,WKINVN:i??"",recordsPerPage:n??"",pageNo:l??""}})}readReceivablesTallyInquiryService(e,i){return this.httpClient.get(this.url+`/ihcrud/tallyinquiry?user=${e}&tally=${i}`).pipe((0,Z.U)(n=>n[0]))}httpError(e){let i="";return i=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(i),(0,v._)(()=>new Error(i))}}return I.\u0275fac=function(e){return new(e||I)(b.LFG(m.eN))},I.\u0275prov=b.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()}}]);