"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[22007,34894,26628,70096],{34894:(T,M,a)=>{a.d(M,{e:()=>p});var c=a(94650),D=a(24006);let p=(()=>{class m{constructor(l,e){this.el=l,this.control=e}onInputChange(l){const e=this.el.nativeElement,S=e.value.toUpperCase();e.value=S,this.control&&this.control.control&&this.control.control.setValue(S,{emitEvent:!1})}}return m.\u0275fac=function(l){return new(l||m)(c.Y36(c.SBq),c.Y36(D.a5))},m.\u0275dir=c.lG2({type:m,selectors:[["","appUppercase",""]],hostBindings:function(l,e){1&l&&c.NdJ("input",function(h){return e.onInputChange(h)})},standalone:!0}),m})()},4379:(T,M,a)=>{a.d(M,{B:()=>S});var c=a(80529),D=a(61135),p=a(75625),m=a(70262),f=a(62843),l=a(92340),e=a(94650);let S=(()=>{class h{constructor(r){this.httpClient=r,this.url=l.N.API_BASE_URL,this.consigneeDataSource=new D.X([]),this.httpHeader={headers:new c.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(r){let i=this.consigneeDataSource.getValue();i.unshift(...r),this.consigneeDataSource.next(i)}getConsignee(r,i,s){return this.httpClient.get(this.url+`/consignee/read?user=${r}&consCode=${i}&name=${s}`)}getAll(r){return this.httpClient.get(this.url+`/consignee/readAll?user=${r}`)}getAllrecords(r,i,s){return this.httpClient.get(this.url+`/consignee/readAll?user=${r}&pageNum=${i}&recordsPerPage=${s}`)}createConsignee(r,i,s,u,d,C,U,Z,v,_,E,t,n,o){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:r,CONAME:i,COADD1:s,COADD2:u,COADD3:d,COADD4:C,COZIP:U,COZSFX:Z,COZONE:v,COPHAR:_,COPHEX:E,COPHNU:t,CODEST:n,user:o}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsignee(r,i,s,u,d,C,U,Z,v,_,E,t,n,o){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:r,CONAME:i,COADD1:s,COADD2:u,COADD3:d,COADD4:C,COZIP:U,COZSFX:Z,COZONE:v,COPHAR:_,COPHEX:E,COPHNU:t,CODEST:n,user:o}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteConsignee(r,i){return this.httpClient.delete(this.url+`/consignee/delete?user=${r}&consCode=${i}`)}getConsigneeXrefService(r,i,s,u){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${r}&consigneeCode=${i}&pageNo=${s}&recordsPerPage=${u}`)}createConsigneeXrefService(r,i,s){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:r,parentConsignee:i,user:s}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsigneeXrefService(r,i,s){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:r,parentConsignee:i,user:s}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteConsigneeXrefService(r,i){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${r}&consigneeCode=${i}`)}getConsigneeComments(r,i,s,u){return this.httpClient.get(this.url+`/consignee/commentRead?user=${r}&consigneeCode=${i}&subType=${s}&sequence=${u}`)}createConsigneeCommentService(r,i,s,u,d){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:r,subType:i,sequence:s,comment:u,user:d}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}updateConsigneeCommentService(r,i,s,u,d){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:r,subType:i,sequence:s,comment:u,user:d}).pipe((0,p.X)(1),(0,m.K)(this.httpError))}deleteconsigneeCommentService(r,i,s,u){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${r}&consigneeCode=${i}&subType=${s}&sequence=${u}`).pipe((0,p.X)(1),(0,m.K)(this.httpError))}httpError(r){let i="";return i=r.error instanceof ErrorEvent?r.error.message:`Error Code: ${r.status}\nMessage: ${r.message}`,console.log(i),(0,f._)(()=>new Error(i))}}return h.\u0275fac=function(r){return new(r||h)(e.LFG(c.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},22007:(T,M,a)=>{a.r(M),a.d(M,{MiscShipComponent:()=>v});var c=a(7155),D=a(70879),p=a(48529),m=a(35226),f=a.n(m),l=a(24006),e=a(94650),S=a(65412),h=a(19132),A=a(4379),r=a(65105),i=a(97392),s=a(4859),u=a(59549),d=a(44144),C=a(73546),U=a(34894);const Z=["paginator"];let v=(()=>{class _{constructor(t,n,o,g,O){this.fb=t,this.matDialog=n,this.router=o,this.consigneeSrvc=g,this.Orderservice=O,this.OrdersURL="/main-nav/orders/read",this.user=localStorage.getItem("userName"),this.dataSource=[],this.duplicateSource=[],this.ShipOptions=[]}ngOnInit(){this.element=history.state,this.form=this.fb.group({billNumber:[{value:this.element[0].OHBILL,disabled:!0}],Storer:[{value:this.element[1].WKSTOR,disabled:!0}],Consignee:[{value:this.element[1].WKCONS?.trim()||"",disabled:!0}],ProNumber:[{value:this.element[0].OHPRO||this.element[1].OHPRO?.trim()||"",disabled:!0}],Carrier:[{value:this.element[1].OHCAR?.trim()+"\xa0"+this.element[1].WKCNAME?.trim(),disabled:!0}],ShipType:[{value:this.element[1].OHSHPT+"\xa0"+this.element[1].WKSDESC,disabled:!0}],ShipDate:[{value:this.formatDateMMDDYY(this.element[1].WKSHPDT),disabled:!0}],ShipTime:[{value:this.getFormattedTime(this.element[1].OHSTME),disabled:!0}],ShipDateChgCode:this.element[1].SCCHCD?.trim()||"",LoadCode:this.element[1].SCLDCD?.trim()||"",LoadQuantity:[this.element[1].SCLQTY?.toString()||"",[l.kI.pattern(/^[0-9]*$/)]],ChepPalletsReturned:[this.element[1].SCCPRT?.toString()||"",[l.kI.pattern(/^[0-9]*$/)]],loadOrderNumber:this.element[1].SCORD?.trim()||"",MasterReferenceNumber:this.element[1].SCMREF?.trim()||"",LinkSeqNbr:this.element[1].SCLINK?.trim()||"",EquipmentNumber:this.element[1].SCEQPT?.trim()||"",Seal1:this.element[1].SCSEL1?.trim()||"",Seal2:this.element[1].SCSEL2?.trim()||"",FreightCharge:[this.element[1].SCFRTC?.toFixed(2).toString()||"",[l.kI.pattern(/^[0-9]*$/)]]}),this.dataSource=new c.by(this.duplicateSource),this.dataSource.paginator=this.paginator}formatDateMMDDYY(t){if(!t)return"";const n=t.toString().trim();return n.includes("/")?n:6===n.length?`${n.slice(0,2)}/${n.slice(2,4)}/${n.slice(4)}`:8===n.length?`${n.slice(4,6)}/${n.slice(6,8)}/${n.slice(2,4)}`:n}getFormattedTime(t){const n=t.toString().padStart(4,"0");return`${n.slice(0,2)}:${n.slice(2)}`}ngOnDestroy(){this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe()}dateToMMDDYY(t){const n=new Date(t);return`${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}${n.getFullYear().toString().slice(-2)}`}timeToNumber(t){return t.replace(":","").padStart(4,"0")}MiscShip(){const t=this.form.value;this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription=this.Orderservice.MiscShipData(this.user,this.element[0].OHBILL,"","","","","",0,"",0,0,t.ShipDateChgCode,t.LoadCode,t.LoadQuantity,t.ChepPalletsReturned,t.loadOrderNumber,t.MasterReferenceNumber,t.LinkSeqNbr,t.EquipmentNumber,t.Seal1,t.Seal2,t.FreightCharge).subscribe(n=>{const o=n[0].data[n[0].data.length-1].value;o.toUpperCase()===p.R.update.toUpperCase()?(this.successMessage(o),this.router.navigateByUrl(this.OrdersURL,{state:this.element})):this.failureMessage(o)})}formatDate(t){return t?6===(t=t.toString()).length?`${t.substring(0,2)}/${t.substring(2,4)}/${t.substring(4,6)}`:5===t.length?`${t.substring(0,1)}/${t.substring(1,3)}/${t.substring(3,5)}`:t:""}successMessage(t){f().fire(t,"","success")}failureMessage(t){f().fire(t,"","error")}onBack(){this.router.navigate([this.OrdersURL])}}return _.\u0275fac=function(t){return new(t||_)(e.Y36(l.qu),e.Y36(S.uw),e.Y36(h.F0),e.Y36(A.B),e.Y36(r.p))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-misc-ship"]],viewQuery:function(t,n){if(1&t&&e.Gf(Z,5),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},standalone:!0,features:[e.jDz],decls:95,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","billNumber","readonly",""],["matInput","","formControlName","Storer","readonly",""],["matInput","","formControlName","Consignee","readonly",""],["matInput","","formControlName","ProNumber","readonly",""],["matInput","","formControlName","Carrier","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","ShipType","readonly",""],["matInput","","formControlName","ShipDate","readonly",""],["matInput","","formControlName","ShipTime","readonly",""],["matInput","","formControlName","ShipDateChgCode","maxlength","2"],["matInput","","formControlName","LoadCode","maxlength","2"],["align","start",1,"numeric-hint"],["matInput","","formControlName","LoadQuantity"],["matInput","","formControlName","ChepPalletsReturned"],["matInput","","formControlName","loadOrderNumber","appUppercase",""],["matInput","","formControlName","MasterReferenceNumber","appUppercase",""],["matInput","","formControlName","LinkSeqNbr","appppercase",""],["matInput","","formControlName","EquipmentNumber","appUppercase",""],["matInput","","formControlName","Seal1","appUppercase",""],["matInput","","formControlName","Seal2","appUppercase",""],["matInput","","formControlName","FreightCharge"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return n.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Update Shipment Confirmation "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Bill Number"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Storer"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Consignee"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Pro Number"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Carrier"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"mat-form-field",13)(32,"mat-label"),e._uU(33,"Ship Type"),e.qZA(),e._UZ(34,"input",14),e.qZA(),e.TgZ(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Ship Date"),e.qZA(),e._UZ(38,"input",15),e.qZA(),e.TgZ(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"Ship Time"),e.qZA(),e._UZ(42,"input",16),e.qZA(),e.TgZ(43,"mat-form-field",7)(44,"mat-label"),e._uU(45,"Ship Date Change Code"),e.qZA(),e._UZ(46,"input",17),e.qZA(),e.TgZ(47,"mat-form-field",7)(48,"mat-label"),e._uU(49,"Load Code"),e.qZA(),e._UZ(50,"input",18),e.TgZ(51,"mat-hint",19),e._uU(52,"Allows Numbers Only"),e.qZA()(),e.TgZ(53,"mat-form-field",7)(54,"mat-label"),e._uU(55,"Load Quantity"),e.qZA(),e._UZ(56,"input",20),e.TgZ(57,"mat-hint",19),e._uU(58,"Allows Numbers Only"),e.qZA()(),e.TgZ(59,"mat-form-field",7)(60,"mat-label"),e._uU(61,"CHEP Pallet Quantity"),e.qZA(),e._UZ(62,"input",21),e.TgZ(63,"mat-hint",19),e._uU(64,"Allows Numbers Only"),e.qZA()(),e.TgZ(65,"mat-form-field",13)(66,"mat-label"),e._uU(67,"Manifest No"),e.qZA(),e._UZ(68,"input",22),e.qZA(),e.TgZ(69,"mat-form-field",13)(70,"mat-label"),e._uU(71,"Master Ref No"),e.qZA(),e._UZ(72,"input",23),e.qZA(),e.TgZ(73,"mat-form-field",7)(74,"mat-label"),e._uU(75,"Link Sequence"),e.qZA(),e._UZ(76,"input",24),e.qZA(),e.TgZ(77,"mat-form-field",7)(78,"mat-label"),e._uU(79,"Equipment No"),e.qZA(),e._UZ(80,"input",25),e.qZA(),e.TgZ(81,"mat-form-field",7)(82,"mat-label"),e._uU(83,"Seal 1"),e.qZA(),e._UZ(84,"input",26),e.qZA(),e.TgZ(85,"mat-form-field",7)(86,"mat-label"),e._uU(87,"Seal 2"),e.qZA(),e._UZ(88,"input",27),e.qZA(),e.TgZ(89,"mat-form-field",7)(90,"mat-label"),e._uU(91,"Freight Chg"),e.qZA(),e._UZ(92,"input",28),e.qZA()()(),e.TgZ(93,"button",29),e.NdJ("click",function(){return n.MiscShip()}),e._uU(94," Submit "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.form),e.xp6(85),e.Q6J("disabled",n.form.valid))},dependencies:[D.m,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,i.Hw,s.lW,u.KE,u.bx,u.hX,d.Nt,C.a8,C.dk,C.dn,C.n5,U.e]}),_})()}}]);