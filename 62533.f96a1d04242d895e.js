"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[62533],{62533:(j,h,s)=>{s.r(h),s.d(h,{GenPalletCfgComponent:()=>$});var C=s(70879),c=s(7155),g=s(65412),S=s(48529),G=s(35226),d=s.n(G),t=s(94650),_=s(19132),r=s(24006),b=s(84696),Z=s(97392),T=s(4859),p=s(59549),v=s(44144),u=s(73546);let U=(()=>{class n{constructor(e,a,i,l,m){this.anyvariable=e,this.dialogRef=a,this.router=i,this.fb=l,this.OrderSvc=m,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/orders/GenPalCfg"}ngOnDestroy(){this.genPalSubscription&&this.genPalSubscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({Item:this.anyvariable[1].ODITEM,ordQty:this.anyvariable[1].ODQTYS,qtyserial:this.anyvariable[1].PQTYS})}updateCfg(){const e=this.form.value;this.genPalSubscription=this.OrderSvc.updateGenPalCfg(this.user,this.anyvariable[0].OHBILL,this.anyvariable[1].ODSSEQ,e.Item,e.qtyserial).subscribe(a=>{const i=JSON.parse(a[0].data[1].value),l=i.message;if(l.toUpperCase()===S.R.updateMsg.toUpperCase()){this.successMessage(l);const m=i.returnedData.find(f=>f.ODSSEQ===this.anyvariable[1].ODSSEQ);this.dialogRef.close(m)}else this.failureMessage(l)})}successMessage(e){d().fire(e,"","success")}failureMessage(e){d().fire(e,"","error")}closeDialog(){this.dialogRef.close("updated")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.WI),t.Y36(g.so),t.Y36(_.F0),t.Y36(r.qu),t.Y36(b.b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-gen-pal-cfg"]],standalone:!0,features:[t.jDz],decls:26,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","required","","formControlName","Item","readonly",""],["matInput","","required","","formControlName","ordQty","readonly",""],["matInput","","required","","formControlName","qtyserial"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4," UCC128 Generation Control Prompt"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Item"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Order Quantity"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Quantity/Serial"),t.qZA(),t._UZ(23,"input",11),t.qZA()()(),t.TgZ(24,"button",12),t.NdJ("click",function(){return a.updateCfg()}),t._uU(25," Update "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(15),t.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[C.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,Z.Hw,T.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5]}),n})();var y=s(36895),A=s(98739),P=s(28255),O=s(10266),N=s(90455);function Q(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",32)(3,"span",33),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",34),t.NdJ("ngModelChange",function(i){const m=t.CHM(e).$implicit;return t.KtG(m.isActive=i)})("change",function(){const l=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(l))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function D(n,o){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Item"),t.qZA())}function x(n,o){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.ODITEM)}}function Y(n,o){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Order Quantity"),t.qZA())}function J(n,o){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.ODQTYS)}}function M(n,o){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Quantity/Serial"),t.qZA())}function I(n,o){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.PQTYS)}}function q(n,o){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Labels"),t.qZA())}function w(n,o){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.PLQTY)}}function L(n,o){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Lot"),t.qZA())}function B(n,o){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.PLOTS)}}function R(n,o){1&n&&t._UZ(0,"th",35)}function k(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",38)(1,"button",39)(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"ul",40)(5,"li")(6,"button",41),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,l=t.oxw();return t.KtG(l.updateConfig(i))}),t.TgZ(7,"mat-icon",42),t._uU(8,"edit"),t.qZA(),t.TgZ(9,"mat-label"),t._uU(10,"Update"),t.qZA()()()()()}}function F(n,o){if(1&n&&(t.TgZ(0,"td",36),t.YNc(1,k,11,0,"div",37),t.qZA()),2&n){const e=o.$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",!a.isActionDisabled(e))}}function H(n,o){1&n&&t._UZ(0,"tr",43)}function z(n,o){1&n&&t._UZ(0,"tr",44)}const E=function(){return[8,16,24]};let $=(()=>{class n{constructor(e,a,i,l){this.matDialog=e,this.Orderservice=a,this.router=i,this.fb=l,this.searchTextDisplay=!1,this.columnShowHideList=[],this.displayedColumns=["Item","OrderQty","QtySer","Labels","Actions"],this.OrdersReadURL="/main-nav/orders/read",this.dataSource=new c.by,this.user=localStorage.getItem("userName")||"",this.pageNumber=1,this.pageSize=8,this.totalRecords=0,this.label="",this.outputMessage="Pallet Configuration Generated successfully"}ngOnInit(){this.element=history.state,this.form=this.fb.group({BillNumber:this.element.OHBILL}),this.initializeColumnProperties(),this.editedRows=[],this.GenPalletConfig(this.pageSize,this.pageNumber)}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let a=this.displayedColumns.indexOf(e.name);a>-1&&this.displayedColumns.splice(a,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,a)=>{"Actions"!=e&&this.columnShowHideList.push({position:a,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Lot",isActive:!1})}ngOnDestroy(){this.GenPalletConfigSubscription&&this.GenPalletConfigSubscription.unsubscribe()}GenPalletConfig(e,a){this.GenPalletConfigSubscription&&this.GenPalletConfigSubscription.unsubscribe(),this.GenPalletConfigSubscription=this.Orderservice.genPalCfg(this.user,this.element.OHBILL,e,a).subscribe(i=>{var l=JSON.parse(i[0].data[1]?.value);this.dataSource.data=l.returnedData,this.totalRecords=l.TotalRecords,this.label=l.Labeltype})}updateConfig(e){this.matDialog.open(U,{width:"1000px",maxHeight:"80vh",data:[this.element,e],autoFocus:!1}).afterClosed().subscribe(l=>{if(l){const m=this.dataSource.data.findIndex(f=>f.ODSSEQ===l.ODSSEQ);-1!==m&&(this.dataSource.data[m]=l,this.dataSource._updateChangeSubscription())}})}onPaginateChange(e){this.pageSize=e.pageSize,this.GenPalletConfig(e.pageSize,e.pageIndex+1)}onBack(){this.router.navigate([this.OrdersReadURL])}isActionDisabled(e){return"All Items Configured"===e.ODITEM}byPass(){this.Orderservice.configUpdate(this.user,this.element.OHBILL).subscribe(e=>{const a=JSON.parse(e[0].data[1].value).returnedData.message,i=a.replace(/\s+/g," ").trim(),l=this.outputMessage.replace(/\s+/g," ").trim();i.toUpperCase()===l.toUpperCase()?this.successMessage(a):this.failureMessage(a)})}successMessage(e){d().fire(e,"","success")}failureMessage(e){d().fire(e,"","error")}enterConfig(){this.router.navigateByUrl("/main-nav/orders/enterPalCfg",{state:this.element})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.uw),t.Y36(b.b),t.Y36(_.F0),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-gen-pallet-cfg"]],standalone:!0,features:[t.jDz],decls:57,vars:11,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillNumber","readonly",""],["matInput","","readonly","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Item"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","OrderQty"],["matColumnDef","QtySer"],["matColumnDef","Labels"],["matColumnDef","Lot"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],["mat-raised-button","","type","submit",1,"buttons","addButton","tally-search-btn",3,"click"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell",""],["mat-cell",""],["class","dropdown more_options_btn",4,"ngIf"],[1,"dropdown","more_options_btn"],["type","button","data-bs-toggle","dropdown",1,"btn"],[1,"dropdown-menu"],["mat-icon-button","",3,"click"],["color","primary"],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before"),t.qZA()(),t._uU(6," UCC128 Generation Control Prompt "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",4,5)(10,"div",6),t.YNc(11,Q,6,2,"ng-container",7),t.qZA()(),t.TgZ(12,"button",8)(13,"mat-icon"),t._uU(14,"visibility_off"),t.qZA()()()(),t.TgZ(15,"mat-card-content",9)(16,"form",10)(17,"div",11)(18,"div",12)(19,"mat-form-field",13)(20,"mat-label"),t._uU(21,"Bill Number"),t.qZA(),t._UZ(22,"input",14),t.qZA(),t.TgZ(23,"mat-form-field",13)(24,"mat-label"),t._uU(25,"Label Type"),t.qZA(),t._UZ(26,"input",15),t.qZA()()()()(),t.TgZ(27,"table",16),t.ynx(28,17),t.YNc(29,D,2,0,"th",18),t.YNc(30,x,2,1,"td",19),t.BQk(),t.ynx(31,20),t.YNc(32,Y,2,0,"th",18),t.YNc(33,J,2,1,"td",19),t.BQk(),t.ynx(34,21),t.YNc(35,M,2,0,"th",18),t.YNc(36,I,2,1,"td",19),t.BQk(),t.ynx(37,22),t.YNc(38,q,2,0,"th",18),t.YNc(39,w,2,1,"td",19),t.BQk(),t.ynx(40,23),t.YNc(41,L,2,0,"th",18),t.YNc(42,B,2,1,"td",19),t.BQk(),t.ynx(43,24),t.YNc(44,R,1,0,"th",18),t.YNc(45,F,2,1,"td",19),t.BQk(),t.YNc(46,H,1,0,"tr",25),t.YNc(47,z,1,0,"tr",26),t.qZA(),t.TgZ(48,"div",27)(49,"div",28),t._UZ(50,"br"),t.TgZ(51,"button",29),t.NdJ("click",function(){return a.enterConfig()}),t._uU(52," Enter "),t.qZA(),t.TgZ(53,"button",29),t.NdJ("click",function(){return a.byPass()}),t._uU(54,"Bypass"),t.qZA()()(),t.TgZ(55,"mat-paginator",30,31),t.NdJ("page",function(l){return a.onPaginateChange(l)}),t.qZA()()),2&e){const i=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(10),t.Q6J("value",a.label),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(8),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(10,E))("pageSize",a.pageSize)}},dependencies:[C.m,y.sg,y.O5,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u,A.NW,Z.Hw,P.VK,P.p6,T.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,O.gM,N.Rr]}),n})()}}]);