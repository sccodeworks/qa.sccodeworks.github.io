"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[27825],{27825:(B,Z,s)=>{s.r(Z),s.d(Z,{MultiplePoComponent:()=>J});var m=s(7155),h=s(70879),r=s(24006),d=s(65412),N=s(48529),C=s(35226),b=s.n(C),e=s(94650),f=s(19132),g=s(84696),O=s(97392),P=s(4859),p=s(59549),v=s(44144),u=s(73546);let _=(()=>{class o{constructor(t,a,i,n,c){this.anyvariable=t,this.dialogRef=a,this.router=i,this.fb=n,this.orderService=c,this.user=localStorage.getItem("userName")||"",this.purchaseUrl="/main-nav/orders/PONumber"}ngOnInit(){this.form=this.fb.group({BillNumber:this.anyvariable.OHBILL,sequence:["",[r.kI.required,r.kI.pattern("^[0-9]{1,3}$"),r.kI.minLength(1),r.kI.maxLength(3)]],PONumber:["",[r.kI.required,r.kI.pattern("^[A-Za-z0-9]+$"),r.kI.maxLength(30)]]})}ngOnDestroy(){this.POSubscription&&this.POSubscription.unsubscribe()}createPO(){var t=this.form.value;this.POSubscription&&this.POSubscription.unsubscribe(),this.POSubscription=this.orderService.createPO(this.user,this.anyvariable.OHBILL,t.sequence,t.PONumber,this.anyvariable.OHSTOR,this.anyvariable.OHSSFX).subscribe(a=>{const n=JSON.parse(a[0].data[a[0].data.length-1].value).returnedData.message;n.toUpperCase()===N.R.createMsg.toUpperCase()?(this.successMessage(n),this.closeDialog(),this.router.navigateByUrl(this.purchaseUrl,{state:this.anyvariable})):this.failureMessage(n)})}successMessage(t){b().fire(t,"","success")}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.WI),e.Y36(d.so),e.Y36(f.F0),e.Y36(r.qu),e.Y36(g.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-ponumber"]],standalone:!0,features:[e.jDz],decls:26,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","BillNumber"],["required","","matInput","","formControlName","sequence"],["required","","matInput","","formControlName","PONumber"],["mat-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Maintain Multiple PO Numbers"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Bill Number"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18," Sequence "),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",8)(21,"mat-label"),e._uU(22,"PO Number "),e.qZA(),e._UZ(23,"input",11),e.qZA()()(),e.TgZ(24,"button",12),e.NdJ("click",function(){return a.createPO()}),e._uU(25," Create "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.form),e.xp6(15),e.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,O.Hw,P.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5]}),o})(),U=(()=>{class o{constructor(t,a,i,n,c){this.anyvariable=t,this.dialogRef=a,this.router=i,this.fb=n,this.orderService=c,this.user=localStorage.getItem("userName")||"",this.purchaseUrl="/main-nav/orders/PONumber"}ngOnInit(){this.form=this.fb.group({BillNumber:this.anyvariable[1].OHBILL,PONumber:[this.anyvariable[0].POPO,[r.kI.required,r.kI.pattern("^[A-Za-z0-9]+$"),r.kI.maxLength(30)]]})}ngOnDestroy(){this.POSubscription&&this.POSubscription.unsubscribe()}updatePO(){var t=this.form.value;this.POSubscription&&this.POSubscription.unsubscribe(),this.POSubscription=this.orderService.updatePO(this.user,this.anyvariable[1].OHBILL,this.anyvariable[0].POSEQ,t.PONumber).subscribe(a=>{const n=JSON.parse(a[0].data[a[0].data.length-1].value).returnedData.message;n.toUpperCase()===N.R.updateMsg.toUpperCase()?(this.successMessage(n),this.closeDialog(),this.router.navigateByUrl(this.purchaseUrl,{state:this.anyvariable[1]})):this.failureMessage(n)})}successMessage(t){b().fire(t,"","success")}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.WI),e.Y36(d.so),e.Y36(f.F0),e.Y36(r.qu),e.Y36(g.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-ponumber"]],standalone:!0,features:[e.jDz],decls:22,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","BillNumber"],["required","","matInput","","formControlName","PONumber"],["mat-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Maintain Multiple PO Numbers"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Bill Number"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"PO Number "),e.qZA(),e._UZ(19,"input",10),e.qZA()()(),e.TgZ(20,"button",11),e.NdJ("click",function(){return a.updatePO()}),e._uU(21," Update "),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.form),e.xp6(11),e.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,O.Hw,P.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5]}),o})(),y=(()=>{class o{constructor(t,a,i,n,c){this.anyvariable=t,this.dialogRef=a,this.router=i,this.fb=n,this.orderService=c,this.user=localStorage.getItem("userName")||"",this.purchaseUrl="/main-nav/orders/PONumber"}ngOnInit(){this.form=this.fb.group({BillNumber:this.anyvariable[1].OHBILL,PONumber:this.anyvariable[0].POPO}),this.form.disable()}ngOnDestroy(){this.POSubscription&&this.POSubscription.unsubscribe()}deletePO(){this.POSubscription&&this.POSubscription.unsubscribe(),this.POSubscription=this.orderService.deletePO(this.user,this.anyvariable[1].OHBILL,this.anyvariable[0].POSEQ,this.anyvariable[0].POPO).subscribe(t=>{const i=JSON.parse(t[0].data[t[0].data.length-1].value).returnedData.message;i.toUpperCase()===N.R.deleteMsg.toUpperCase()?(this.successMessage(i),this.closeDialog(),this.router.navigateByUrl(this.purchaseUrl,{state:this.anyvariable[1]})):this.failureMessage(i)})}successMessage(t){b().fire(t,"","success")}failureMessage(t){b().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(d.WI),e.Y36(d.so),e.Y36(f.F0),e.Y36(r.qu),e.Y36(g.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-ponumber"]],standalone:!0,features:[e.jDz],decls:22,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","BillNumber"],["required","","matInput","","formControlName","PONumber"],["mat-button","",1,"buttons","removeButton",3,"click"]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4," Maintain Multiple PO Numbers"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return a.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Bill Number"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"PO Number "),e.qZA(),e._UZ(19,"input",10),e.qZA()()(),e.TgZ(20,"button",11),e.NdJ("click",function(){return a.deletePO()}),e._uU(21,"Delete"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",a.form))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,O.Hw,P.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5]}),o})();var T=s(98739);const S=["paginator"];function M(o,l){1&o&&(e.TgZ(0,"th",23),e._uU(1,"PO Number"),e.qZA())}function A(o,l){if(1&o&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Oqu(t.POPO)}}function D(o,l){1&o&&e._UZ(0,"th",25)}function q(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"td",24)(1,"div",26)(2,"button",27)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"ul",28)(6,"li")(7,"button",29),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.updatePO(n))}),e.TgZ(8,"mat-icon",30),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Update"),e.qZA()()(),e.TgZ(12,"li")(13,"button",29),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deletePO(n))}),e.TgZ(14,"mat-icon",31),e._uU(15,"delete"),e.qZA(),e.TgZ(16,"mat-label"),e._uU(17,"Delete"),e.qZA()()()()()()}}function w(o,l){1&o&&e._UZ(0,"tr",32)}function I(o,l){1&o&&e._UZ(0,"tr",33)}const k=function(){return[8,16,24]};let J=(()=>{class o{constructor(t,a,i,n){this.Orderservice=t,this.router=a,this.fb=i,this.matDialog=n,this.OrderReadUrl="orders/read",this.user=localStorage.getItem("userName")||"",this.displayedColumns=["PoNumber","Actions"],this.dataSource=new m.by,this.totalRecords=0,this.pageNumber=1,this.pageSize=8}ngOnInit(){this.element=history.state,console.log(this.element.OHPO),this.form=this.fb.group({BillNumber:this.element.OHBILL,Storer:this.element.OHSTOR,HeaderPonumber:this.element.OHPO}),this.MultiplePo(this.pageSize,this.pageNumber)}ngOnDestroy(){this.MultiplePoSubscription&&this.MultiplePoSubscription.unsubscribe()}MultiplePo(t,a){this.MultiplePoSubscription&&this.MultiplePoSubscription.unsubscribe(),this.MultiplePoSubscription=this.Orderservice.readPO(this.user,this.element.OHBILL,t,a).subscribe(i=>{var n=JSON.parse(i[0].data[1]?.value);this.dataSource.data=n.returnedData,this.totalRecords=n.TotalRecords})}onPaginateChange(t){this.pageSize=t.pageSize,this.MultiplePo(t.pageSize,t.pageIndex+1)}createPO(){this.matDialog.open(_,{width:"1000px",maxHeight:"80vh",data:this.element,autoFocus:!1})}updatePO(t){this.matDialog.open(U,{width:"1000px",maxHeight:"80vh",data:[t,this.element],autoFocus:!1})}deletePO(t){this.matDialog.open(y,{width:"1000px",maxHeight:"80vh",data:[t,this.element],autoFocus:!1})}onBack(){this.router.navigate([this.OrderReadUrl])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.b),e.Y36(f.F0),e.Y36(r.qu),e.Y36(d.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-multiple-po"]],viewQuery:function(t,a){if(1&t&&e.Gf(S,5),2&t){let i;e.iGM(i=e.CRH())&&(a.paginator=i.first)}},standalone:!0,features:[e.jDz],decls:40,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"button"],["mat-button","",1,"addButton",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillNumber","readonly",""],["matInput","","formControlName","Storer","readonly",""],["matInput","","formControlName","HeaderPonumber","readonly",""],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","PoNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(t,a){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return a.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Maintain Multiple PO Numbers"),e.qZA(),e.TgZ(7,"div",3)(8,"button",4),e.NdJ("click",function(){return a.createPO()}),e.TgZ(9,"mat-icon"),e._uU(10,"add"),e.qZA(),e.TgZ(11,"span"),e._uU(12,"New Purchase NO"),e.qZA()()()(),e.TgZ(13,"mat-card-content",5)(14,"form",6)(15,"div",7)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),e._uU(19,"Bill Number"),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.TgZ(21,"mat-form-field",9)(22,"mat-label"),e._uU(23,"Storer "),e.qZA(),e._UZ(24,"input",11),e.qZA(),e.TgZ(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"Header PO Number"),e.qZA(),e._UZ(28,"input",12),e.qZA()()()()(),e.TgZ(29,"table",13),e.ynx(30,14),e.YNc(31,M,2,0,"th",15),e.YNc(32,A,2,1,"td",16),e.BQk(),e.ynx(33,17),e.YNc(34,D,1,0,"th",18),e.YNc(35,q,18,0,"td",16),e.BQk(),e.YNc(36,w,1,0,"tr",19),e.YNc(37,I,1,0,"tr",20),e.qZA(),e.TgZ(38,"mat-paginator",21,22),e.NdJ("page",function(n){return a.onPaginateChange(n)}),e.qZA()()),2&t&&(e.xp6(14),e.Q6J("formGroup",a.form),e.xp6(15),e.Q6J("dataSource",a.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(1),e.Q6J("length",a.totalRecords)("pageSizeOptions",e.DdM(7,k))("pageSize",a.pageSize))},dependencies:[h.m,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,T.NW,O.Hw,P.lW,p.KE,p.hX,v.Nt,u.a8,u.dk,u.dn,u.n5,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk]}),o})()}}]);