"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[78922],{78922:(Je,x,c)=>{c.r(x),c.d(x,{ReceivablesComponent:()=>Fe});var U=c(15861),M=c(94544),y=c(42970),N=c(14478),O=c(67369),B=c(15053),u=c(7155),q=c(70879),_=c(48529),w=c(35226),E=c.n(w),e=c(94650),m=c(24006),P=c(19132),L=c(65412),F=c(81543),Y=c(80529),f=c(36895),J=c(98739),K=c(97392),I=c(28255),Q=c(4859),v=c(59549),H=c(44144),W=c(84385),k=c(3238),G=c(99602),b=c(73546),$=c(10266),z=c(90455);const j=["paginator"];function V(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"div",43)(3,"span",44),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(4,"mat-slide-toggle",45),e.NdJ("ngModelChange",function(a){const l=e.CHM(t).$implicit;return e.KtG(l.isActive=a)})("change",function(){const o=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.toggleColumn(o))}),e._uU(5),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(4),e.Q6J("ngModel",t.isActive),e.xp6(1),e.hij(" ",t.name," ")}}function X(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.searchReceivables())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA(),e.TgZ(3,"span"),e._uU(4," Filter"),e.qZA()()}}function ee(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.searchReceivables())}),e._UZ(1,"img",48),e.TgZ(2,"span"),e._uU(3," Filter"),e.qZA()()}}function te(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"form",49),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getReceivableBySearch(a.form.value))}),e.TgZ(1,"div",42)(2,"div",50)(3,"mat-form-field",51)(4,"mat-label"),e._uU(5,"Invoice"),e.qZA(),e._UZ(6,"input",52),e.qZA(),e.TgZ(7,"div",53)(8,"label",54),e._uU(9,"Customer"),e.qZA(),e.TgZ(10,"div",55)(11,"mat-form-field",51)(12,"mat-label"),e._uU(13,"Customer Number"),e.qZA(),e._UZ(14,"input",56),e.qZA(),e.TgZ(15,"mat-form-field",51)(16,"mat-label"),e._uU(17,"Customer Suffix"),e.qZA(),e._UZ(18,"input",57),e.qZA(),e.TgZ(19,"mat-form-field",51)(20,"mat-label"),e._uU(21,"Secondary Suffix"),e.qZA(),e._UZ(22,"input",58),e.qZA()()(),e.TgZ(23,"div",53)(24,"label",54),e._uU(25,"Date"),e.qZA(),e.TgZ(26,"div",55)(27,"mat-form-field",51)(28,"mat-label"),e._uU(29,"Start Date"),e.qZA(),e._UZ(30,"input",59)(31,"mat-datepicker",null,60),e.qZA(),e.TgZ(33,"mat-form-field",51)(34,"mat-label"),e._uU(35,"End Date"),e.qZA(),e._UZ(36,"input",61)(37,"mat-datepicker",null,62),e.qZA()()(),e.TgZ(39,"mat-form-field",51)(40,"mat-label"),e._uU(41,"Reference Number"),e.qZA(),e._UZ(42,"input",63),e.qZA(),e.TgZ(43,"mat-form-field",51)(44,"mat-label"),e._uU(45,"Building"),e.qZA(),e._UZ(46,"input",64),e.qZA(),e.TgZ(47,"mat-form-field",51)(48,"mat-label"),e._uU(49," Status "),e.qZA(),e.TgZ(50,"mat-select",65)(51,"mat-option",66),e._uU(52," CR "),e.qZA(),e.TgZ(53,"mat-option",67),e._uU(54," DL "),e.qZA(),e.TgZ(55,"mat-option",68),e._uU(56," DU "),e.qZA(),e.TgZ(57,"mat-option",69),e._uU(58," EN "),e.qZA()()(),e.TgZ(59,"mat-form-field",51)(60,"mat-label"),e._uU(61," Type "),e.qZA(),e.TgZ(62,"mat-select",70)(63,"mat-option",71),e._uU(64," SI "),e.qZA(),e.TgZ(65,"mat-option",72),e._uU(66," GI "),e.qZA(),e.TgZ(67,"mat-option",73),e._uU(68," AI "),e.qZA(),e.TgZ(69,"mat-option",74),e._uU(70," CM "),e.qZA(),e.TgZ(71,"mat-option",75),e._uU(72," WR "),e.qZA(),e.TgZ(73,"mat-option",76),e._uU(74," RI "),e.qZA(),e.TgZ(75,"mat-option",77),e._uU(76," FI "),e.qZA(),e.TgZ(77,"mat-option",78),e._uU(78," WO "),e.qZA()()()()(),e.TgZ(79,"div",79)(80,"button",80),e._uU(81," Search "),e.qZA()()()}if(2&i){const t=e.oxw();e.Q6J("formGroup",t.form)}}function ie(i,s){1&i&&(e.TgZ(0,"th",81),e._uU(1,"Invoice Number"),e.qZA())}function ne(i,s){if(1&i&&(e.TgZ(0,"td",82),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.WKINV)}}function ae(i,s){1&i&&(e.TgZ(0,"th",81),e._uU(1,"Invoice Date"),e.qZA())}function se(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHDATE)}}function oe(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1," Transaction Code "),e.qZA())}function le(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHTRNC)}}function ce(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Transaction Type"),e.qZA())}function re(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHTYPE)}}function ue(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Building Number"),e.qZA())}function me(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHBLDG)}}function _e(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Customer"),e.qZA())}function pe(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHCUST)}}function he(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Invoice Amount"),e.qZA())}function de(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHAMT)}}function ge(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Reference Number"),e.qZA())}function fe(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHREF)}}function ve(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Outstanding Balance"),e.qZA())}function be(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHBALN)}}function Te(i,s){1&i&&(e.TgZ(0,"th",84),e._uU(1,"Description"),e.qZA())}function Ce(i,s){if(1&i&&(e.TgZ(0,"td",83),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.AHDESC)}}function Re(i,s){1&i&&(e.TgZ(0,"th",85),e._uU(1,"Status"),e.qZA())}function Ze(i,s){if(1&i&&(e.TgZ(0,"td",86)(1,"span",87),e._uU(2),e.qZA()()),2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngClass",n.getStatusClass(t.AHSTAT)),e.xp6(1),e.hij(" ",t.AHSTAT," ")}}function Ae(i,s){1&i&&e._UZ(0,"th",88)}function De(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",104),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw().$implicit,r=e.oxw();return e.KtG(r.executeAction(o,l))}),e._UZ(1,"img",105),e.TgZ(2,"span",106),e._uU(3),e.qZA()()}if(2&i){const t=s.$implicit;e.Q6J("color",t.color),e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.Oqu(t.label)}}function Se(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",114)(1,"button",115),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.handleRecentClick(o,l))}),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij(" ",t.label," ")}}function xe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",107)(1,"div",108)(2,"span",109),e._uU(3,"Recent Searches"),e.qZA(),e.TgZ(4,"button",110),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.clearRecentSearches())}),e.TgZ(5,"span",111),e._uU(6,"Clear"),e.qZA()()(),e.TgZ(7,"ul",112),e.YNc(8,Se,3,1,"li",113),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(8),e.Q6J("ngForOf",t.filteredRecentSearches)}}function Ee(i,s){1&i&&(e.TgZ(0,"li",116)(1,"div",117)(2,"mat-icon",118),e._uU(3,"search"),e.qZA(),e.TgZ(4,"span",119),e._uU(5,"No results found"),e.qZA(),e.TgZ(6,"span",120),e._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),e.qZA()()())}function Ie(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"img",124),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function Ue(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-icon"),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function Me(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",121)(1,"button",122),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw().$implicit,r=e.oxw();return e.KtG(r.handleItemClick(o,l))}),e.YNc(2,Ie,2,2,"ng-container",123),e.YNc(3,Ue,3,1,"ng-container",123),e._uU(4),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("color",t.color),e.xp6(1),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(1),e.hij(" ",t.label," ")}}function ye(i,s){if(1&i&&(e.ynx(0),e._UZ(1,"img",129),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.s9C("alt",t.label),e.Q6J("src",t.icon,e.LSH)}}function Ne(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-icon",130),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.icon)}}function Oe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"li",125)(1,"button",126),e.NdJ("click",function(){const o=e.CHM(t).$implicit,l=e.oxw().$implicit,r=e.oxw();return e.KtG(r.handleItemClick(o,l))}),e.TgZ(2,"div",127),e.YNc(3,ye,2,2,"ng-container",123),e.YNc(4,Ne,3,1,"ng-container",123),e.TgZ(5,"span",128),e._uU(6),e.qZA()()()()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.Q6J("hidden",n.filteredItems.includes(t)),e.xp6(1),e.Q6J("color",t.color),e.xp6(2),e.Q6J("ngIf",null==t.icon?null:t.icon.includes("assets")),e.xp6(1),e.Q6J("ngIf",!(null!=t.icon&&t.icon.includes("assets"))),e.xp6(2),e.Oqu(t.label)}}function Be(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",83)(1,"div",89)(2,"button",90),e._UZ(3,"img",91),e.qZA(),e.TgZ(4,"ul",92)(5,"li",93),e.YNc(6,De,4,4,"button",94),e.qZA(),e.TgZ(7,"li",95)(8,"mat-form-field",96)(9,"input",97),e.NdJ("ngModelChange",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.searchDropdownText=a)})("input",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onSearchChange())}),e.qZA()()(),e.YNc(10,xe,9,1,"li",98),e.TgZ(11,"div",99),e._UZ(12,"hr",100),e.qZA(),e.YNc(13,Ee,8,0,"li",101),e.YNc(14,Me,5,4,"li",102),e.YNc(15,Oe,7,5,"li",103),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("ngForOf",t.headerActions),e.xp6(3),e.Q6J("ngModel",t.searchDropdownText),e.xp6(1),e.Q6J("ngIf",t.filteredRecentSearches.length>0),e.xp6(3),e.Q6J("ngIf",0===t.filteredItems.length),e.xp6(1),e.Q6J("ngForOf",t.filteredItems),e.xp6(1),e.Q6J("ngForOf",t.menuItems)}}function qe(i,s){1&i&&e._UZ(0,"tr",131)}function we(i,s){1&i&&e._UZ(0,"tr",132)}function Pe(i,s){1&i&&(e.TgZ(0,"div",133),e._UZ(1,"img",134),e.TgZ(2,"h3",135),e._uU(3,"No Data Available"),e.qZA(),e.TgZ(4,"p",136),e._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),e.qZA()())}const Le=function(){return[8,16,24]};let Fe=(()=>{class i{constructor(t,n,a,o,l){this.fb=t,this.router=n,this.matDialog=a,this.ReceivablesSvc=o,this.http=l,this.form=this.fb.group({INV:"",BCST:"",BSFX:"",BSF2:"",STDT:"",ENDT:"",REF:"",BLDG:"",STAT:"",Type:""}),this.columnShowHideList=[],this.displayedColumns=["InvoiceNumber","InvoiceDate","TransactionCode","TrTp","BuildingNumber","Customer","InvoiceAmount","Status","Actions"],this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.dataSource=new u.by,this.filteredData=[],this.pageData=[],this.duplicateSource=[],this.user=localStorage.getItem("userName")||"",this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1,this.pagenumber=1,this.allData=[],this.searchKeywords=[],this.url="/main-nav/receivables/read",this.comments="/main-nav/receivables/comments/read",this.Ainvoice="/main-nav/receivables/adjustInvoice",this.LedgercodeDetails="/main-nav/ledgerCode/receivable/details"}ngOnInit(){this.initializeColumnProperties(),this.getReceivables(this.pageSize,this.pagenumber),this.http.get("assets/jsondata/receivables.json").subscribe(n=>{this.headerActions=n.header,this.menuItems=n.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=n.search;const a=localStorage.getItem("recentSearches");if(a){const o=JSON.parse(a);this.recentSearches=this.menuItems.filter(l=>o.includes(l.label))}this.filteredRecentSearches=[...this.recentSearches]}),window.addEventListener("Recalculate",n=>this.Recalculate(n.detail)),window.addEventListener("GetEmail",n=>this.GetEmail(n.detail)),window.addEventListener("GetEmailDetailNew",n=>this.GetEmailDetailNew(n.detail)),window.addEventListener("ReceivingCover",n=>this.ReceivingCover(n.detail)),window.addEventListener("MicCover",n=>this.MicCover(n.detail))}ngAfterViewInit(){}applyGlobalFilterInput(t){if(!(t=t.trim().toLowerCase()))return this.allData=[],this.filteredData=[],this.noData=!1,this.paginator&&(this.paginator.pageIndex=0,this.paginator.firstPage()),void this.getReceivables(this.pageSize,this.pagenumber);this.isLoading=!1,this.noData=!1,this.paginator&&(this.paginator.pageIndex=0,this.paginator.firstPage()),0!==this.allData.length?this.applyManualFilter(t):this.getAllReceivables(()=>this.applyManualFilter(t))}applyManualFilter(t){this.filteredData=this.allData.filter(n=>Object.values(n).some(a=>String(a).toLowerCase().includes(t))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,setTimeout(()=>{this.paginator&&(this.paginator.length=this.totalRecords,this.paginator.pageIndex=0)}),this.loadPage(1)}loadPage(t){const n=(t-1)*this.pageSize;this.pageData=this.filteredData.slice(n,n+this.pageSize),this.dataSource.data=this.pageData,setTimeout(()=>{this.paginator&&(this.paginator.length=this.totalRecords,this.paginator.pageIndex=t-1,this.paginator.pageSize=this.pageSize)})}getAllReceivables(t){var n=this;return(0,U.Z)(function*(){if(n.allData.length>0)return void(t&&t());const a=n.currentFilters||{},{INV:o="",BCST:l="",BSFX:r="",BSF2:p="",REF:T="",STDT:C="",ENDT:R="",BLDG:Z="",STAT:A="",Type:D=""}=a;let h=1,d=1,g=[];do{const Ye=(yield n.ReceivablesSvc.getReceivables(n.user,o,l,r,p,T,C,R,_.R.fullBuilding(Z),A,D,8,h).toPromise())?.[0]?.data?.[1]?.value,S=JSON.parse(Ye);g.push(...S.returnedData),n.totalRecords=S.TotalRecords,d=Math.ceil(S.TotalRecords/8),h++}while(h<=d);n.allData=g,t&&t()})()}getStatusClass(t){return t?["C"].includes(t)?"status-gray":["W","SH","CD"].includes(t)?"status-green":["EN","I","N","RL"].includes(t)?"status-yellow":["A","PK","BL"].includes(t)?"status-purple":["PS","CM","MQ"].includes(t)?"status-blue":["EM","EP","SB","SP","EB","R","S","DL"].includes(t)?"status-red":"status-gray":""}handleItemClick(t,n){this.executeAction(t,n),this.addToRecentSearches(t)}executeAction(t,n){"function"==typeof this[t.action]?this[t.action](n):console.warn("Action not implemented:",t.action)}handleRecentClick(t,n){this.searchDropdownText=t.label,this.onSearchChange(),"function"==typeof this[t.action]&&this[t.action](n),this.addToRecentSearches(t)}addToRecentSearches(t){this.recentSearches=this.recentSearches.filter(n=>n.label!==t.label),this.recentSearches.unshift(t),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(n=>n.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const t=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(n=>n.label.toLowerCase().includes(t)),this.filteredRecentSearches=t?[]:[...this.recentSearches]}createFilter(){return(t,n)=>{const a=JSON.parse(n);return Object.keys(a).every(o=>t[o].toString().toLowerCase().includes(a[o].toLowerCase()))}}ngOnDestroy(){this.Subscription&&this.Subscription.unsubscribe()}getReceivableBySearch(t){this.currentFilters=t,this.paginator.firstPage(),this.getReceivables(this.pageSize,this.pagenumber)}onPaginateChange(t){this.pageSize=t.pageSize,0!==this.allData.length?this.loadPage(t.pageIndex+1):this.getReceivables(this.pageSize,t.pageIndex+1)}toggleColumn(t){if(t.isActive)this.displayedColumns.splice(t.position>this.displayedColumns.length-1?this.displayedColumns.length-1:t.position,0,t.name);else{let n=this.displayedColumns.indexOf(t.name);n>-1&&this.displayedColumns.splice(n,1)}}initializeColumnProperties(){this.displayedColumns.forEach((t,n)=>{"Actions"!=t&&this.columnShowHideList.push({position:n,name:t,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"ReferenceNumber",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Balance",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Description",isActive:!1})}getReceivables(t,n){this.isLoading=!0;const a=this.currentFilters||{},{INV:o="",BCST:l="",BSFX:r="",BSF2:p="",REF:T="",STDT:C="",ENDT:R="",BLDG:Z="",STAT:A="",Type:D=""}=a;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.getReceivables(this.user,o,l,r,p,T,C,R,_.R.fullBuilding(Z),A,D,t,n).subscribe({next:h=>{const d=JSON.parse(h[0].data[1].value),g=d.returnedData;this.dataSource.data=g,this.totalRecords=d.TotalRecords,this.filteredData=[],this.allData=[],this.paginator&&(this.paginator.length=this.totalRecords),this.isLoading=!1,this.noData=0===g.length}})}resetSearch(){this.form.reset(),this.currentFilters=null,this.dataSource.filter="",this.allData=[],this.paginator.firstPage(),this.getReceivables(this.pageSize,this.pagenumber)}GetEmail(t){this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.EmailDetail(this.user,t.WKINV).subscribe(n=>{const o=n[0].data[n[0].data.length-1].value;console.log(o),"SUBMITTED SUCEESFULY"===o?(this.successMessage("SUBMITTED SUCCESSFULLY"),this.getReceivables(),this.router.navigate([this.url])):this.failureMessage(o)})}GetEmailDetailNew(t){this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.EmailDetailsNew(this.user,t.WKINV).subscribe(n=>{console.log(n);const o=n[0].data[n[0].data.length-1].value,l="Updated Successfully",r=l.toUpperCase();o===l?(this.successMessage(r),this.getReceivables(),this.router.navigate([this.url])):this.failureMessage(o)})}successMessage(t){E().fire(t,"","success")}failureMessage(t){E().fire(t,"","error")}Recalculate(t){this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.Recalculate(this.user,t.WKINV).subscribe(n=>{const o=n[0].data[n[0].data.length-1].value;console.log(o);const l=_.R.update;o===l?(this.successMessage(l),this.getReceivables(),this.router.navigate([this.url])):this.failureMessage(o)})}ReceivingCover(t){this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.ReceivingCover(this.user,t.WKINV,"").subscribe(n=>{const o=n[0].data[n[0].data.length-1].value,l=_.R.submit;o===l?(this.successMessage(l),this.getReceivables(),this.router.navigate([this.url])):this.failureMessage(o)})}MicCover(t){this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.ReceivablesSvc.MicCover(this.user,t.WKINV,t.AHCUST,t.AHCSFX,"").subscribe(n=>{const o=n[0].data[n[0].data.length-1].value,l=_.R.submit;o===l?(this.successMessage(l),this.getReceivables(),this.router.navigate([this.url])):this.failureMessage(o)})}receivableComments(t){this.router.navigateByUrl(this.comments,{state:t})}invoiceInquiry(t){const a={SI:"/main-nav/receivables/invoice-inquiry-si",AI:"/main-nav/receivables/invoice-inquiry-ai",RI:"/main-nav/receivables/invoice-inquiry-ri",FI:"/main-nav/receivables/invoice-inquiry-fi",GI:"/main-nav/receivables/invoice-inquiry-gi",CM:"/main-nav/receivables/invoice-inquiry-gi",WR:"/main-nav/receivables/invoice-inquiry-wr",WO:"/main-nav/receivables/wo-invoice-inquiry"}[t.AHTYPE];a?this.router.navigateByUrl(a,{state:{row:t,headerActions:this.headerActions,menuItems:this.menuItems}}):console.error(`Invalid AHTYPE: ${t.AHTYPE}`)}deleteReceivable(t){this.matDialog.open(B.K,{panelClass:"right-dialog",data:t,autoFocus:!1})}AdjustInquiry(t){this.matDialog.open(M.g,{panelClass:"right-dialog",data:t,autoFocus:!1})}Inquiry(t){this.matDialog.open(N.y,{panelClass:"right-dialog",data:t,autoFocus:!1})}Print(t){this.matDialog.open(O.Y,{panelClass:"right-dialog",data:t,autoFocus:!1})}AdjustInvoice(t){this.router.navigateByUrl(this.Ainvoice,{state:{row:t,headerActions:this.headerActions,menuItems:this.menuItems}})}creditInvoice(t){this.matDialog.open(y.v,{panelClass:"right-dialog",data:t,autoFocus:!1})}ReceivablesDetails(t){this.router.navigateByUrl(this.LedgercodeDetails,{state:{row:t,headerActions:this.headerActions,menuItems:this.menuItems}})}searchReceivables(){this.searchTextDisplay=1!=this.searchTextDisplay}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.qu),e.Y36(P.F0),e.Y36(L.uw),e.Y36(F.Z),e.Y36(Y.eN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-receivables"]],viewQuery:function(t,n){if(1&t&&e.Gf(j,5),2&t){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},standalone:!0,features:[e.jDz],decls:63,vars:13,consts:[[1,"over-Flow"],[1,"header-buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Receivables",3,"click",4,"ngIf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Receivables",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","InvoiceNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","InvoiceDate"],["mat-cell","",4,"matCellDef"],["matColumnDef","TransactionCode"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","TrTp"],["matColumnDef","BuildingNumber"],["matColumnDef","Customer"],["matColumnDef","InvoiceAmount"],["matColumnDef","ReferenceNumber"],["matColumnDef","Balance"],["matColumnDef","Description"],["matColumnDef","Status"],["mat-header-cell","","class","status-cell",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"row"],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Receivables",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","INV"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","BCST"],["matInput","","formControlName","BSFX"],["matInput","","formControlName","BSF2"],["type","date","matInput","","formControlName","STDT"],["startDate",""],["type","date","matInput","","formControlName","ENDT"],["endDate",""],["matInput","","formControlName","REF",2,"text-transform","uppercase"],["matInput","","formControlName","BLDG"],["formControlName","STAT"],["value","CR"],["value","DL"],["value","DU"],["value","EN"],["formControlName","Type"],["value","SI"],["value","GI"],["value","AI"],["value","CM"],["value","WR"],["value","RI"],["value","FI"],["value","WO"],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell",""],["mat-header-cell","","mat-header-cell",""],["mat-header-cell","",1,"status-cell"],["mat-cell","",1,"status-cell"],[1,"status-badge",3,"ngClass"],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],["mat-stroked-button","",1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],["mat-stroked-button","",1,"w-100","text-start",3,"color","click"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],["mat-stroked-button","",1,"menu-button",3,"color","click"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-menu",2,3)(5,"div",4),e.YNc(6,V,6,2,"ng-container",5),e.qZA()(),e.TgZ(7,"mat-form-field",6)(8,"mat-icon",7),e._uU(9,"search"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("input",function(o){return n.applyGlobalFilterInput(o.target.value)}),e.qZA()(),e.YNc(11,X,5,0,"button",9),e.YNc(12,ee,4,0,"button",10),e.TgZ(13,"button",11,12),e._UZ(15,"img",13),e.qZA(),e.TgZ(16,"button",14),e.NdJ("click",function(){return n.resetSearch()}),e.TgZ(17,"mat-icon"),e._uU(18,"loop"),e.qZA()()()(),e.TgZ(19,"mat-card-content",15),e.YNc(20,te,82,1,"form",16),e.qZA(),e.TgZ(21,"table",17),e.ynx(22,18),e.YNc(23,ie,2,0,"th",19),e.YNc(24,ne,2,1,"td",20),e.BQk(),e.ynx(25,21),e.YNc(26,ae,2,0,"th",19),e.YNc(27,se,2,1,"td",22),e.BQk(),e.ynx(28,23),e.YNc(29,oe,2,0,"th",24),e.YNc(30,le,2,1,"td",22),e.BQk(),e.ynx(31,25),e.YNc(32,ce,2,0,"th",24),e.YNc(33,re,2,1,"td",22),e.BQk(),e.ynx(34,26),e.YNc(35,ue,2,0,"th",24),e.YNc(36,me,2,1,"td",22),e.BQk(),e.ynx(37,27),e.YNc(38,_e,2,0,"th",24),e.YNc(39,pe,2,1,"td",22),e.BQk(),e.ynx(40,28),e.YNc(41,he,2,0,"th",24),e.YNc(42,de,2,1,"td",22),e.BQk(),e.ynx(43,29),e.YNc(44,ge,2,0,"th",24),e.YNc(45,fe,2,1,"td",22),e.BQk(),e.ynx(46,30),e.YNc(47,ve,2,0,"th",24),e.YNc(48,be,2,1,"td",22),e.BQk(),e.ynx(49,31),e.YNc(50,Te,2,0,"th",24),e.YNc(51,Ce,2,1,"td",22),e.BQk(),e.ynx(52,32),e.YNc(53,Re,2,0,"th",33),e.YNc(54,Ze,3,2,"td",34),e.BQk(),e.ynx(55,35),e.YNc(56,Ae,1,0,"th",36),e.YNc(57,Be,16,6,"td",22),e.BQk(),e.YNc(58,qe,1,0,"tr",37),e.YNc(59,we,1,0,"tr",38),e.qZA(),e.YNc(60,Pe,6,0,"div",39),e.TgZ(61,"mat-paginator",40,41),e.NdJ("page",function(o){return n.onPaginateChange(o)}),e.qZA()()),2&t){const a=e.MAs(4);e.xp6(6),e.Q6J("ngForOf",n.columnShowHideList),e.xp6(5),e.Q6J("ngIf",n.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!n.searchTextDisplay),e.xp6(1),e.Q6J("matMenuTriggerFor",a),e.xp6(7),e.Q6J("ngIf",n.searchTextDisplay),e.xp6(1),e.Q6J("dataSource",n.dataSource),e.xp6(37),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",!n.isLoading&&n.noData),e.xp6(1),e.Q6J("length",n.totalRecords)("pageSizeOptions",e.DdM(12,Le))("pageSize",n.pageSize)}},dependencies:[q.m,f.mk,f.sg,f.O5,m._Y,m.Fj,m.JJ,m.JL,m.On,m.sg,m.u,J.NW,K.Hw,I.VK,I.p6,Q.lW,v.KE,v.hX,v.qo,H.Nt,W.gD,k.ey,G.Mq,b.a8,b.dk,b.dn,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,$.gM,z.Rr]}),i})()}}]);