"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3752],{3752:(V,d,o)=>{o.r(d),o.d(d,{InvInquiryLcTransactionsComponent:()=>z});var p=o(98739),T=o(70879),r=o(7155),m=o(36895),t=o(94650),f=o(19132),A=o(46546),s=o(24006),C=o(97392),h=o(28255),I=o(4859),g=o(59549),Z=o(44144),_=o(73546),v=o(10266),D=o(90455);function q(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",41)(3,"span",42),t.NdJ("click",function(u){return u.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",43),t.NdJ("ngModelChange",function(u){const c=t.CHM(e).$implicit;return t.KtG(c.isActive=u)})("change",function(){const l=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.toggleColumn(l))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function y(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Originating Customer "),t.qZA())}function U(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WKOCNAM),t.xp6(2),t.Oqu(e.WKOCAD1+""+e.WKOCAD2),t.xp6(2),t.Oqu(e.WKOCAD3)}}function b(n,i){1&n&&(t.TgZ(0,"th",44),t._uU(1," Bill-to Customer "),t.qZA())}function L(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WKBCNAM),t.xp6(2),t.Oqu(e.WKBCAD1+""+e.WKBCAD2),t.xp6(2),t.Oqu(e.WKBCAD3)}}function O(n,i){1&n&&t._UZ(0,"tr",46)}function E(n,i){1&n&&t._UZ(0,"tr",47)}function S(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Status"),t.qZA())}function x(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.ADSTAT)}}function N(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Sequence Number"),t.qZA())}function M(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.ADSEQ)}}function P(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1," Building Number "),t.qZA())}function B(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.ADBLDG)}}function K(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Ledger Description"),t.qZA())}function W(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WKLGDSC)}}function R(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Paid Amount"),t.qZA())}function Y(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("$",t.xi3(2,1,e.WKDPAID,"1.2-2"),"")}}function H(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1,"Adjustment Amount"),t.qZA())}function Q(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WKCRDT)}}function J(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1," Original Amount "),t.qZA())}function w(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij("$",t.xi3(2,1,e.ADAMT,"1.2-2"),"")}}function $(n,i){1&n&&(t.TgZ(0,"th",48),t._uU(1," Payment Number / Check Number "),t.qZA())}function F(n,i){if(1&n&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.PaymentNumber)}}function j(n,i){1&n&&t._UZ(0,"tr",46)}function k(n,i){1&n&&t._UZ(0,"tr",47)}const G=function(){return[8,16,24]};let z=(()=>{class n{constructor(e,a,u,l){this.router=e,this.LedgerCodes=a,this.fb=u,this.decimalPipe=l,this.displayedColumns1=["OriginatingCustomer","BillToCustomer"],this.displayedColumns=["Status","SequenceNumber","BuildingNumber","LedgerDescription","PaidAmount","Adjustment","OriginalAmount"],this.duplicateSource=[],this.user=localStorage.getItem("userName"),this.TransactionType="",this.Description="",this.Due=0,this.Paid=0,this.PaymentNumber="",this.selectedRow=[],this.editedRows=[],this.columnShowHideList=[]}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({AHINV:{value:this.element[0].WKINV,disabled:!0},AHREF:{value:this.element[0].AHREF,disabled:!0}}),this.initializeColumnProperties(),this.editedRows=[],this.getInvInquiry()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}toggleColumn(e){if(e.isActive)e.position>this.displayedColumns.length-1?this.displayedColumns.push(e.name):this.displayedColumns.splice(e.position,0,e.name);else{let a=this.displayedColumns.indexOf(e.name);a>-1&&this.displayedColumns.splice(a,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,a)=>{"OriginalAmount"!=e&&this.columnShowHideList.push({position:a,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"PaymentNumber",isActive:!1})}getInvInquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.LedgerCodes.getLctInvInquiry(this.user,this.element[0].WKINV).subscribe(e=>{var a=e[0].data[1].value;console.log(a);var u=JSON.parse(a);if(this.duplicateSource=u.returnedData,this.dataSource=new r.by(this.duplicateSource),console.log(this.duplicateSource),this.InvoiceDate=this.duplicateSource[0].AHDATE,this.TransactionDate=this.duplicateSource[0].AHTDAT,this.DueDate=this.duplicateSource[0].AHDDAT,this.InvoiceAmount="$"+this.decimalPipe.transform(this.duplicateSource[0].AHAMT,"1.2-2"),this.InvoiceStatus=this.duplicateSource[0].AHSTAT,this.AdjustmentAmount="$"+this.decimalPipe.transform(this.duplicateSource[0].WKAJAMT,"1.2-2"),this.Description=this.duplicateSource[0].AHDESC,this.TransactionType=this.duplicateSource[0].TTDESC,this.PaymentNumber=this.duplicateSource[0].WKPAY1+this.duplicateSource[0].WKSLSH1+this.duplicateSource[0].WKCHK1,this.duplicateSource.length>0){this.dataSource.paginator=this.paginator;for(let l=0;l<this.duplicateSource.length;l++){const c=this.duplicateSource[l];this.Due+=c.ADAMT,this.Paid+=c.WKDPAID,console.log(this.Due)}}})}onBack(){this.router.navigateByUrl("/main-nav/ledgerCode/receivable-details",{state:this.element[1]})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.F0),t.Y36(A.f),t.Y36(s.qu),t.Y36(m.JJ))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-inv-inquiry-lc-transactions"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let u;t.iGM(u=t.CRH())&&(a.paginator=u.first)}},standalone:!0,features:[t._Bn([m.JJ]),t.jDz],decls:113,vars:27,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"button"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","AHINV"],["matInput","","disabled","",3,"value"],["matInput","","formControlName","AHREF"],["appearance","outline",1,"full-width2"],["disabled","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","OriginatingCustomer"],["mat-header-cell","","mat-header-cell","","width","20%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","BillToCustomer"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-table","",1,"mat-elevation-z8","tableCss",3,"dataSource"],["matColumnDef","Status"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","SequenceNumber"],["matColumnDef","BuildingNumber"],["matColumnDef","LedgerDescription"],["matColumnDef","PaidAmount"],["matColumnDef","Adjustment"],["matColumnDef","OriginalAmount"],["matColumnDef","PaymentNumber"],[1,"Content-page-both-right"],[1,"right-side-content"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell","","width","20%"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","","mat-header-cell",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Receivables Transaction Inquiry"),t.qZA(),t.TgZ(7,"div",2)(8,"mat-menu",3,4)(10,"div",5),t.YNc(11,q,6,2,"ng-container",6),t.qZA()(),t.TgZ(12,"button",7,8)(14,"mat-icon"),t._uU(15,"visibility_off"),t.qZA()()()(),t.TgZ(16,"mat-card-content",9)(17,"form",10)(18,"div",11)(19,"div",12)(20,"mat-form-field",13)(21,"mat-label"),t._uU(22,"Invoice Number"),t.qZA(),t._UZ(23,"input",14),t.qZA(),t.TgZ(24,"mat-form-field",13)(25,"mat-label"),t._uU(26,"Status"),t.qZA(),t._UZ(27,"input",15),t.qZA(),t.TgZ(28,"mat-form-field",13)(29,"mat-label"),t._uU(30,"Reference Number "),t.qZA(),t._UZ(31,"input",16),t.qZA(),t.TgZ(32,"mat-form-field",13)(33,"mat-label"),t._uU(34,"Invoice Date"),t.qZA(),t._UZ(35,"input",15),t.qZA(),t.TgZ(36,"mat-form-field",13)(37,"mat-label"),t._uU(38,"Transaction Date"),t.qZA(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"mat-form-field",17)(41,"mat-label"),t._uU(42,"Description"),t.qZA(),t._UZ(43,"input",15),t.qZA(),t.TgZ(44,"mat-form-field",13)(45,"mat-label"),t._uU(46,"Due Date"),t.qZA(),t._UZ(47,"input",15),t.qZA(),t.TgZ(48,"mat-form-field",13)(49,"mat-label"),t._uU(50,"Transaction Type"),t.qZA(),t._UZ(51,"input",18),t.qZA(),t.TgZ(52,"mat-form-field",13)(53,"mat-label"),t._uU(54,"Invoice Amount"),t.qZA(),t._UZ(55,"input",15),t.qZA(),t.TgZ(56,"mat-form-field",13)(57,"mat-label"),t._uU(58,"Adjusted Amount"),t.qZA(),t._UZ(59,"input",15),t.qZA()()()()(),t._UZ(60,"br"),t.TgZ(61,"table",19),t.ynx(62,20),t.YNc(63,y,2,0,"th",21),t.YNc(64,U,6,3,"td",22),t.BQk(),t.ynx(65,23),t.YNc(66,b,2,0,"th",21),t.YNc(67,L,6,3,"td",22),t.BQk(),t.YNc(68,O,1,0,"tr",24),t.YNc(69,E,1,0,"tr",25),t.qZA(),t._UZ(70,"br"),t.TgZ(71,"table",26),t.ynx(72,27),t.YNc(73,S,2,0,"th",28),t.YNc(74,x,2,1,"td",22),t.BQk(),t.ynx(75,29),t.YNc(76,N,2,0,"th",28),t.YNc(77,M,2,1,"td",22),t.BQk(),t.ynx(78,30),t.YNc(79,P,2,0,"th",28),t.YNc(80,B,2,1,"td",22),t.BQk(),t.ynx(81,31),t.YNc(82,K,2,0,"th",28),t.YNc(83,W,2,1,"td",22),t.BQk(),t.ynx(84,32),t.YNc(85,R,2,0,"th",28),t.YNc(86,Y,3,4,"td",22),t.BQk(),t.ynx(87,33),t.YNc(88,H,2,0,"th",28),t.YNc(89,Q,2,1,"td",22),t.BQk(),t.ynx(90,34),t.YNc(91,J,2,0,"th",28),t.YNc(92,w,3,4,"td",22),t.BQk(),t.ynx(93,35),t.YNc(94,$,2,0,"th",28),t.YNc(95,F,2,1,"td",22),t.BQk(),t.YNc(96,j,1,0,"tr",24),t.YNc(97,k,1,0,"tr",25),t.qZA(),t.TgZ(98,"div",36)(99,"div",37)(100,"button",38),t._uU(101," Paid : "),t.TgZ(102,"b"),t._uU(103),t.ALo(104,"number"),t.qZA()()(),t.TgZ(105,"div",37)(106,"button",38),t._uU(107," Due : "),t.TgZ(108,"b"),t._uU(109),t.ALo(110,"number"),t.qZA()()()(),t._UZ(111,"mat-paginator",39,40),t.qZA()),2&e){const u=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",u),t.xp6(5),t.Q6J("formGroup",a.form),t.xp6(10),t.s9C("value",a.InvoiceStatus),t.xp6(8),t.s9C("value",a.InvoiceDate),t.xp6(4),t.s9C("value",a.TransactionDate),t.xp6(4),t.s9C("value",a.Description),t.xp6(4),t.s9C("value",a.DueDate),t.xp6(4),t.s9C("value",a.TransactionType),t.xp6(4),t.s9C("value",a.InvoiceAmount),t.xp6(4),t.s9C("value",a.AdjustmentAmount),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",a.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns1),t.xp6(2),t.Q6J("dataSource",a.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(6),t.hij("$ ",t.xi3(104,20,a.Paid,"1.2-2"),""),t.xp6(6),t.hij(" $ ",t.xi3(110,23,a.Due,"1.2-2"),""),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(26,G))}},dependencies:[T.m,m.sg,s._Y,s.Fj,s.JJ,s.JL,s.On,s.sg,s.u,p.NW,C.Hw,h.VK,h.p6,I.lW,g.KE,g.hX,Z.Nt,_.a8,_.dk,_.dn,_.n5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,v.gM,D.Rr,m.JJ]}),n})()}}]);