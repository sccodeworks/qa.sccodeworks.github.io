"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[44365,34894,26628,70096,49741],{34894:(U,h,p)=>{p.d(h,{e:()=>I});var o=p(94650),g=p(24006);let I=(()=>{class l{constructor(c,d){this.el=c,this.control=d}onInputChange(c){const d=this.el.nativeElement,e=d.value.toUpperCase();d.value=e,this.control&&this.control.control&&this.control.control.setValue(e,{emitEvent:!1})}}return l.\u0275fac=function(c){return new(c||l)(o.Y36(o.SBq),o.Y36(g.a5))},l.\u0275dir=o.lG2({type:l,selectors:[["","appUppercase",""]],hostBindings:function(c,d){1&c&&o.NdJ("input",function(w){return d.onInputChange(w)})},standalone:!0}),l})()},44365:(U,h,p)=>{p.r(h),p.d(h,{PreTrailInspectionComponent:()=>E});var o=p(24006),g=p(70879),I=p(35226),l=p.n(I),m=p(65412),c=p(48529),d=p(23661),e=p(94650),w=p(84696),v=p(19132),Z=p(36895),C=p(97392),b=p(4859),f=p(59549),T=p(44144),u=p(73546);function D(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",20),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(0,a))}),e.qZA()}}function N(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",21),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(1,a))}),e.qZA()}}function A(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",22),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(2,a))}),e.qZA()}}function S(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",23),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(3,a))}),e.qZA()}}function k(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",24),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(4,a))}),e.qZA()}}function F(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",25),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(5,a))}),e.qZA()}}function x(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",26),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(6,a))}),e.qZA()}}function J(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-inspection",27),e.NdJ("valueSelected",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.onDropdownChange(7,a))}),e.qZA()}}function q(r,s){1&r&&(e.TgZ(0,"mat-error"),e._uU(1,"Comment is required"),e.qZA())}function Y(r,s){if(1&r&&(e.TgZ(0,"mat-form-field",28)(1,"mat-label"),e._uU(2,"Comment"),e.qZA(),e._UZ(3,"textarea",29),e.TgZ(4,"mat-hint"),e._uU(5,"Only "),e.TgZ(6,"strong"),e._uU(7,"60 characters"),e.qZA(),e._uU(8," are allowed"),e.qZA(),e.YNc(9,q,2,0,"mat-error",30),e.qZA()),2&r){const t=e.oxw();let n;e.xp6(9),e.Q6J("ngIf",null==(n=t.form.get("comment"))?null:n.hasError("required"))}}function y(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.update())}),e._uU(1," Update "),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.isUpdateEnabled())}}let P=(()=>{class r{constructor(t,n,a,i,_){this.data=t,this.Orderservice=n,this.router=a,this.fb=i,this.dialogRef=_,this.OrdersReadURL="/main-nav/orders/read",this.selectOptions=["Y","N"],this.user=localStorage.getItem("userName")||"",this.showDropdowns=[!0,!1,!1,!1,!1,!1,!1,!1],this.allDropdownsCompleted=!1}ngOnInit(){this.form=this.fb.group({ApptNo:[this.data.apptNumber,[o.kI.required]],safetyCheck:["",o.kI.required],wheels:["",o.kI.required],holesFree:["",o.kI.required],odorFree:["",o.kI.required],insectFree:["",o.kI.required],dockPlace:["",o.kI.required],pictures:["",o.kI.required],trailer:["",o.kI.required],comment:["",[o.kI.required,o.kI.maxLength(60)]]})}onDropdownChange(t,n){if(this.form.get(["safetyCheck","wheels","holesFree","odorFree","insectFree","dockPlace","pictures","trailer"][t])?.setValue(n),0===t&&"N"===n)return this.closeDialog(),void this.router.navigate([this.OrdersReadURL]);("Y"===n||"N"===n)&&(this.showDropdowns.fill(!1),t+1<this.showDropdowns.length&&(this.showDropdowns[t+1]=!0),t+1===this.showDropdowns.length&&(this.allDropdownsCompleted=!0))}update(){const t=this.form.value;this.trailSubscription&&this.trailSubscription.unsubscribe(),this.trailSubscription=this.Orderservice.trailerInspection(this.data.apptNumber,t.safetyCheck,t.wheels,t.holesFree,t.odorFree,t.insectFree,t.dockPlace,t.pictures,t.trailer,t.comment).subscribe(n=>{const i=n[0].data[n[0].data.length-1].value;i.toUpperCase()===c.R.updated.toUpperCase()?(this.successMessage(i),this.closeDialog(),this.router.navigate([this.OrdersReadURL])):this.failureMessage(i)})}successMessage(t){l().fire(t,"","success")}failureMessage(t){l().fire(t,"","error")}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.trailSubscription&&this.trailSubscription.unsubscribe()}isUpdateEnabled(){const t=this.form.get("comment")?.value;return this.form.valid&&t&&t.trim().length>=1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.WI),e.Y36(w.b),e.Y36(v.F0),e.Y36(o.qu),e.Y36(m.so))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-update-inspection"]],standalone:!0,features:[e.jDz],decls:26,vars:11,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","ApptNo"],["label","Perform Safety Check",3,"valueSelected",4,"ngIf"],["label","Are Wheel Chocks in Place",3,"valueSelected",4,"ngIf"],["label","Are Floor, Walls, Ceiling Free of Holes",3,"valueSelected",4,"ngIf"],["label","Is Trailer Clean, Dry, and Odor Free",3,"valueSelected",4,"ngIf"],["label","Is Trailer Free of Insects",3,"valueSelected",4,"ngIf"],["label","Is the Dock Plate in Place",3,"valueSelected",4,"ngIf"],["label","Pictures Taken",3,"valueSelected",4,"ngIf"],["label","Trailer",3,"valueSelected",4,"ngIf"],["appearance","outline","class","full-width w-100",4,"ngIf"],["mat-button","","class","buttons addButton","mat-raised-button","",3,"disabled","click",4,"ngIf"],["label","Perform Safety Check",3,"valueSelected"],["label","Are Wheel Chocks in Place",3,"valueSelected"],["label","Are Floor, Walls, Ceiling Free of Holes",3,"valueSelected"],["label","Is Trailer Clean, Dry, and Odor Free",3,"valueSelected"],["label","Is Trailer Free of Insects",3,"valueSelected"],["label","Is the Dock Plate in Place",3,"valueSelected"],["label","Pictures Taken",3,"valueSelected"],["label","Trailer",3,"valueSelected"],["appearance","outline",1,"full-width","w-100"],["matInput","","required","","maxlength","60","formControlName","comment"],[4,"ngIf"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Trailer Inspection"),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Appointment Number"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.YNc(16,D,1,0,"app-dropdown-inspection",10),e.YNc(17,N,1,0,"app-dropdown-inspection",11),e.YNc(18,A,1,0,"app-dropdown-inspection",12),e.YNc(19,S,1,0,"app-dropdown-inspection",13),e.YNc(20,k,1,0,"app-dropdown-inspection",14),e.YNc(21,F,1,0,"app-dropdown-inspection",15),e.YNc(22,x,1,0,"app-dropdown-inspection",16),e.YNc(23,J,1,0,"app-dropdown-inspection",17),e.YNc(24,Y,10,1,"mat-form-field",18),e.qZA()(),e.YNc(25,y,2,1,"button",19),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("ngIf",n.showDropdowns[0]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[1]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[2]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[3]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[4]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[5]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[6]),e.xp6(1),e.Q6J("ngIf",n.showDropdowns[7]),e.xp6(1),e.Q6J("ngIf",n.allDropdownsCompleted),e.xp6(1),e.Q6J("ngIf",n.allDropdownsCompleted))},dependencies:[g.m,Z.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.nD,o.sg,o.u,C.Hw,b.lW,f.TO,f.KE,f.bx,f.hX,T.Nt,u.a8,u.dk,u.dn,u.n5,d.A]}),r})();var O=p(34894);let E=(()=>{class r{constructor(t,n,a,i){this.matDialog=t,this.Orderservice=n,this.router=a,this.fb=i,this.OrdersReadURL="/main-nav/orders/read",this.user=localStorage.getItem("userName")||""}ngOnInit(){this.element=history.state,this.form=this.fb.group({ApptNo:[this.element.apptNumber,[o.kI.required,o.kI.pattern("[0-9]{1,7}")]],DoorLocation:["",[o.kI.required,o.kI.pattern("[a-zA-Z0-9 ]{1,16}")]],TrailerRailCarNumber:["",[o.kI.required,o.kI.pattern("[a-zA-Z0-9 ]{1,30}")]]})}ngOnDestroy(){this.trailSubscription&&this.trailSubscription.unsubscribe()}update(){var t=this.form.value;const n=Number(t.ApptNo);this.trailSubscription&&this.trailSubscription.unsubscribe(),this.trailSubscription=this.Orderservice.verifyDock(n,t.DoorLocation,t.TrailerRailCarNumber).subscribe(a=>{const _=a[0].data[a[0].data.length-1].value;_&&""!==_.trim()?this.failureMessage(_):this.next()})}successMessage(t){l().fire(t,"","success")}failureMessage(t){l().fire(t,"","error")}onBack(){this.router.navigate([this.OrdersReadURL])}next(){this.element.apptNumber=this.form.get("ApptNo")?.value,this.matDialog.open(P,{width:"1000px",maxHeight:"80vh",data:this.element,autoFocus:!1})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.uw),e.Y36(w.b),e.Y36(v.F0),e.Y36(o.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-pre-trail-inspection"]],standalone:!0,features:[e.jDz],decls:25,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["required","","matInput","","formControlName","ApptNo"],["required","","matInput","","formControlName","DoorLocation","appUppercase",""],["appearance","outline",1,"full-width2"],["required","","matInput","","formControlName","TrailerRailCarNumber","appUppercase",""],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return n.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Verify Dock Appointment Trailer and Door "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Appointment Number"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17," Door Location "),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"Trailer/Rail Car Number "),e.qZA(),e._UZ(22,"input",11),e.qZA()()(),e.TgZ(23,"button",12),e.NdJ("click",function(){return n.update()}),e._uU(24," Update "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.form),e.xp6(15),e.Q6J("disabled",!(n.form.valid&&n.form.dirty)))},dependencies:[g.m,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,C.Hw,b.lW,f.KE,f.hX,T.Nt,u.a8,u.dk,u.dn,u.n5,O.e]}),r})()}}]);