"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[22007,34894,26628,70096,49741],{34894:(I,S,a)=>{a.d(S,{e:()=>c});var d=a(94650),D=a(24006);let c=(()=>{class u{constructor(h,o){this.el=h,this.control=o}onInputChange(h){const o=this.el.nativeElement,e=o.value.toUpperCase();o.value=e,this.control&&this.control.control&&this.control.control.setValue(e,{emitEvent:!1})}}return u.\u0275fac=function(h){return new(h||u)(d.Y36(d.SBq),d.Y36(D.a5))},u.\u0275dir=d.lG2({type:u,selectors:[["","appUppercase",""]],hostBindings:function(h,o){1&h&&d.NdJ("input",function(g){return o.onInputChange(g)})},standalone:!0}),u})()},4379:(I,S,a)=>{a.d(S,{B:()=>e});var d=a(80529),D=a(61135),c=a(75625),u=a(70262),M=a(62843),h=a(92340),o=a(94650);let e=(()=>{class g{constructor(n){this.httpClient=n,this.url=h.N.API_BASE_URL,this.consigneeDataSource=new D.X([]),this.httpHeader={headers:new d.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(n){let i=this.consigneeDataSource.getValue();i.unshift(...n),this.consigneeDataSource.next(i)}getConsignee(n,i,s){return this.httpClient.get(this.url+`/consignee/read?user=${n}&consCode=${i}&name=${s}`)}getAll(n){return this.httpClient.get(this.url+`/consignee/readAll?user=${n}`)}getAllrecords(n,i,s){return this.httpClient.get(this.url+`/consignee/readAll?user=${n}&pageNum=${i}&recordsPerPage=${s}`)}createConsignee(n,i,s,m,_,U,f,v,Z,O,C,E,r,t){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:n,CONAME:i,COADD1:s,COADD2:m,COADD3:_,COADD4:U,COZIP:f,COZSFX:v,COZONE:Z,COPHAR:O,COPHEX:C,COPHNU:E,CODEST:r,user:t}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}updateConsignee(n,i,s,m,_,U,f,v,Z,O,C,E,r,t){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:n,CONAME:i,COADD1:s,COADD2:m,COADD3:_,COADD4:U,COZIP:f,COZSFX:v,COZONE:Z,COPHAR:O,COPHEX:C,COPHNU:E,CODEST:r,user:t}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}deleteConsignee(n,i){return this.httpClient.delete(this.url+`/consignee/delete?user=${n}&consCode=${i}`)}getConsigneeXrefService(n,i,s,m){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${n}&consigneeCode=${i}&pageNo=${s}&recordsPerPage=${m}`)}createConsigneeXrefService(n,i,s){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:n,parentConsignee:i,user:s}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}updateConsigneeXrefService(n,i,s){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:n,parentConsignee:i,user:s}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}deleteConsigneeXrefService(n,i){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${n}&consigneeCode=${i}`)}getConsigneeComments(n,i,s,m){return this.httpClient.get(this.url+`/consignee/commentRead?user=${n}&consigneeCode=${i}&subType=${s}&sequence=${m}`)}createConsigneeCommentService(n,i,s,m,_){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:n,subType:i,sequence:s,comment:m,user:_}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}updateConsigneeCommentService(n,i,s,m,_){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:n,subType:i,sequence:s,comment:m,user:_}).pipe((0,c.X)(1),(0,u.K)(this.httpError))}deleteconsigneeCommentService(n,i,s,m){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${n}&consigneeCode=${i}&subType=${s}&sequence=${m}`).pipe((0,c.X)(1),(0,u.K)(this.httpError))}httpError(n){let i="";return i=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(i),(0,M._)(()=>new Error(i))}}return g.\u0275fac=function(n){return new(n||g)(o.LFG(d.eN))},g.\u0275prov=o.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},22007:(I,S,a)=>{a.r(S),a.d(S,{MiscShipComponent:()=>O});var d=a(15861),D=a(7155),c=a(70879),u=a(48529),M=a(35226),h=a.n(M),o=a(24006),e=a(94650),g=a(65412),N=a(19132),n=a(4379),i=a(65105),s=a(97392),m=a(4859),_=a(59549),U=a(44144),f=a(73546),v=a(34894);const Z=["paginator"];let O=(()=>{class C{constructor(r,t,l,p,A){this.fb=r,this.matDialog=t,this.router=l,this.consigneeSrvc=p,this.Orderservice=A,this.OrdersURL="/main-nav/orders/read",this.user=localStorage.getItem("userName"),this.dataSource=[],this.duplicateSource=[],this.ShipOptions=[]}ngOnInit(){this.element=history.state,this.form=this.fb.group({billNumber:[{value:this.element[0].OHBILL,disabled:!0}],Storer:[{value:this.element[1].WKSTOR,disabled:!0}],Consignee:[{value:this.element[1].WKCONS?.trim()||"",disabled:!0}],ProNumber:[{value:this.element[0].OHPRO||this.element[1].OHPRO?.trim()||"",disabled:!0}],Carrier:[{value:this.element[1].OHCAR?.trim()+"\xa0"+this.element[1].WKCNAME?.trim(),disabled:!0}],ShipType:[{value:this.element[1].OHSHPT+"\xa0"+this.element[1].WKSDESC,disabled:!0}],ShipDate:[{value:this.formatDateMMDDYY(this.element[1].WKSHPDT),disabled:!0}],ShipTime:[{value:this.getFormattedTime(this.element[1].OHSTME),disabled:!0}],ShipDateChgCode:this.element[1].SCCHCD?.trim()||"",LoadCode:this.element[1].SCLDCD?.trim()||"",LoadQuantity:[this.element[1].SCLQTY?.toString()||""],ChepPalletsReturned:[this.element[1].SCCPRT?.toString()||"",[o.kI.pattern(/^[0-9]*$/)]],loadOrderNumber:this.element[1].SCORD?.trim()||"",MasterReferenceNumber:this.element[1].SCMREF?.trim()||"",LinkSeqNbr:this.element[1].SCLINK?.trim()||"",EquipmentNumber:this.element[1].SCEQPT?.trim()||"",Seal1:this.element[1].SCSEL1?.trim()||"",Seal2:this.element[1].SCSEL2?.trim()||"",FreightCharge:[null!=this.element?.[1]?.SCFRTC?Number(this.element[1].SCFRTC).toFixed(2):"0.00",[o.kI.pattern(/^\d+(\.\d{0,2})?$/)]]}),this.dataSource=new D.by(this.duplicateSource),this.dataSource.paginator=this.paginator}formatFreightCharge(){const r=this.form.get("FreightCharge");if(!r)return;const t=r.value;if(""===t||null==t)return void r.setValue("0.00");const l=Number(t);isNaN(l)||r.setValue(l.toFixed(2))}formatDateMMDDYY(r){if(!r)return"";const t=r.toString().trim();return t.includes("/")?t:6===t.length?`${t.slice(0,2)}/${t.slice(2,4)}/${t.slice(4)}`:8===t.length?`${t.slice(4,6)}/${t.slice(6,8)}/${t.slice(2,4)}`:t}getFormattedTime(r){const t=r.toString().padStart(4,"0");return`${t.slice(0,2)}:${t.slice(2)}`}ngOnDestroy(){this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe()}dateToMMDDYY(r){const t=new Date(r);return`${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}${t.getFullYear().toString().slice(-2)}`}timeToNumber(r){return r.replace(":","").padStart(4,"0")}MiscShip(){var r=this;const t=this.form.value;this.MiscellaneousShipSubscription&&this.MiscellaneousShipSubscription.unsubscribe(),this.MiscellaneousShipSubscription=this.Orderservice.MiscShipData(this.user,this.element[0].OHBILL,"","","","","",0,"",0,0,t.ShipDateChgCode,t.LoadCode,t.LoadQuantity,t.ChepPalletsReturned,t.loadOrderNumber,t.MasterReferenceNumber,t.LinkSeqNbr,t.EquipmentNumber,t.Seal1,t.Seal2,t.FreightCharge).subscribe(function(){var l=(0,d.Z)(function*(p){const b=p[0].data.filter(T=>"132A"===T.type).map(T=>T.value||"").filter(T=>""!==T.trim()),P=b[b.length-1]||"",L=b[b.length-2]||"";if(P.toUpperCase()===u.R.update.toUpperCase())return L?(yield r.failureMessage(L),yield r.successMessage(P),void r.navigateToOrders()):(r.navigateToOrders(),void(yield r.successMessage(P)));yield r.failureMessage(P)});return function(p){return l.apply(this,arguments)}}())}navigateToOrders(){this.router.navigateByUrl(this.OrdersURL,{state:this.element})}formatDate(r){return r?6===(r=r.toString()).length?`${r.substring(0,2)}/${r.substring(2,4)}/${r.substring(4,6)}`:5===r.length?`${r.substring(0,1)}/${r.substring(1,3)}/${r.substring(3,5)}`:r:""}successMessage(r){return h().fire({title:r,icon:"success",confirmButtonText:"OK"})}failureMessage(r){return h().fire({title:r,icon:"error",confirmButtonText:"OK"})}onBack(){this.router.navigate([this.OrdersURL])}}return C.\u0275fac=function(r){return new(r||C)(e.Y36(o.qu),e.Y36(g.uw),e.Y36(N.F0),e.Y36(n.B),e.Y36(i.p))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-misc-ship"]],viewQuery:function(r,t){if(1&r&&e.Gf(Z,5),2&r){let l;e.iGM(l=e.CRH())&&(t.paginator=l.first)}},standalone:!0,features:[e.jDz],decls:93,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","billNumber","readonly",""],["matInput","","formControlName","Storer","readonly",""],["matInput","","formControlName","Consignee","readonly",""],["matInput","","formControlName","ProNumber","readonly",""],["matInput","","formControlName","Carrier","readonly",""],["appearance","outline",1,"full-width2"],["matInput","","formControlName","ShipType","readonly",""],["matInput","","formControlName","ShipDate","readonly",""],["matInput","","formControlName","ShipTime","readonly",""],["matInput","","formControlName","ShipDateChgCode","maxlength","2"],["matInput","","formControlName","LoadCode","maxlength","2"],["matInput","","formControlName","LoadQuantity"],["align","start",1,"numeric-hint"],["matInput","","formControlName","ChepPalletsReturned"],["matInput","","formControlName","loadOrderNumber","appUppercase",""],["matInput","","formControlName","MasterReferenceNumber","appUppercase",""],["matInput","","formControlName","LinkSeqNbr","appppercase",""],["matInput","","formControlName","EquipmentNumber","appUppercase",""],["matInput","","formControlName","Seal1","appUppercase",""],["matInput","","formControlName","Seal2","appUppercase",""],["matInput","","type","text","formControlName","FreightCharge",3,"blur"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(r,t){1&r&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return t.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Update Shipment Confirmation "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Bill Number"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Storer"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Consignee"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Pro Number"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Carrier"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"mat-form-field",13)(32,"mat-label"),e._uU(33,"Ship Type"),e.qZA(),e._UZ(34,"input",14),e.qZA(),e.TgZ(35,"mat-form-field",7)(36,"mat-label"),e._uU(37,"Ship Date"),e.qZA(),e._UZ(38,"input",15),e.qZA(),e.TgZ(39,"mat-form-field",7)(40,"mat-label"),e._uU(41,"Ship Time"),e.qZA(),e._UZ(42,"input",16),e.qZA(),e.TgZ(43,"mat-form-field",7)(44,"mat-label"),e._uU(45,"Ship Date Change Code"),e.qZA(),e._UZ(46,"input",17),e.qZA(),e.TgZ(47,"mat-form-field",7)(48,"mat-label"),e._uU(49,"Load Code"),e.qZA(),e._UZ(50,"input",18),e.qZA(),e.TgZ(51,"mat-form-field",7)(52,"mat-label"),e._uU(53,"Load Quantity"),e.qZA(),e._UZ(54,"input",19),e.TgZ(55,"mat-hint",20),e._uU(56,"Allows Numbers Only"),e.qZA()(),e.TgZ(57,"mat-form-field",7)(58,"mat-label"),e._uU(59,"CHEP Pallet Quantity"),e.qZA(),e._UZ(60,"input",21),e.TgZ(61,"mat-hint",20),e._uU(62,"Allows Numbers Only"),e.qZA()(),e.TgZ(63,"mat-form-field",13)(64,"mat-label"),e._uU(65,"Manifest No"),e.qZA(),e._UZ(66,"input",22),e.qZA(),e.TgZ(67,"mat-form-field",13)(68,"mat-label"),e._uU(69,"Master Ref No"),e.qZA(),e._UZ(70,"input",23),e.qZA(),e.TgZ(71,"mat-form-field",7)(72,"mat-label"),e._uU(73,"Link Sequence"),e.qZA(),e._UZ(74,"input",24),e.qZA(),e.TgZ(75,"mat-form-field",7)(76,"mat-label"),e._uU(77,"Equipment No"),e.qZA(),e._UZ(78,"input",25),e.qZA(),e.TgZ(79,"mat-form-field",7)(80,"mat-label"),e._uU(81,"Seal 1"),e.qZA(),e._UZ(82,"input",26),e.qZA(),e.TgZ(83,"mat-form-field",7)(84,"mat-label"),e._uU(85,"Seal 2"),e.qZA(),e._UZ(86,"input",27),e.qZA(),e.TgZ(87,"mat-form-field",7)(88,"mat-label"),e._uU(89,"Freight Chg"),e.qZA(),e.TgZ(90,"input",28),e.NdJ("blur",function(){return t.formatFreightCharge()}),e.qZA()()()(),e.TgZ(91,"button",29),e.NdJ("click",function(){return t.MiscShip()}),e._uU(92," Submit "),e.qZA()()()()),2&r&&(e.xp6(8),e.Q6J("formGroup",t.form),e.xp6(83),e.Q6J("disabled",!t.form.valid))},dependencies:[c.m,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,s.Hw,m.lW,_.KE,_.bx,_.hX,U.Nt,f.a8,f.dk,f.dn,f.n5,v.e]}),C})()}}]);