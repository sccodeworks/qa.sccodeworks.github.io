"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[169,1790,8754,5645,2313],{11790:(W,N,u)=>{u.d(N,{y:()=>T});var Z=u(65412),c=u(94650),f=u(97392),C=u(4859);let x=(()=>{class d{constructor(t,g){this.dialogRef=t,this.data=g}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return d.\u0275fac=function(t){return new(t||d)(c.Y36(Z.so),c.Y36(Z.WI))},d.\u0275cmp=c.Xpm({type:d,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(t,g){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),c.NdJ("click",function(){return g.closeDialog()}),c._uU(3,"close "),c.qZA(),c.TgZ(4,"span",3),c._uU(5),c.qZA()(),c.TgZ(6,"button",4),c._uU(7,"Cancel"),c.qZA(),c.TgZ(8,"button",5),c._uU(9,"Delete"),c.qZA()()),2&t&&(c.xp6(5),c.Oqu(g.data.message),c.xp6(1),c.Q6J("mat-dialog-close",!1),c.xp6(2),c.Q6J("mat-dialog-close",!0))},dependencies:[f.Hw,C.lW,Z.ZT]}),d})(),T=(()=>{class d{constructor(t){this.dialog=t}openCustomAlert(t){return this.dialog.open(x,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:t}})}}return d.\u0275fac=function(t){return new(t||d)(c.LFG(Z.uw))},d.\u0275prov=c.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},20169:(W,N,u)=>{u.r(N),u.d(N,{WwTaskcodesComponent:()=>wt});var Z=u(98739),c=u(7155),f=u(65412),C=u(70879),x=u(35226),T=u.n(x),d=u(48529),b=u(69501),t=u(94650),g=u(19132),l=u(24006),k=u(16799),v=u(36895),A=u(97392),w=u(4859),h=u(59549),U=u(44144),D=u(84385),q=u(3238),m=u(73546);function E(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Ledger Code"),t.qZA(),t.TgZ(4,"input",33),t.NdJ("focus",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleDropdown())}),t.qZA()()()}}function F(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",34)(1,"app-dropdown",35),t.NdJ("selectionChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.onOptionSelected(s))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("options",e.ledgerOptions)("valueControlName",e.ledgerControlName)("suffixControlName",e.subLedgerControlName)}}let O=(()=>{class o{constructor(e,a,s,i,r){this.anyvariable=e,this.dialogRef=a,this.router=s,this.fb=i,this.taskCodesService=r,this.user=localStorage.getItem("userName"),this.selectedLedger="",this.backupLedger="",this.showDropdown=!1,this.isOptionSelected=!1,this.isDropdownClicked=!1,this.valueChanged=!1,this.ledgerOptions=[]}ngOnDestroy(){this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),document.removeEventListener("click",this.onDocumentClick.bind(this))}ngOnInit(){this.selectedLedger=this.anyvariable.TSLEGC,this.backupLedger=this.selectedLedger,this.form=this.fb.group({TSTASK:{value:this.anyvariable.TSTASK,disabled:!0},TSSTOR:{value:this.anyvariable.TSSTOR+"\xa0"+this.anyvariable.TSSSFX,disabled:!0},TSDESC:this.anyvariable.TSDESC,TSMINM:this.anyvariable.TSMINM,TSBASE:this.anyvariable.TSBASE,TSRATE:this.anyvariable.TSRATE,TSLEGC:this.selectedLedger,TSLEGS:this.anyvariable.TSLEGS,TSMKUP:this.anyvariable.TSMKUP,TSQUOT:this.anyvariable.TSQUOT,TSAUTO:this.anyvariable.TSAUTO,TSVARC:this.anyvariable.TSVARC}),this.fetchLedgerCode(),document.addEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}onOptionSelected(e){this.valueChanged=!0,this.ledgerControlName.setValue(e),this.showDropdown=!1}onDocumentClick(e){const a=e.target instanceof HTMLElement&&(e.target.closest("mat-form-field")||e.target.closest("app-dropdown")),s=e.target instanceof HTMLElement&&e.target.closest(".buttons.addButton.new-tally-form-btn");!a&&!s&&!this.valueChanged&&(this.ledgerControlName.setValue(this.backupLedger),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}get ledgerControlName(){return this.form.controls.TSLEGC}get subLedgerControlName(){return this.form.controls.TSLEGS}fetchLedgerCode(){this.taskCodesService.getLedgerNames().subscribe(e=>{this.ledgerOptions=e.map(a=>({value:a.LELEGC,description:`${a.LELEGC}${a.LELEGS?" "+a.LELEGS:""}  ${a.LEDESC}`}))})}TaskCodesUpdate(){var e=this.form.value;this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.taskCodesSubscription=this.taskCodesService.TaskCodesUpdate(this.anyvariable.TSTASK,this.anyvariable.TSSTOR,this.anyvariable.TSSSFX,e.TSDESC,e.TSMINM,e.TSBASE,e.TSRATE,e.TSLEGC,e.TSLEGS,e.TSMKUP,e.TSQUOT,e.TSAUTO,e.TSVARC,this.user).subscribe(s=>{const i=s[0]?.data?.length,r=i?s[0]?.data[i-1]?.value:void 0,p=r?JSON.parse(r)?.returnedData?.message:void 0;p?.toUpperCase()===d.R.updateMsg.toUpperCase()?(this.successMessage(p),this.closeDialog(),this.router.navigate(["/main-nav/task-codes/read"])):this.failureMessage(p)})}successMessage(e){T().fire(e,"","success")}failureMessage(e){T().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.WI),t.Y36(f.so),t.Y36(g.F0),t.Y36(l.qu),t.Y36(k.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-change"]],standalone:!0,features:[t.jDz],decls:89,vars:3,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","TSTASK","readonly",""],["matInput","","formControlName","TSSTOR"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","TSDESC"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","TSRATE"],["matInput","","formControlName","TSBASE",2,"text-transform","uppercase"],["matInput","","formControlName","TSMINM"],[1,"form-input",2,"margin-bottom","10px"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["matInput","","formControlName","TSLEGS"],["matInput","","formControlName","TSMKUP"],["formControlName","TSAUTO"],["value",""],["value","I"],["value","O"],["value","N"],["formControlName","TSVARC"],["value","Y"],["formControlName","TSQUOT"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"],["matInput","","formControlName","TSLEGC","readonly","",3,"focus"],["tabindex","0"],["label","Ledger","placeholder","Search or Enter Ledger to Change",3,"options","valueControlName","suffixControlName","selectionChange"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Task Code Maintenance"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Task Code"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Storer"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",11)(21,"mat-label"),t._uU(22,"Description"),t.qZA(),t.TgZ(23,"textarea",12),t._uU(24," Description"),t.qZA()(),t.TgZ(25,"div",13)(26,"label",14),t._uU(27,"Rate/Base"),t.qZA(),t.TgZ(28,"div",15)(29,"mat-form-field",8)(30,"mat-label"),t._uU(31,"Rate"),t.qZA(),t._UZ(32,"input",16),t.qZA(),t.TgZ(33,"mat-form-field",8)(34,"mat-label"),t._uU(35,"Base"),t.qZA(),t._UZ(36,"input",17),t.qZA()()(),t.TgZ(37,"mat-form-field",8)(38,"mat-label"),t._uU(39,"Minimum"),t.qZA(),t._UZ(40,"input",18),t.qZA(),t.TgZ(41,"div",13)(42,"label",14),t._uU(43,"Ledger Code"),t.qZA(),t.TgZ(44,"div",19),t.YNc(45,E,5,0,"div",20),t.YNc(46,F,2,3,"div",21),t.TgZ(47,"mat-form-field",8)(48,"mat-label"),t._uU(49,"Ledger Sub-code"),t.qZA(),t._UZ(50,"input",22),t.qZA()()(),t.TgZ(51,"mat-form-field",8)(52,"mat-label"),t._uU(53,"Markup"),t.qZA(),t._UZ(54,"input",23),t.qZA(),t.TgZ(55,"mat-form-field",8)(56,"mat-label"),t._uU(57,"Auto Charge"),t.qZA(),t.TgZ(58,"mat-select",24)(59,"mat-option",25),t._uU(60,"-- Select --"),t.qZA(),t.TgZ(61,"mat-option",26),t._uU(62,"I"),t.qZA(),t.TgZ(63,"mat-option",27),t._uU(64,"O"),t.qZA(),t.TgZ(65,"mat-option",28),t._uU(66,"N"),t.qZA()()(),t.TgZ(67,"mat-form-field",8)(68,"mat-label"),t._uU(69,"Recalculate At Posting"),t.qZA(),t.TgZ(70,"mat-select",29)(71,"mat-option",25),t._uU(72,"-- Select --"),t.qZA(),t.TgZ(73,"mat-option",30),t._uU(74,"Y"),t.qZA(),t.TgZ(75,"mat-option",28),t._uU(76,"N"),t.qZA()()(),t.TgZ(77,"mat-form-field",8)(78,"mat-label"),t._uU(79,"Task on Quote"),t.qZA(),t.TgZ(80,"mat-select",31)(81,"mat-option",25),t._uU(82,"-- Select --"),t.qZA(),t.TgZ(83,"mat-option",30),t._uU(84,"Y"),t.qZA(),t.TgZ(85,"mat-option",28),t._uU(86,"N"),t.qZA()()()()(),t.TgZ(87,"button",32),t.NdJ("click",function(){return a.TaskCodesUpdate()}),t._uU(88,"Update"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(36),t.Q6J("ngIf",!a.showDropdown),t.xp6(1),t.Q6J("ngIf",a.showDropdown))},dependencies:[C.m,v.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.Hw,w.lW,h.KE,h.hX,U.Nt,D.gD,q.ey,m.a8,m.dk,m.dn,m.n5,b.J]}),o})();var I=u(11790);function M(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.taskCodesConstraintDelete())}),t._uU(1," Delete "),t.qZA()}}let R=(()=>{class o{constructor(e,a,s,i,r,p){this.anyvariable=e,this.dialogRef=a,this.router=s,this.fb=i,this.taskCodesService=r,this.customAlertService=p,this.user=localStorage.getItem("userName"),this.hasInitialConstraintValue=!1}ngOnDestroy(){this.constraintSubscription&&this.constraintSubscription.unsubscribe(),this.deleteConstraintSubscription&&this.deleteConstraintSubscription.unsubscribe()}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({documentType:this.anyvariable.TSAUTO,taskCode:this.anyvariable.TSTASK,storer:this.anyvariable.TSSTOR,constraintF:[this.anyvariable.ACCNST,l.kI.required],relationship:this.anyvariable.ACRLOP||"EQ",constraintV:this.anyvariable.ACVALU,status:this.anyvariable.ACSTAT||"AC"}),this.hasInitialConstraintValue=!!this.form.get("constraintF")?.value}taskCodesConstraint(){var e=this.form.value;console.log(e);const a=this.anyvariable.TSSSFX;this.constraintSubscription&&this.constraintSubscription.unsubscribe(),this.constraintSubscription=this.taskCodesService.taskCodesConstraint(e.documentType,e.taskCode,e.storer,a,e.constraintF,e.relationship,e.constraintV,e.status).subscribe(i=>{console.log(i);const r=i[0]?.data?.length,p=r?i[0]?.data[r-1]?.value:void 0;p?.toUpperCase()===d.R.update.toUpperCase()?(this.successMessage(p),this.closeDialog(),this.router.navigate(["/main-nav/task-codes/read"])):(this.failureMessage(p),this.closeDialog())})}taskCodesConstraintDelete(){var e=this.form.value;const a=this.anyvariable.TSSSFX;this.customAlertService.openCustomAlert("Are you sure want to delete this constraint:"+e.constraintF+" ?").afterClosed().subscribe(r=>{r&&(this.deleteConstraintSubscription&&this.deleteConstraintSubscription.unsubscribe(),this.deleteConstraintSubscription=this.taskCodesService.taskCodesConstraintDelete(e.documentType,e.taskCode,e.storer,a,e.constraintF,e.relationship,e.constraintV,e.status).subscribe(p=>{const S=p?.[0]?.data?.[p[0].data.length-1]?.value;S?.toUpperCase()===d.R.deleteShortMsg.toUpperCase()?(this.successMessage(S),this.closeDialog(),this.router.navigate(["/main-nav/task-codes/read"])):this.failureMessage(S)}))})}successMessage(e){T().fire(e,"","success")}failureMessage(e){T().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.WI),t.Y36(f.so),t.Y36(g.F0),t.Y36(l.qu),t.Y36(k.x),t.Y36(I.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-constraint"]],standalone:!0,features:[t.jDz],decls:81,vars:3,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","documentType"],["matInput","","formControlName","taskCode"],["matInput","","formControlName","storer"],["formControlName","constraintF"],["value",""],["label","Outbound Constraints"],["value","OHSHPT"],["value","OHHQTY"],["value","OHFCOV"],["label","Inbound Constraints"],["value","IHRCPT"],["value","IHLDTY"],["value","IHRTRN"],["value","IHEDIF"],["formControlName","relationship"],["value","EQ"],["value","NE"],["value","LE"],["value","LT"],["value","GE"],["value","GT"],["matInput","","formControlName","constraintV"],["formControlName","status"],["value","AC"],["value","IN"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"],["class","buttons removeButton","mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",1,"buttons","removeButton",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Autocharge Constraints"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Document Type"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Task Code"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Storer"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Constraint Field"),t.qZA(),t.TgZ(27,"mat-select",12)(28,"mat-option",13),t._uU(29,"-- Select --"),t.qZA(),t.TgZ(30,"mat-optgroup",14)(31,"mat-option",15),t._uU(32,"OHSHPT - Ship Type "),t.qZA(),t.TgZ(33,"mat-option",16),t._uU(34,"OHHQTY - Total Order Quantity "),t.qZA(),t.TgZ(35,"mat-option",17),t._uU(36,"OHFCOV - Freight Coverage Code "),t.qZA()(),t.TgZ(37,"mat-optgroup",18)(38,"mat-option",19),t._uU(39,"IHRCPT - Receipt Type "),t.qZA(),t.TgZ(40,"mat-option",20),t._uU(41,"IHLDTY - Load Type "),t.qZA(),t.TgZ(42,"mat-option",21),t._uU(43,"IHRTRN - Customer Return "),t.qZA(),t.TgZ(44,"mat-option",22),t._uU(45,"IHEDIF - ASN Received Via EDI "),t.qZA()()()(),t.TgZ(46,"mat-form-field",8)(47,"mat-label"),t._uU(48,"Relationship "),t.qZA(),t.TgZ(49,"mat-select",23)(50,"mat-option",13),t._uU(51,"-- Select --"),t.qZA(),t.TgZ(52,"mat-option",24),t._uU(53,"EQ - Equal"),t.qZA(),t.TgZ(54,"mat-option",25),t._uU(55,"NE - Not Equal"),t.qZA(),t.TgZ(56,"mat-option",26),t._uU(57,"LE - Less than or equal"),t.qZA(),t.TgZ(58,"mat-option",27),t._uU(59,"LT - Less Than"),t.qZA(),t.TgZ(60,"mat-option",28),t._uU(61,"GE - Greater than or equal"),t.qZA(),t.TgZ(62,"mat-option",29),t._uU(63,"GT - Greater Than"),t.qZA()()(),t.TgZ(64,"mat-form-field",8)(65,"mat-label"),t._uU(66,"Constraint Value"),t.qZA(),t._UZ(67,"input",30),t.qZA(),t.TgZ(68,"mat-form-field",8)(69,"mat-label"),t._uU(70,"Status Code"),t.qZA(),t.TgZ(71,"mat-select",31)(72,"mat-option",13),t._uU(73,"-- Select --"),t.qZA(),t.TgZ(74,"mat-option",32),t._uU(75,"AC"),t.qZA(),t.TgZ(76,"mat-option",33),t._uU(77,"IN"),t.qZA()()()()(),t.TgZ(78,"button",34),t.NdJ("click",function(){return a.taskCodesConstraint()}),t._uU(79,"Constraint"),t.qZA(),t.YNc(80,M,2,0,"button",35),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(69),t.Q6J("disabled",!a.form.valid),t.xp6(2),t.Q6J("ngIf",a.hasInitialConstraintValue))},dependencies:[C.m,v.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.Hw,w.lW,h.KE,h.hX,U.Nt,D.gD,q.ey,q.Nv,m.a8,m.dk,m.dn,m.n5]}),o})();var Y=u(11240);function J(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"mat-form-field",8)(2,"mat-label"),t._uU(3,"Ledger Code"),t.qZA(),t.TgZ(4,"input",34),t.NdJ("focus",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.toggleDropdown())}),t.qZA()()()}}function G(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",35)(1,"app-dropdown",36),t.NdJ("selectionChange",function(s){t.CHM(e);const i=t.oxw();return t.KtG(i.onOptionSelected(s))}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("options",e.ledgerOptions)("valueControlName",e.ledgerControlName)("suffixControlName",e.subLedgerControlName)}}let H=(()=>{class o{constructor(e,a,s,i,r,p){this.anyvariable=e,this.dialogRef=a,this.router=s,this.fb=i,this.taskCodesService=r,this.storerSvc=p,this.user=localStorage.getItem("userName"),this.storerOptions=[],this.ledgerOptions=[],this.selectedLedger="",this.backupLedger="",this.showDropdown=!1,this.isOptionSelected=!1,this.isDropdownClicked=!1,this.valueChanged=!1}ngOnInit(){this.selectedLedger=this.anyvariable.TSLEGC,this.backupLedger=this.selectedLedger,this.form=this.fb.group({taskCode:{value:this.anyvariable.TSTASK,disabled:!0},fromStorer:{value:this.anyvariable.TSSTOR+"\xa0"+this.anyvariable.TSSSFX,disabled:!0},toStorer:["",l.kI.required],toStorerSfx:"",description:this.anyvariable.TSDESC,rate:this.anyvariable.TSRATE,base:this.anyvariable.TSBASE,minimum:this.anyvariable.TSMINM,ledgerCode:this.anyvariable.TSLEGC,ledgerSubCode:this.anyvariable.TSLEGS,markup:this.anyvariable.TSMKUP,autoCharge:this.anyvariable.TSAUTO,taskOnQuote:this.anyvariable.TSQUOT,recalculate:this.anyvariable.TSVARC}),this.fetchStorer(),this.fetchLedgerCode(),document.addEventListener("click",this.onDocumentClick.bind(this))}ngOnDestroy(){this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),document.removeEventListener("click",this.onDocumentClick.bind(this))}toggleDropdown(){this.showDropdown=!0}onOptionSelected(e){this.valueChanged=!0,this.ledgerControlName.setValue(e),this.showDropdown=!1}onDocumentClick(e){const a=e.target instanceof HTMLElement&&(e.target.closest("mat-form-field")||e.target.closest("app-dropdown")),s=e.target instanceof HTMLElement&&e.target.closest(".buttons.addButton.new-tally-form-btn");!a&&!s&&!this.valueChanged&&(this.ledgerControlName.setValue(this.backupLedger),this.showDropdown=!1),this.isDropdownClicked=!1,this.valueChanged=!1}fetchLedgerCode(){this.taskCodesService.getLedgerNames().subscribe(e=>{this.ledgerOptions=e.map(a=>({value:a.LELEGC,description:`${a.LELEGC}${a.LELEGS?" "+a.LELEGS:""}  ${a.LEDESC}`}))})}get ledgerControlName(){return this.form.controls.ledgerCode}get subLedgerControlName(){return this.form.controls.ledgerSubCode}get storeControlName(){return this.form.controls.toStorer}get suffixControlName(){return this.form.controls.toStorerSfx}fetchStorer(){this.storerSvc.getStorerCodes().subscribe(e=>{this.storerOptions=e.map(a=>({value:a.STORE,description:`${a.STORE}${a.STSFX?" "+a.STSFX:""}  ${a.STNAME}`}))})}copyTaskCode(){var e=this.form.value;const a=this.anyvariable.TSTASK,s=this.anyvariable.TSSTOR,i=this.anyvariable.TSSSFX;this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.taskCodesSubscription=this.taskCodesService.taskCodesCopyTask(this.user,a,s,i,e.toStorer,e.toStorerSfx,e.description,e.minimum,e.base,e.rate,e.ledgerCode,e.ledgerSubCode,e.markup,e.taskOnQuote,e.autoCharge,e.recalculate).subscribe(p=>{const S=p[0]?.data?.length,y=S?p[0]?.data[S-1]?.value:void 0,_=y?JSON.parse(y)?.returnedData?.message:void 0;_?.toUpperCase()===d.R.copyMsg.toUpperCase()?(this.successMessage(_),this.closeDialog(),this.router.navigate(["/main-nav/task-codes/read"])):this.failureMessage(_)})}successMessage(e){T().fire(e,"","success")}failureMessage(e){T().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.WI),t.Y36(f.so),t.Y36(g.F0),t.Y36(l.qu),t.Y36(k.x),t.Y36(Y.h))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-copytaskcode"]],standalone:!0,features:[t.jDz],decls:95,vars:8,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","taskCode"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input",2,"margin-bottom","10px"],["matInput","","formControlName","fromStorer"],["label","Storer","placeholder","Search or Enter Storer",3,"options","valueControlName","suffixControlName","isRequired"],["matInput","","formControlName","toStorerSfx"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","description"],["matInput","","formControlName","rate"],["matInput","","formControlName","base"],["matInput","","formControlName","minimum"],[4,"ngIf"],["tabindex","0",4,"ngIf"],["matInput","","formControlName","ledgerSubCode"],["matInput","","formControlName","markup"],["formControlName","autoCharge"],["value",""],["value","I"],["value","O"],["value","N"],["formControlName","taskOnQuote"],["value","Y"],["formControlName","recalculate"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"],["matInput","","formControlName","ledgerCode","readonly","",3,"focus"],["tabindex","0"],["label","Ledger","placeholder","Search or Enter Ledger to Change",3,"options","valueControlName","suffixControlName","selectionChange"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Task Code Maintenance "),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Task Code"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Storer"),t.qZA(),t.TgZ(19,"div",12)(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"From Storer"),t.qZA(),t._UZ(23,"input",13),t.qZA(),t._UZ(24,"br")(25,"app-dropdown",14),t.TgZ(26,"mat-form-field",8)(27,"mat-label"),t._uU(28,"Storer Suffix"),t.qZA(),t._UZ(29,"input",15),t.qZA()()(),t.TgZ(30,"mat-form-field",16)(31,"mat-label"),t._uU(32,"Description"),t.qZA(),t.TgZ(33,"textarea",17),t._uU(34," Description"),t.qZA()(),t.TgZ(35,"mat-form-field",8)(36,"mat-label"),t._uU(37,"Rate"),t.qZA(),t._UZ(38,"input",18),t.qZA(),t.TgZ(39,"mat-form-field",8)(40,"mat-label"),t._uU(41,"Base"),t.qZA(),t._UZ(42,"input",19),t.qZA(),t.TgZ(43,"mat-form-field",8)(44,"mat-label"),t._uU(45,"Minimum"),t.qZA(),t._UZ(46,"input",20),t.qZA(),t.TgZ(47,"div",10)(48,"label",11),t._uU(49,"Ledger Code"),t.qZA(),t.TgZ(50,"div",12),t.YNc(51,J,5,0,"div",21),t.YNc(52,G,2,3,"div",22),t.TgZ(53,"mat-form-field",8)(54,"mat-label"),t._uU(55,"Ledger Sub-code"),t.qZA(),t._UZ(56,"input",23),t.qZA()()(),t.TgZ(57,"mat-form-field",8)(58,"mat-label"),t._uU(59,"Markup"),t.qZA(),t._UZ(60,"input",24),t.qZA(),t.TgZ(61,"mat-form-field",8)(62,"mat-label"),t._uU(63,"Auto Charge"),t.qZA(),t.TgZ(64,"mat-select",25)(65,"mat-option",26),t._uU(66,"-- Select --"),t.qZA(),t.TgZ(67,"mat-option",27),t._uU(68,"I"),t.qZA(),t.TgZ(69,"mat-option",28),t._uU(70,"O"),t.qZA(),t.TgZ(71,"mat-option",29),t._uU(72,"N"),t.qZA()()(),t.TgZ(73,"mat-form-field",8)(74,"mat-label"),t._uU(75,"Task on Quote"),t.qZA(),t.TgZ(76,"mat-select",30)(77,"mat-option",26),t._uU(78,"-- Select --"),t.qZA(),t.TgZ(79,"mat-option",31),t._uU(80,"Y"),t.qZA(),t.TgZ(81,"mat-option",29),t._uU(82,"N"),t.qZA()()(),t.TgZ(83,"mat-form-field",8)(84,"mat-label"),t._uU(85,"Recalculate At Posting"),t.qZA(),t.TgZ(86,"mat-select",32)(87,"mat-option",26),t._uU(88,"-- Select --"),t.qZA(),t.TgZ(89,"mat-option",31),t._uU(90,"Y"),t.qZA(),t.TgZ(91,"mat-option",29),t._uU(92,"N"),t.qZA()()()()(),t.TgZ(93,"button",33),t.NdJ("click",function(){return a.copyTaskCode()}),t._uU(94," Copy Task Code "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(16),t.Q6J("options",a.storerOptions)("valueControlName",a.storeControlName)("suffixControlName",a.suffixControlName)("isRequired",!0),t.xp6(26),t.Q6J("ngIf",!a.showDropdown),t.xp6(1),t.Q6J("ngIf",a.showDropdown),t.xp6(41),t.Q6J("disabled",!a.form.valid))},dependencies:[C.m,v.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.Hw,w.lW,h.KE,h.hX,U.Nt,D.gD,q.ey,m.a8,m.dk,m.dn,m.n5,b.J]}),o})(),Q=(()=>{class o{constructor(e,a,s,i,r){this.anyvariable=e,this.dialogRef=a,this.router=s,this.fb=i,this.TaskCodesService=r,this.user=localStorage.getItem("userName")}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({FromStorer:{value:this.anyvariable.TSSTOR+"\xa0"+this.anyvariable.TSSSFX,disabled:!0},ToStorer:"",ToStorerSfx:""})}TaskCodesCopySet(){var e=this.form.value;console.log(e),this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.TaskCodesService.TaskCodesCopySet(this.anyvariable.TSSTOR,this.anyvariable.TSSSFX,e.ToStorer,e.ToStorerSfx).subscribe(a=>{this.result=a,console.log(this.result);const s=a[0].data[a[0].data.length-1].value;"COPIED SUCCESSFULLY"===s?(this.successMessage(s),this.closeDialog(),this.router.navigate(["/main-nav/task-codes/read"])):this.failureMessage(s)})}successMessage(e){T().fire(e,"","success")}failureMessage(e){T().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.WI),t.Y36(f.so),t.Y36(g.F0),t.Y36(l.qu),t.Y36(k.x))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-copytaskset"]],standalone:!0,features:[t.jDz],decls:31,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","FromStorer","readonly",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","ToStorer"],["matInput","","formControlName","ToStorerSfx",2,"text-transform","uppercase"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Copy A Task Code Set"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"From Storer"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"To Storer"),t.qZA(),t.TgZ(19,"div",12)(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Storer"),t.qZA(),t._UZ(23,"input",13),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Storer Suffix"),t.qZA(),t._UZ(27,"input",14),t.qZA()()()()(),t._UZ(28,"br"),t.TgZ(29,"button",15),t.NdJ("click",function(){return a.TaskCodesCopySet()}),t._uU(30,"Copy Set"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form))},dependencies:[C.m,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.Hw,w.lW,h.KE,h.hX,U.Nt,m.a8,m.dk,m.dn,m.n5]}),o})(),B=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-activatetask"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(e,a){},dependencies:[C.m]}),o})(),K=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes-deactivate"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(e,a){},dependencies:[C.m]}),o})();var X=u(5103),L=u(28255),$=u(10266),P=u(90455);function V(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.searchTaskcodes())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function z(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",35),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.searchTaskcodes())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function j(o,n){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"div",37)(3,"span",38),t.NdJ("click",function(s){return s.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",39),t.NdJ("ngModelChange",function(s){const r=t.CHM(e).$implicit;return t.KtG(r.isActive=s)})("change",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.toggleColumn(i))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&o){const e=n.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function tt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"form",40)(1,"div",36)(2,"div",41)(3,"div",42)(4,"label",43),t._uU(5,"Storer"),t.qZA(),t.TgZ(6,"div",44)(7,"mat-form-field",45)(8,"mat-label"),t._uU(9,"Storer"),t.qZA(),t._UZ(10,"input",46),t.qZA(),t.TgZ(11,"mat-form-field",45)(12,"mat-label"),t._uU(13,"Storer Suffix"),t.qZA(),t._UZ(14,"input",47),t.qZA()()(),t._UZ(15,"br"),t.TgZ(16,"mat-form-field",45)(17,"mat-label"),t._uU(18,"Status"),t.qZA(),t._UZ(19,"input",48),t.qZA()()(),t.TgZ(20,"button",49),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.getTaskCodesBySearch(s.form.value))}),t._uU(21," Search "),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form)}}function et(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Storer"),t.qZA())}function ot(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSSTOR)}}function at(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Task Code"),t.qZA())}function st(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSTASK)}}function nt(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Description"),t.qZA())}function it(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSDESC)}}function rt(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Auto Charge "),t.qZA())}function lt(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSAUTO)}}function ct(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Base"),t.qZA())}function ut(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSBASE)}}function dt(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Rate"),t.qZA())}function mt(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSRATE)}}function pt(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Status"),t.qZA())}function Tt(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSACDL)}}function ft(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Minimum"),t.qZA())}function gt(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSMINM)}}function ht(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Ledger Code"),t.qZA())}function Ct(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSLEGC)}}function _t(o,n){1&o&&(t.TgZ(0,"th",50),t._uU(1,"Markup"),t.qZA())}function St(o,n){if(1&o&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.TSMKUP)}}function Zt(o,n){1&o&&t._UZ(0,"th",52)}function bt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",51)(1,"div",53)(2,"button",54)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",55)(6,"li")(7,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesChangeForm(i))}),t.TgZ(8,"mat-icon",57),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Change"),t.qZA()()(),t.TgZ(12,"li")(13,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesConstraintForm(i))}),t.TgZ(14,"mat-icon",57),t._uU(15,"lock"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Constraint"),t.qZA()()(),t.TgZ(18,"li")(19,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesDelete(i))}),t.TgZ(20,"mat-icon",58),t._uU(21,"delete"),t.qZA(),t.TgZ(22,"mat-label"),t._uU(23,"Delete"),t.qZA()()(),t.TgZ(24,"li")(25,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesCopyTaskCode(i))}),t.TgZ(26,"mat-icon",57),t._uU(27,"file_copy"),t.qZA(),t.TgZ(28,"mat-label"),t._uU(29,"Copy Task Code"),t.qZA()()(),t.TgZ(30,"li")(31,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesCopyTaskSetForm(i))}),t.TgZ(32,"mat-icon",57),t._uU(33,"content_copy"),t.qZA(),t.TgZ(34,"mat-label"),t._uU(35,"Copy Task Set"),t.qZA()()(),t.TgZ(36,"li")(37,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskcodesActivate(i))}),t.TgZ(38,"mat-icon",57),t._uU(39,"check_circle"),t.qZA(),t.TgZ(40,"mat-label"),t._uU(41,"Activate"),t.qZA()()(),t.TgZ(42,"li")(43,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesDeactivate(i))}),t.TgZ(44,"mat-icon",58),t._uU(45,"delete"),t.qZA(),t.TgZ(46,"mat-label"),t._uU(47,"Deactivate"),t.qZA()()(),t.TgZ(48,"li")(49,"button",56),t.NdJ("click",function(){const i=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.taskCodesAttributesForm(i))}),t.TgZ(50,"mat-icon",57),t._uU(51,"tune"),t.qZA(),t.TgZ(52,"mat-label"),t._uU(53,"Attributes"),t.qZA()()()()()()}}function kt(o,n){1&o&&t._UZ(0,"tr",59)}function vt(o,n){1&o&&t._UZ(0,"tr",60)}const At=function(){return[8,16,24]};let wt=(()=>{class o{constructor(e,a,s,i,r){this.fb=e,this.router=a,this.matDialog=s,this.taskCodesService=i,this.CustomAlertService=r,this.INITIAL_PAGE=1,this.DEFAULT_PAGE_SIZE=8,this.selectedRow=[],this.editedRows=[],this.user=localStorage.getItem("userName"),this.dataSource=new c.by,this.duplicateSource=[],this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.displayedColumns=["Storer","TaskCode","Description","AutoCharge","Base","Rate","Status","Actions"],this.columnShowHideList=[]}ngOnInit(){this.form=this.fb.group({STOR:"",SSFX:"",STS:"A"}),this.initializeColumnProperties(),this.editedRows=[],this.getTaskCodes(this.pageSize,this.INITIAL_PAGE),this.dataSource.filterPredicate=this.createFilter()}ngOnDestroy(){this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.deleteTaskCodesSubscription&&this.deleteTaskCodesSubscription.unsubscribe()}searchTaskcodes(){this.searchTextDisplay=1!=this.searchTextDisplay}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getTaskCodes(this.pageSize,this.INITIAL_PAGE)}getTaskCodesBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getTaskCodes(this.pageSize,this.INITIAL_PAGE)}onPaginateChange(e){this.pageSize=e.pageSize,this.getTaskCodes(e.pageSize,e.pageIndex+this.INITIAL_PAGE)}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let a=this.displayedColumns.indexOf(e.name);a>-1&&this.displayedColumns.splice(a,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,a)=>{"Actions"!=e&&this.columnShowHideList.push({position:a,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Minimum",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"LedgerCode",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Markup",isActive:!1})}rowClick(e){this.selectedRow=e}getTaskCodes(e,a){const s=this.currentFilters||{},{STOR:i="",SSFX:r="",STS:p=""}=s;this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.taskCodesSubscription=this.taskCodesService.getTaskCodes(this.user,i,r,p,e,a).subscribe(S=>{const y=S?.[0]?.data?.[1]?.value;if(y)try{const _=JSON.parse(y);_?.returnedData?(this.duplicateSource=_.returnedData,this.dataSource=new c.by(this.duplicateSource),this.totalRecords=_.TotalRecords||0):console.error("Returned data is undefined or null.")}catch(_){console.error("Error parsing response data:",_)}else console.error("Error fetching Task Codes")})}createFilter(){return(e,a)=>{const s=JSON.parse(a);return Object.keys(s).every(i=>e[i].toString().toLowerCase().includes(s[i].toLowerCase()))}}taskCodesDelete(e){this.CustomAlertService.openCustomAlert("Are you sure want to delete this Task ID:"+e.TSTASK+" ?").afterClosed().subscribe(s=>{s&&(this.deleteTaskCodesSubscription&&this.deleteTaskCodesSubscription.unsubscribe(),this.deleteTaskCodesSubscription=this.taskCodesService.taskCodesDelete(e.TSTASK,e.TSSTOR,e.TSSSFX).subscribe(i=>{const r=i?.[0]?.data?.[i[0].data.length-1]?.value;r?.toUpperCase()===d.R.deleteShortMsg.toUpperCase()?(this.successMessage(r),this.getTaskCodes()):this.failureMessage(r)}))})}taskcodesActivate(e){this.taskCodesSubscription&&this.taskCodesSubscription.unsubscribe(),this.taskCodesSubscription=this.taskCodesService.TaskCodesActivate(e.TSTASK,e.TSSTOR,e.TSSSFX).subscribe(a=>{const s=a?.[0]?.data?.[a[0].data.length-1]?.value;s?.toUpperCase()===d.R.update.toUpperCase()?(this.successMessage(s),this.getTaskCodes()):this.failureMessage(s)})}taskCodesDeactivate(e){this.CustomAlertService.openCustomAlert("Are you sure want to de-activate this Task ID:"+e.TSTASK+" ?").afterClosed().subscribe(s=>{s&&(this.deactivateTaskCodesSubscription&&this.deactivateTaskCodesSubscription.unsubscribe(),this.deactivateTaskCodesSubscription=this.taskCodesService.TaskCodesDeactivate(e.TSTASK,e.TSSTOR,e.TSSSFX).subscribe(i=>{const r=i?.[0]?.data?.[i[0].data.length-1]?.value;r?.toUpperCase()===d.R.update.toUpperCase()?(this.successMessage(r),this.getTaskCodes()):this.failureMessage(r)}))})}successMessage(e){T().fire(e,"","success")}failureMessage(e){T().fire(e,"","error")}addTaskCodes(){this.matDialog.open(X.WwTaskcodesAddComponent,{width:"1000px",maxHeight:"80vh",autoFocus:!1})}taskCodesChangeForm(e){this.matDialog.open(O,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesConstraintForm(e){this.matDialog.open(R,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesCopyTaskCode(e){this.matDialog.open(H,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesCopyTaskSetForm(e){this.matDialog.open(Q,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesActivateTaskForm(e){this.matDialog.open(B,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesDeactivateForm(e){this.matDialog.open(K,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}taskCodesAttributesForm(e){this.router.navigateByUrl("/main-nav/task-codes-attributes/read",{state:e})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.qu),t.Y36(g.F0),t.Y36(f.uw),t.Y36(k.x),t.Y36(I.y))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-taskcodes"]],viewQuery:function(e,a){if(1&e&&t.Gf(Z.NW,5),2&e){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:61,vars:12,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Taskcodes",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add New Taskcodes",1,"addButton",3,"click"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Task Codes Values",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Storer"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","TaskCode"],["matColumnDef","Description"],["matColumnDef","AutoCharge"],["matColumnDef","Base"],["matColumnDef","Rate"],["matColumnDef","Status"],["matColumnDef","Minimum"],["matColumnDef","LedgerCode"],["matColumnDef","Markup"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Taskcodes",1,"addButton",3,"click"],[1,"row"],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],[1,"form","over-Flow",3,"formGroup"],[1,"col"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"full-width"],["matInput","","formControlName","STOR"],["matInput","","formControlName","SSFX",2,"text-transform","uppercase"],["matInput","","formControlName","STS",2,"text-transform","uppercase"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn",3,"click"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Work With Task Codes "),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,V,3,0,"button",3),t.YNc(6,z,3,0,"button",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return a.addTaskCodes()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA()(),t.TgZ(10,"mat-menu",6,7)(12,"div",8),t.YNc(13,j,6,2,"ng-container",9),t.qZA()(),t.TgZ(14,"button",10,11)(16,"mat-icon"),t._uU(17,"visibility_off"),t.qZA()(),t.TgZ(18,"button",12),t.NdJ("click",function(){return a.resetSearch()}),t.TgZ(19,"mat-icon"),t._uU(20,"loop"),t.qZA()()()(),t.TgZ(21,"mat-card-content",13),t.YNc(22,tt,22,1,"form",14),t.qZA(),t.TgZ(23,"table",15),t.ynx(24,16),t.YNc(25,et,2,0,"th",17),t.YNc(26,ot,2,1,"td",18),t.BQk(),t.ynx(27,19),t.YNc(28,at,2,0,"th",17),t.YNc(29,st,2,1,"td",18),t.BQk(),t.ynx(30,20),t.YNc(31,nt,2,0,"th",17),t.YNc(32,it,2,1,"td",18),t.BQk(),t.ynx(33,21),t.YNc(34,rt,2,0,"th",17),t.YNc(35,lt,2,1,"td",18),t.BQk(),t.ynx(36,22),t.YNc(37,ct,2,0,"th",17),t.YNc(38,ut,2,1,"td",18),t.BQk(),t.ynx(39,23),t.YNc(40,dt,2,0,"th",17),t.YNc(41,mt,2,1,"td",18),t.BQk(),t.ynx(42,24),t.YNc(43,pt,2,0,"th",17),t.YNc(44,Tt,2,1,"td",18),t.BQk(),t.ynx(45,25),t.YNc(46,ft,2,0,"th",17),t.YNc(47,gt,2,1,"td",18),t.BQk(),t.ynx(48,26),t.YNc(49,ht,2,0,"th",17),t.YNc(50,Ct,2,1,"td",18),t.BQk(),t.ynx(51,27),t.YNc(52,_t,2,0,"th",17),t.YNc(53,St,2,1,"td",18),t.BQk(),t.ynx(54,28),t.YNc(55,Zt,1,0,"th",29),t.YNc(56,bt,54,0,"td",18),t.BQk(),t.YNc(57,kt,1,0,"tr",30),t.YNc(58,vt,1,0,"tr",31),t.qZA(),t.TgZ(59,"mat-paginator",32,33),t.NdJ("page",function(i){return a.onPaginateChange(i)}),t.qZA()()),2&e){const s=t.MAs(11);t.xp6(5),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!a.searchTextDisplay),t.xp6(7),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",s),t.xp6(8),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(11,At))("pageSize",a.pageSize)}},dependencies:[C.m,v.sg,v.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,Z.NW,A.Hw,L.VK,L.p6,w.lW,h.KE,h.hX,U.Nt,m.a8,m.dk,m.dn,m.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,$.gM,P.Rr]}),o})()}}]);