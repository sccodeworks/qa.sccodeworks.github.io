"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[746],{80746:(H,f,r)=>{r.r(f),r.d(f,{ReceivablesInvoiceInquiryAIComponent:()=>z});var h=r(98739),l=r(7155),T=r(70879),e=r(94650),g=r(81543),A=r(19132),s=r(24006),v=r(36895),Z=r(97392),b=r(4859),I=r(59549),C=r(44144),d=r(99602),_=r(73546),D=r(10266);function q(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function y(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(n);const o=e.oxw();return e.KtG(o.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function R(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Date"),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WDATE)}}function E(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Tally Order"),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WTALLY)}}function O(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Reference Number"),e.qZA())}function P(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WREFNO)}}function S(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Pieces"),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WPIECE)}}function M(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Weight"),e.qZA())}function W(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WWEIGH)}}function B(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Type"),e.qZA())}function Y(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WTYPE)}}function k(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Return Payment Type"),e.qZA())}function Q(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WRTNTP)}}function K(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Consignee"),e.qZA())}function G(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WCONS)}}function J(t,i){1&t&&(e.TgZ(0,"th",48),e._uU(1,"Min"),e.qZA())}function L(t,i){if(1&t&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.WMIN)}}function $(t,i){1&t&&e._UZ(0,"tr",50)}function F(t,i){1&t&&e._UZ(0,"tr",51)}const w=function(){return[8,16,24]};let z=(()=>{class t{constructor(n,a,o,c){this.RecvService=n,this.router=a,this.fb=o,this.RecvSvc=c,this.dataSource=new l.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.headerColumns=["Date","TallyOrder","ReferenceNo","Pieces","Weight","Type","RtnPayTp","Consignee","Min"],this.period="",this.totalAmountDue=0,this.StorerName="",this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({INVNO:this.element.WKINVN,Date:[new Date],Time:[this.formatCurrentTime()],GENDT:"",GENTM:"",CPAG:"1",WKDOCN:""}),this.getInvInquiryAI(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}formatCurrentTime(){const n=new Date;return`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`}createFilter(){return(n,a)=>{const o=JSON.parse(a);return Object.keys(o).every(c=>{const m=n[c]?.toString().toLowerCase()||"",u=o[c].toLowerCase();return m.includes(u)})}}ngOnDestroy(){this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe()}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInvInquiryAI(this.pageSize,1)}onPaginateChange(n){this.pageSize=n.pageSize,this.getInvInquiryAI(n.pageSize,n.pageIndex+1)}searchAccessInvInq(){this.searchTextDisplay=1!=this.searchTextDisplay}getInvInquiryAI(n,a){const o=this.currentFilters||{},{WKINVN:c=`${this.element.WKINV}`}=o;this.Subscription&&this.Subscription.unsubscribe(),this.Subscription=this.RecvSvc.FreightInv(this.user,c,n,a).subscribe(m=>{var u=JSON.parse(m[0].data[1]?.value),p=u.returnedData;this.dataSource.data=p,this.period=u.Period,this.totalAmountDue=u["Total Amount Due"],this.loadGeneratedDateTime(p[0].WKGEND),this.StorerName=u.StorerName,this.totalRecords=u.TotalRecords})}loadGeneratedDateTime(n){const a=n.replace('WKGEND":"',"").replace(/"/g,""),o="20"+a.substring(1,3),c=a.substring(3,5),m=a.substring(5,7),u=a.substring(7,9),p=a.substring(9,11);this.form.patchValue({GENDT:new Date(`${o}-${c}-${m}`),GENTM:`${u}:${p}`})}getBySearch(n){this.currentFilters=n,this.paginator.firstPage(),this.getInvInquiryAI(this.pageSize,1)}onBack(){this.router.navigate([this.receivablesUrl])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.Z),e.Y36(A.F0),e.Y36(s.qu),e.Y36(g.Z))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-receivables-invoice-inquiry-ai"]],viewQuery:function(n,a){if(1&n&&e.Gf(h.NW,5),2&n){let o;e.iGM(o=e.CRH())&&(a.paginator=o.first)}},standalone:!0,features:[e.jDz],decls:98,vars:20,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","search AccessInvInq",3,"click",4,"ngIf"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["matInput","","readonly","",3,"value"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Date",3,"matDatepicker"],["matSuffix","",3,"for"],["DatePicker",""],["matInput","","type","Time","formControlName","Time","placeholder","HH:mm","id","generatedtime","required",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","GENDT",3,"matDatepicker"],["GeneratedDatePicker",""],["matInput","","type","time","formControlName","GENTM","placeholder","HH:mm","id","generatedtime","required",""],["matInput","","formControlName","CPAG"],["matInput","","formControlName","WKDOCN"],["matInput","",2,"text-transform","uppercase",3,"value"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","TallyOrder"],["matColumnDef","ReferenceNo"],["matColumnDef","Pieces"],["matColumnDef","Weight"],["matColumnDef","Type"],["matColumnDef","RtnPayTp"],["matColumnDef","Consignee"],["matColumnDef","Min"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","search AccessInvInq",1,"addButton",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,a){if(1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return a.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Accessorial Invoice WorkSheet Inquiry"),e.qZA(),e.TgZ(7,"div",3),e.YNc(8,q,3,0,"button",4),e.YNc(9,y,3,0,"button",5),e.qZA()(),e.TgZ(10,"mat-card-content",6)(11,"form",7)(12,"div",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16,"Period"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"mat-form-field",12)(19,"mat-label"),e._uU(20,"Date "),e.qZA(),e._UZ(21,"input",13)(22,"mat-datepicker-toggle",14)(23,"mat-datepicker",null,15),e.qZA(),e.TgZ(25,"mat-form-field",12)(26,"mat-label"),e._uU(27,"Time"),e.qZA(),e._UZ(28,"input",16),e.qZA(),e.TgZ(29,"div",17)(30,"label",18),e._uU(31,"Generated"),e.qZA(),e.TgZ(32,"div",19)(33,"mat-form-field",12)(34,"mat-label"),e._uU(35,"Generated Date "),e.qZA(),e._UZ(36,"input",20)(37,"mat-datepicker-toggle",14)(38,"mat-datepicker",null,21),e.qZA(),e.TgZ(40,"mat-form-field",12)(41,"mat-label"),e._uU(42,"Generated Time"),e.qZA(),e._UZ(43,"input",22),e.qZA()()(),e.TgZ(44,"mat-form-field",12)(45,"mat-label"),e._uU(46," Page Of "),e.qZA(),e._UZ(47,"input",23),e.qZA(),e.TgZ(48,"mat-form-field",12)(49,"mat-label"),e._uU(50,"Document"),e.qZA(),e._UZ(51,"input",24),e.qZA(),e.TgZ(52,"mat-form-field",10)(53,"mat-label"),e._uU(54," Storer "),e.qZA(),e._UZ(55,"input",25),e.qZA()()(),e.TgZ(56,"button",26),e._uU(57," Search "),e.qZA()()(),e._UZ(58,"br"),e.TgZ(59,"table",27),e.ynx(60,28),e.YNc(61,R,2,0,"th",29),e.YNc(62,N,2,1,"td",30),e.BQk(),e.ynx(63,31),e.YNc(64,E,2,0,"th",29),e.YNc(65,U,2,1,"td",30),e.BQk(),e.ynx(66,32),e.YNc(67,O,2,0,"th",29),e.YNc(68,P,2,1,"td",30),e.BQk(),e.ynx(69,33),e.YNc(70,S,2,0,"th",29),e.YNc(71,x,2,1,"td",30),e.BQk(),e.ynx(72,34),e.YNc(73,M,2,0,"th",29),e.YNc(74,W,2,1,"td",30),e.BQk(),e.ynx(75,35),e.YNc(76,B,2,0,"th",29),e.YNc(77,Y,2,1,"td",30),e.BQk(),e.ynx(78,36),e.YNc(79,k,2,0,"th",29),e.YNc(80,Q,2,1,"td",30),e.BQk(),e.ynx(81,37),e.YNc(82,K,2,0,"th",29),e.YNc(83,G,2,1,"td",30),e.BQk(),e.ynx(84,38),e.YNc(85,J,2,0,"th",29),e.YNc(86,L,2,1,"td",30),e.BQk(),e.YNc(87,$,1,0,"tr",39),e.YNc(88,F,1,0,"tr",40),e.qZA(),e.TgZ(89,"div",41),e._UZ(90,"br")(91,"br"),e.TgZ(92,"div",42)(93,"button",43),e._uU(94),e.ALo(95,"number"),e.qZA()()(),e.TgZ(96,"mat-paginator",44,45),e.NdJ("page",function(c){return a.onPaginateChange(c)}),e.qZA()()),2&n){const o=e.MAs(24),c=e.MAs(39);e.xp6(8),e.Q6J("ngIf",a.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!a.searchTextDisplay),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(6),e.Q6J("value",a.period),e.xp6(4),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(14),e.Q6J("matDatepicker",c),e.xp6(1),e.Q6J("for",c),e.xp6(18),e.Q6J("value",a.StorerName),e.xp6(4),e.Q6J("dataSource",a.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",a.headerColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.headerColumns),e.xp6(6),e.hij(" Total Amount : $",e.xi3(95,16,a.totalAmountDue,"1.2-2")," "),e.xp6(2),e.Q6J("length",a.totalRecords)("pageSizeOptions",e.DdM(19,w))("pageSize",a.pageSize)}},dependencies:[T.m,v.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,h.NW,Z.Hw,b.lW,I.KE,I.hX,I.R9,C.Nt,d.Mq,d.hl,d.nW,_.a8,_.dk,_.dn,_.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,D.gM,v.JJ]}),t})()}}]);