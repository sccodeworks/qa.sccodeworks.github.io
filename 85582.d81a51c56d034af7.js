"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[85582],{85582:(K,d,e)=>{e.r(d),e.d(d,{InboundStagePutawayLpComponent:()=>M});var y=e(35226),c=e.n(y),h=e(48529),b=e(70879),t=e(94650),v=e(65412),I=e(19132),i=e(24006),f=e(80529),w=e(75625),C=e(70262),S=e(62843),Z=e(92340);let N=(()=>{class o{constructor(n){this.httpClient=n,this.url=Z.N.API_BASE_URL,this.httpHeader={headers:new f.WM({"Content-Type":"application/json"})}}InboundStagePutaway(n,a,r,s,u,p,J,Y,F,Q,B,O,k,G,R,j,D,H){return this.httpClient.post(this.url+"/InboundStage/PutawayLp",{user:n,tallyNumber:a,item:r,Quantity:s,InventoryType:u,lot1:p,lot2:J,lot3:Y,weight:F,hgt:Q,sug:B,location:O,appt:k,nopal:G,doct:R,seq:j,value:D,retrn:H}).pipe((0,w.X)(1),(0,C.K)(this.httpError))}httpError(n){let a="";return a=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(a),(0,S._)(()=>new Error(a))}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var P=e(36895),L=e(97392),T=e(4859),g=e(59549),U=e(44144),m=e(73546);function x(o,l){1&o&&(t.TgZ(0,"mat-form-field",6)(1,"mat-label"),t._uU(2," Weight"),t.qZA(),t._UZ(3,"input",14),t.qZA())}function A(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.goNext())}),t._uU(1," Next "),t.qZA()}}function E(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(n);const r=t.oxw();return t.KtG(r.StagePutaway())}),t._uU(1," Submit "),t.qZA()}}let M=(()=>{class o{constructor(n,a,r,s,u){this.matDialog=n,this.cd=a,this.router=r,this.fb=s,this.putawayLpService=u,this.user=localStorage.getItem("userName")||"",this.isNextClicked=!1,this.URL="/main-nav/InboundStage/PutawayLp"}ngOnInit(){this.element=history.state,this.form=this.fb.group({tallyNumber:"",item:"",Quantity:"",InventoryType:"",weight:""})}goNext(){const{tallyNumber:n,item:a,Quantity:r,InventoryType:s}=this.form.value;n&&a&&r&&s?this.isNextClicked=!0:c().fire("Please fill all 4 fields first","","warning")}ngOnDestroy(){this.putawaySubscription&&this.putawaySubscription.unsubscribe()}StagePutaway(){var n=this.form.value;this.putawaySubscription&&this.putawaySubscription.unsubscribe(),this.putawaySubscription=this.putawayLpService.InboundStagePutaway(this.user,n.tallyNumber,n.item,n.Quantity,n.InventoryType,"","","",n.weight,0,"","",0,0,"",0,"","").subscribe(a=>{this.result=a;const s=a[0].data[a[0].data.length-1].value;let u="";try{u=JSON.parse(s)?.returnedData?.message||s}catch{u=s}u.toUpperCase()===h.R.updateMsg.toUpperCase()?(this.successMessage(u),this.router.navigate([this.URL])):this.failureMessage(u)})}successMessage(n){c().fire(n,"","success")}failureMessage(n){c().fire(n,"","error")}onBack(){this.router.navigateByUrl(this.URL)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(v.uw),t.Y36(t.sBO),t.Y36(I.F0),t.Y36(i.qu),t.Y36(N))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-inbound-stage-putaway-lp"]],standalone:!0,features:[t.jDz],decls:31,vars:4,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tallyNumber"],["matInput","","formControlName","item"],["matInput","","formControlName","Quantity",2,"text-transform","uppercase"],["matInput","","formControlName","InventoryType"],["appearance","outline","class","full-width",4,"ngIf"],[1,"action-btn-container"],["mat-raised-button","","class","buttons addButton","type","button",3,"click",4,"ngIf"],["matInput","","formControlName","weight"],["mat-raised-button","","type","button",1,"buttons","addButton",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Inbound/Stage putaway"),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13," Tally Number"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Item"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"mat-form-field",6)(20,"mat-label"),t._uU(21," Quantity "),t.qZA(),t._UZ(22,"input",9),t.qZA(),t.TgZ(23,"mat-form-field",6)(24,"mat-label"),t._uU(25," Inventory Type"),t.qZA(),t._UZ(26,"input",10),t.qZA(),t.YNc(27,x,4,0,"mat-form-field",11),t.qZA()(),t.TgZ(28,"div",12),t.YNc(29,A,2,0,"button",13),t.YNc(30,E,2,0,"button",13),t.qZA()()()()),2&n&&(t.xp6(8),t.Q6J("formGroup",a.form),t.xp6(19),t.Q6J("ngIf",a.isNextClicked),t.xp6(2),t.Q6J("ngIf",!a.isNextClicked),t.xp6(1),t.Q6J("ngIf",a.isNextClicked))},dependencies:[b.m,P.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,L.Hw,T.lW,g.KE,g.hX,U.Nt,m.a8,m.dk,m.dn,m.n5],styles:[".action-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.action-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}"]}),o})()}}]);