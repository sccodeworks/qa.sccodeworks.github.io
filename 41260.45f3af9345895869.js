"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[41260],{41260:(D,m,e)=>{e.r(m),e.d(m,{InboundStageUpdateComponent:()=>Z});var g=e(35226),_=e.n(g),c=e(48529),h=e(70879),f=e(42485),t=e(94650),U=e(65412),b=e(19132),o=e(24006),y=e(54492),E=e(97392),v=e(4859),p=e(59549),I=e(44144),s=e(73546);let Z=(()=>{class r{constructor(a,n,u,i,l){this.matDialog=a,this.cd=n,this.router=u,this.fb=i,this.putawayLpService=l,this.user=localStorage.getItem("userName")||"",this.URL="/main-nav/inbound/putaway"}ngOnInit(){this.element=history.state,console.log(this.element),console.log(this.element.storer,this.element.storerSuffix),this.form=this.fb.group({tallyNumber:this.element.tallyNumber,item:this.element.item,Quantity:this.element.Quantity,InventoryType:this.element.inventoryType,weight:this.element.weight,hgt:{value:0,disabled:!0},sug:{value:"",disabled:!0},location:""})}ngOnDestroy(){this.putawaySubscription&&this.putawaySubscription.unsubscribe()}updateStagePutaway(){var a=this.form.getRawValue();this.putawaySubscription&&this.putawaySubscription.unsubscribe(),this.putawaySubscription=this.putawayLpService.updateInboundStagePutaway(this.user,a.tallyNumber,a.item,a.Quantity,a.InventoryType,"","","",a.weight,a.hgt,a.sug,a.location,0,0,"",0,"","").subscribe(n=>{this.result=n;const i=n[0].data[n[0].data.length-1].value;let l="";try{l=JSON.parse(i)?.returnedData?.message||i}catch{l=i}l.toUpperCase()===c.R.update.toUpperCase()?(this.successMessage(l),this.router.navigateByUrl(this.URL,{state:{tallyNumber:this.element.tallyNumber}})):this.failureMessage(l)})}successMessage(a){_().fire(a,"","success")}failureMessage(a){_().fire(a,"","error")}onBack(){this.router.navigateByUrl(this.URL)}getUpdateForm(a){this.matDialog.open(f.S,{width:"950px",height:"auto",maxHeight:"95vh",data:a,autoFocus:!1})}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(U.uw),t.Y36(t.sBO),t.Y36(b.F0),t.Y36(o.qu),t.Y36(y.l))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-inbound-stage-update"]],standalone:!0,features:[t.jDz],decls:46,vars:1,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tallyNumber"],["matInput","","formControlName","item"],["matInput","","formControlName","Quantity",2,"text-transform","uppercase"],["matInput","","formControlName","InventoryType"],["matInput","","formControlName","weight"],["matInput","","formControlName","hgt"],["matInput","","formControlName","sug"],["matInput","","formControlName","location"],[1,"action-btn-container"],["mat-raised-button","","type","button",1,"buttons","addButton",3,"click"]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return n.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Inbound/Stage putaway"),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13," Tally Number"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Item"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"mat-form-field",6)(20,"mat-label"),t._uU(21," Quantity "),t.qZA(),t._UZ(22,"input",9),t.qZA(),t.TgZ(23,"mat-form-field",6)(24,"mat-label"),t._uU(25," Inventory Type"),t.qZA(),t._UZ(26,"input",10),t.qZA(),t.TgZ(27,"mat-form-field",6)(28,"mat-label"),t._uU(29," Weight"),t.qZA(),t._UZ(30,"input",11),t.qZA(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33," hgt"),t.qZA(),t._UZ(34,"input",12),t.qZA(),t.TgZ(35,"mat-form-field",6)(36,"mat-label"),t._uU(37," sug"),t.qZA(),t._UZ(38,"input",13),t.qZA(),t.TgZ(39,"mat-form-field",6)(40,"mat-label"),t._uU(41," location"),t.qZA(),t._UZ(42,"input",14),t.qZA()()(),t.TgZ(43,"div",15)(44,"button",16),t.NdJ("click",function(){return n.updateStagePutaway()}),t._uU(45," Submit "),t.qZA()()()()()),2&a&&(t.xp6(8),t.Q6J("formGroup",n.form))},dependencies:[h.m,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,E.Hw,v.lW,p.KE,p.hX,I.Nt,s.a8,s.dk,s.dn,s.n5]}),r})()}}]);