"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[85849],{39505:(M,L,l)=>{l.d(L,{L:()=>s});var _=l(24006),c=l(59549),f=l(69751),T=l(68675),P=l(54004),h=l(94650),a=l(36895),g=l(47957),I=l(3238),t=l(44144);function e(r,o){if(1&r&&(h.TgZ(0,"mat-option",4),h._uU(1),h.qZA()),2&r){const i=o.$implicit;h.Q6J("value",i),h.xp6(1),h.Oqu(i)}}let s=(()=>{class r{constructor(i){this.fb=i,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=n=>{},this.onChange=n=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new f.y,this.filteredOptions=this.control.valueChanges.pipe((0,T.O)(this.value),(0,P.U)(n=>this._filter(n)))}setDescribedByIds(i){}onContainerClick(i){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(i){null!=i&&(this.control.setValue(i),this.value=i)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}_filter(i){if(null==i||0==i.length)return this.options;const n=i.toLowerCase(),u=this.options.filter(d=>d.toLowerCase().includes(n));return!this.disabled&&1===u.length&&this.control.value!=u[0]&&i.length>=(this.previousValue?.length??0)&&this.control.setValue(u[0]),this.onChange(this.control.value),this.previousValue=this.control.value,u}}return r.\u0275fac=function(i){return new(i||r)(h.Y36(_.qu))},r.\u0275cmp=h.Xpm({type:r,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(i,n){2&i&&h.uIk("aria-describedby",n.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[h._Bn([{provide:_.JU,multi:!0,useExisting:r},{provide:c.Eo,useExisting:r}],[{provide:_.gN,useExisting:_.sg}])],decls:8,vars:9,consts:[[1,"full-width",3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,n){if(1&i&&(h.TgZ(0,"mat-form-field",0)(1,"mat-label"),h._uU(2),h.qZA(),h._UZ(3,"input",1),h.TgZ(4,"mat-autocomplete",null,2),h.YNc(6,e,2,2,"mat-option",3),h.ALo(7,"async"),h.qZA()()),2&i){const u=h.MAs(5);h.Q6J("appearance",n.appearance),h.xp6(2),h.Oqu(n.label),h.xp6(1),h.Q6J("id",n.id)("placeholder",n.placeholder)("formControl",n.control)("matAutocomplete",u),h.xp6(3),h.Q6J("ngForOf",h.lcZ(7,7,n.filteredOptions))}},dependencies:[a.sg,_.Fj,_.JJ,_.oH,g.XC,g.ZL,I.ey,c.KE,c.hX,t.Nt,a.Ov]}),r})()},44285:(M,L,l)=>{l.d(L,{l:()=>a});var _=l(80529),c=l(75625),f=l(70262),T=l(62843),P=l(92340),h=l(94650);let a=(()=>{class g{constructor(t){this.httpClient=t,this.url=P.N.API_BASE_URL1,this.url1=P.N.API_BASE_URL,this.httpHeader={headers:new _.WM({"Content-Type":"application/json"})},this.weachUrl="/itemWeach",this.packageUrl="/smallPackage"}getChangeWeaches(t,e,s,r,o,i){return this.httpClient.get(this.url1+this.weachUrl+"/read",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",recordsPerPage:o??"",pageNo:i??""}})}updateWeach(t,e,s,r,o,i,n,u,d,p,m,E,C){return this.httpClient.put(this.url1+this.weachUrl+"/update",{user:t,storer:e,suffix:s,item:r,unitType:o,changeUnit:i,quantity:n,weight:u,weightUnit:d,height:p,width:m,depth:E,inventoryUnit:C}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}createWeach(t,e,s,r,o,i,n,u,d,p,m,E){return this.httpClient.post(this.url1+this.weachUrl+"/create",{user:t,storer:e,suffix:s,item:r,unitType:o,quantity:i,weight:n,weightUnit:u,height:d,width:p,depth:m,inventoryUnit:E}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}deleteWeach(t,e,s,r,o){return this.httpClient.delete(this.url1+`/itemWeach/delete?user=${t}&storer=${e}&suffix=${s}&item=${r}&type=${o}`)}convertFromLot(t,e,s,r){return this.httpClient.put(this.url1+"/item/fromLot",{user:t,storer:e,suffix:s,item:r}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}convertToLot(t,e,s,r){return this.httpClient.put(this.url1+"/item/toLot",{user:t,storer:e,suffix:s,item:r}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}hardDelete(t,e,s,r){return this.httpClient.delete(this.url1+`/item/hardDelete?user=${t}&storer=${e}&suffix=${s}&item=${r}`)}hazmatDelete(t,e,s){return this.httpClient.delete(this.url1+`/item/hazmatDelete?&storer=${t}&suffix=${e}&item=${s}`)}getItemAttribute(t,e,s,r,o,i){return this.httpClient.get(this.url1+"/item/itemAttribute/read",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",recordsPerPage:o??"",pageNo:i??""}})}itemTallyInquiry(t,e,s,r){return this.httpClient.get(this.url1+"/ihcrud/inquiry/display",{params:{user:t,tally:e??"",recordsPerPage:s??"",pageNo:r??""}})}getSmallPackage(t,e,s,r,o,i){return this.httpClient.get(this.url1+this.packageUrl+"/read",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",recordsPerPage:o??"",pageNo:i??""}})}deleteSmallPackage(t,e,s,r,o){return this.httpClient.delete(this.url1+`/smallPackage/delete?user=${t}&storer=${e}&suffix=${s}&item=${r}&type=${o}`)}updateSmallPackage(t,e,s,r,o,i){return this.httpClient.put(this.url1+this.packageUrl+"/update",{user:t,storer:e,suffix:s,item:r,sequence:o,email:i}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}createSmallPackage(t,e,s,r,o){return this.httpClient.post(this.url1+this.packageUrl+"/create",{user:t,storer:e,suffix:s,item:r,email:o}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}getAll(t){return this.httpClient.get(this.url+`/NewItems/readAll?user=${t}`)}unitOfMeasures(){return this.httpClient.get(this.url1+"/item/uom")}BucketXfer(t,e,s,r,o,i,n,u,d,p,m,E){return this.httpClient.post(this.url+"/NewItems/BucketXfer",{STOR:t,SSFX:e,STNAME:s,ITEM:r,LTC1:o,LTC2:i,LTC3:n,FROM:u,TO:d,AJREAS:p,COMM:m,user:E}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}ItemsCopy(t,e,s,r,o,i,n,u){return this.httpClient.put(this.url1+"/item/copyItem",{fromStorer:t,fromSuffix:e,Item:s,toStorer:r,toSuffix:o,ItemDescription:i,NewItemCode:n,ToItem:u}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}LotStatus(t,e,s,r,o,i){return this.httpClient.get(this.url1+`/item/LotStatus?user=${t}&WKSTOR=${e}&WKSTRX=${s}&WKITEM=${r}&recordsPerPage=${o}&pageNo=${i}`)}ItemschgUPCcode(t,e,s,r,o,i){return this.httpClient.put(this.url+"/NewItems/UPCcode",{ITSTOR:t,ITEM:e,ITUPCC:s,ITTAIL:r,ITPDCD:o,user:i}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}ItemUPCcode(t,e,s,r,o,i,n,u,d,p,m,E,C){return this.httpClient.put(this.url1+"/item/ChangeUpcCode",{user:t,ITSTOR:e,ITEM:r,ITSSFX:s,ITUPCC:o,ITTAIL:i,ITPDCD:n,ITCHGY:u,ITCHGM:d,ITCHGD:p,ITCHGT:m,ITCHGU:E,ITCHGW:C}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}kitPickSheet(t,e,s,r){return this.httpClient.post(this.url1+"/item/kitPickSheet",{user:t,storer:e,suffix:s,item:r}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}reIdentifyItem(t,e,s,r,o,i){return this.httpClient.post(this.url1+"/item/ReidentifyItem",{user:t,storer:e,suffix:s,item:r,description:o,newItem:i}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}EmailLowStock(t,e,s){return this.httpClient.put(this.url1+"/item/EmailLowStock",{storer:t,suffix:e,item:s}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}Throughput(t,e,s,r,o,i){return this.httpClient.get(this.url1+"/item/Throughput",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",start:o??"",end:i??""}})}Hazmat(t,e,s,r,o,i,n){return this.httpClient.get(this.url1+"/item/HazmatRead",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",code:o??"",recordsPerPage:i??"",pageNo:n??""}})}Chemicals(){return this.httpClient.get(this.url1+"/item/Chemicals")}HazOptions(){return this.httpClient.get(this.url1+"/item/HazOptions")}HazUpdate(t,e,s,r,o,i,n,u,d,p,m,E,C,O,S,D,v,U,A,K,y,B,W,R,N,$,b){return this.httpClient.put(this.url1+"/item/updateHazmat",{user:t,storer:e,suffix:s,item:r,code:o,description:i,perc1:n,chemId1:u,chemicalName1:d,perc2:p,chemId2:m,chemicalName2:E,perc3:C,chemId3:O,chemicalName3:S,perc4:D,chemId4:v,chemicalName4:U,perc5:A,chemId5:K,chemicalName5:y,perc6:B,chemId6:W,chemicalName6:R,perc7:N,chemId7:$,chemicalName7:b}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}deleteShelfLife(t,e,s){return this.httpClient.delete(this.url1+`/item/DeleteShelfLife?storer=${t}&suffix=${e}&item=${s}`)}shelfLife(t,e,s,r,o,i,n,u,d){return this.httpClient.put(this.url1+"/item/shelfLife",{storer:t,suffix:e,item:s,lotStyle:r,type:o,hold:i,visibility:n,ship:u,shelf:d}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}LineSet(t,e,s,r,o,i){return this.httpClient.get(this.url1+"/item/LineSet",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",recordsPerPage:o??"",pageNo:i??""}})}ItemMasterInquiry(t,e,s,r,o,i){return this.httpClient.get(this.url1+`/item/ItemMasterInquiry?user=${t}&WKSTOR=${e}&WKSSFX=${s}&WKITEM=${r}&recordsPerPage=${i}&pageNo=${o}`)}ShelfLifeRead(t,e,s,r){return this.httpClient.get(this.url1+"/item/ShelfLifeRead",{params:{user:t,storer:e??"",suffix:s??"",item:r??""}})}lotStyles(){return this.httpClient.get(this.url1+"/item/lotStyles")}TransferStock(t,e,s,r,o,i){return this.httpClient.get(this.url1+"/item/TransferStock",{params:{user:t,storer:e??"",suffix:s??"",item:r??"",recordsPerPage:o??"",pageNo:i??""}})}itemUOM(){return this.httpClient.get(this.url1+"/item/readUOM")}transferUpdate(t,e,s,r,o,i,n,u,d,p,m,E,C,O,S,D){return this.httpClient.put(this.url1+"/item/transferUpdate",{storer:t,suffix:e,item:s,newStorer:r,newSuffix:o,newItem:i,lotcode1:n,lotcode2:u,lotcode3:d,building:p,floor:m,aisle:E,slot:C,quantity:O,condition:S,option:D}).pipe((0,c.X)(1),(0,f.K)(this.httpError))}httpError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,(0,T._)(()=>new Error(e))}}return g.\u0275fac=function(t){return new(t||g)(h.LFG(_.eN))},g.\u0275prov=h.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},85849:(M,L,l)=>{l.r(L),l.d(L,{ShelfLifeItemComponent:()=>n});var _=l(24006),c=l(70879),f=l(86385),T=l(48529),P=l(35226),h=l.n(P),a=l(94650),g=l(19132),I=l(44285),t=l(97392),e=l(4859),s=l(59549),r=l(44144),o=l(73546),i=l(39505);let n=(()=>{class u{constructor(p,m,E){this.router=p,this.fb=m,this.itemSvc=E,this.styles=["1","2","3","4","5","6"],this.types=["E","M","L"],this.styleOptions=[],this.ItemBaseUrl="/main-nav/item/read"}ngOnInit(){this.element=history.state,this.fetchLotTypes(),this.form=this.fb.group({SLSTOR:this.element[0].StorerNumber+"\xa0"+this.element[0].StorerSuffix,SLITEM:this.element[0].ItemNumber,SLLTTP:[this.element[1].SLLTTP,_.kI.required],SLDTTP:[this.element[1].SLDTTP,_.kI.required],SLEDT4:[this.element[1].SLEDT4,[_.kI.pattern("^[0-9]{1,5}$"),_.kI.maxLength(5)]],status:this.element[1].SLSTAT})}fetchLotTypes(){this.itemSvc.lotStyles().subscribe(p=>{this.styleOptions=p.filter(m=>m.SLLTTP&&""!==m.SLLTTP.trim()).map(m=>m.SLLTTP)})}ShelfLife(){var p=this.form.value;this.shelfLifeSubscription&&this.shelfLifeSubscription.unsubscribe(),this.shelfLifeSubscription=this.itemSvc.shelfLife(this.element[0].StorerNumber,this.element[0].StorerSuffix,this.element[0].ItemNumber,p.SLLTTP,p.SLDTTP,0,0,0,p.SLEDT4).subscribe(m=>{const C=m[0].data[m[0].data.length-1].value;C.toUpperCase()===T.R.updated.toUpperCase()?(this.successMessage(C),this.router.navigate([this.ItemBaseUrl])):this.failureMessage(C)})}successMessage(p){h().fire(p,"","success")}failureMessage(p){h().fire(p,"","error")}ngOnDestroy(){this.shelfLifeSubscription&&this.shelfLifeSubscription.unsubscribe()}onBack(){this.router.navigate([this.ItemBaseUrl])}}return u.\u0275fac=function(p){return new(p||u)(a.Y36(g.F0),a.Y36(_.qu),a.Y36(I.l))},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-shelf-life-item"]],standalone:!0,features:[a.jDz],decls:31,vars:3,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SLSTOR","readonly",""],["matInput","","formControlName","SLITEM","readonly",""],["appearance","outline","formControlName","SLLTTP","label","Lot Style*","required","",3,"options"],["formControlName","SLDTTP","label","Lot Date Type*","appearance","outline","required","",3,"options"],["matInput","","formControlName","SLEDT4","maxlength","5"],["matInput","","formControlName","status","readonly",""],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(p,m){1&p&&(a.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),a.NdJ("click",function(){return m.onBack()}),a.TgZ(4,"mat-icon"),a._uU(5,"navigate_before "),a.qZA()(),a._uU(6,"Maintain Shelf Life"),a.qZA()(),a.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),a._uU(13," Storer Number"),a.qZA(),a._UZ(14,"input",8),a.qZA(),a.TgZ(15,"mat-form-field",7)(16,"mat-label"),a._uU(17,"Item Number "),a.qZA(),a._UZ(18,"input",9),a.qZA(),a._UZ(19,"custom-input-autocomplete",10)(20,"custom-input-autocomplete",11),a.TgZ(21,"mat-form-field",7)(22,"mat-label"),a._uU(23," Total expiration days "),a.qZA(),a._UZ(24,"input",12),a.qZA(),a.TgZ(25,"mat-form-field",7)(26,"mat-label"),a._uU(27," Status"),a.qZA(),a._UZ(28,"input",13),a.qZA()()(),a.TgZ(29,"button",14),a.NdJ("click",function(){return m.ShelfLife()}),a._uU(30,"Submit "),a.qZA()()()()),2&p&&(a.xp6(8),a.Q6J("formGroup",m.form),a.xp6(11),a.Q6J("options",m.styleOptions),a.xp6(1),a.Q6J("options",m.types))},dependencies:[c.m,_._Y,_.Fj,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,t.Hw,e.lW,s.KE,s.hX,r.Nt,o.a8,o.dk,o.dn,o.n5,f.j,i.L]}),u})()}}]);