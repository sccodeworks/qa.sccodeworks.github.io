"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3134,34894,26628,23128,70096,49741],{34894:(X,v,r)=>{r.d(v,{e:()=>_});var T=r(94650),l=r(24006);let _=(()=>{class b{constructor(C,U){this.el=C,this.control=U}onInputChange(C){const U=this.el.nativeElement,t=U.value.toUpperCase();U.value=t,this.control&&this.control.control&&this.control.control.setValue(t,{emitEvent:!1})}}return b.\u0275fac=function(C){return new(C||b)(T.Y36(T.SBq),T.Y36(l.a5))},b.\u0275dir=T.lG2({type:b,selectors:[["","appUppercase",""]],hostBindings:function(C,U){1&C&&T.NdJ("input",function(S){return U.onInputChange(S)})},standalone:!0}),b})()},3134:(X,v,r)=>{r.r(v),r.d(v,{CustomersComponent:()=>xt});var T=r(15861),l=r(24006),_=r(65412),b=r(35226),Z=r.n(b),C=r(70879),U=r(48529),t=r(94650),S=r(19132),c=r(23128),u=r(97392),p=r(4859),d=r(59549),g=r(44144),A=r(84385),N=r(3238),f=r(73546);let y=(()=>{class n{constructor(e,s,o,i,m){this.data=e,this.dialogRef=s,this.router=o,this.fb=i,this.CustomersService=m,this.user=localStorage.getItem("userName"),this.url="/main-nav/customers/read"}ngOnDestroy(){this.customerSubscription&&this.customerSubscription.unsubscribe()}ngOnInit(){this.form=this.fb.group({CUST:this.data.WKCUST+"\xa0"+this.data.CUSFX+"\xa0"+this.data.CUSSFX,CUNAME:[this.data.CUNAME,[l.kI.required]],CUADD1:this.data.CUADD1,CUADD2:this.data.CUADD2,CUADD3:this.data.CUADD3,CUZIP:[this.data.CUZIP,[l.kI.pattern("[0-9]{5}"),l.kI.required]],CUZSFX:[this.data.CUZSFX,[l.kI.pattern("[0-9]{0,4}")]],CUPHAR:[this.data.CUPHAR,[l.kI.pattern("[0-9]{0,3}")]],CUPHEX:[this.data.CUPHEX,[l.kI.pattern("[0-9]{0,3}")]],CUPHNU:[this.data.CUPHNU,[l.kI.pattern("[0-9]{0,4}")]],CUFXAR:[this.data.CUFXAR,[l.kI.pattern("[0-9]{0,3}")]],CUFXEX:[this.data.CUFXEX,[l.kI.pattern("[0-9]{0,3}")]],CUFXNU:[this.data.CUFXNU,[l.kI.pattern("[0-9]{0,4}")]],CUCPER:this.data.CUCPER,CUSORT:this.data.CUSORT,CUSTPR:this.data.CUSTPR})}customersUpdate(){var e=this.form.value;const s=(o,i)=>String(o).padStart(i,"0");this.customerSubscription&&this.customerSubscription.unsubscribe(),this.customerSubscription=this.CustomersService.CustomersUpdate(this.data.WKCUST,this.data.CUSFX,this.data.CUSSFX,e.CUNAME,e.CUADD1,e.CUADD2,e.CUADD3,e.CUZIP,e.CUZSFX,s(e.CUPHAR,3),s(e.CUPHEX,3),s(e.CUPHNU,4),s(e.CUFXAR,3),s(e.CUFXEX,3),s(e.CUFXNU,4),e.CUCPER,e.CUSORT,e.CUSTPR,this.user).subscribe(o=>{const m=JSON.parse(o[0].data[o[0].data.length-1].value).returnedData.message;m===U.R.updateMsg?(this.successMessage(m),this.closeDialog(),this.router.navigate([this.url])):this.failureMessage(m)})}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.WI),t.Y36(_.so),t.Y36(S.F0),t.Y36(l.qu),t.Y36(c.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-update"]],standalone:!0,features:[t.jDz],decls:115,vars:2,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","CUST"],["matInput","","formControlName","CUNAME"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline",1,"full-width","w-50"],["matInput","","formControlName","CUADD1"],["matInput","","formControlName","CUADD2"],["matInput","","formControlName","CUADD3"],["matInput","","required","","formControlName","CUZIP","maxlength","5"],["matInput","","formControlName","CUZSFX","maxlength","4"],["matInput","","formControlName","CUPHAR","maxlength","3"],["matInput","","formControlName","CUPHEX","maxlength","3"],["matInput","","formControlName","CUPHNU","maxlength","4"],["matInput","","formControlName","CUFXAR","maxlength","3"],["matInput","","formControlName","CUFXEX","maxlength","3"],["matInput","","formControlName","CUFXNU","maxlength","4"],["matInput","","formControlName","CUCPER"],["matInput","","formControlName","CUSORT"],["formControlName","CUSTPR"],["value","Y"],["value","N"],[1,"footer"],["mat-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4," Customer Maintenance"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Customer"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Customer Name "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"div",10)(21,"label",11),t._uU(22,"Address"),t.qZA(),t.TgZ(23,"div",12)(24,"mat-form-field",13)(25,"mat-label"),t._uU(26," Address1 "),t.qZA(),t._UZ(27,"input",14),t.qZA(),t.TgZ(28,"mat-form-field",13)(29,"mat-label"),t._uU(30," Address 2"),t.qZA(),t._UZ(31,"input",15),t.qZA(),t.TgZ(32,"mat-form-field",13)(33,"mat-label"),t._uU(34," Address 3"),t.qZA(),t._UZ(35,"input",16),t.qZA()()(),t.TgZ(36,"div",10)(37,"label",11),t._uU(38,"Zip Code"),t.qZA(),t.TgZ(39,"div",12)(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Zip Code "),t.qZA(),t._UZ(43,"input",17),t.TgZ(44,"mat-hint"),t._uU(45," Only 5 digits are allowed"),t.qZA()(),t.TgZ(46,"mat-form-field",7)(47,"mat-label"),t._uU(48,"Suffix "),t.qZA(),t._UZ(49,"input",18),t.TgZ(50,"mat-hint"),t._uU(51," Only 4 digits are allowed"),t.qZA()()()(),t.TgZ(52,"div",10)(53,"label",11),t._uU(54,"Phone Number"),t.qZA(),t.TgZ(55,"div",12)(56,"mat-form-field",7)(57,"mat-label"),t._uU(58," Area Code "),t.qZA(),t._UZ(59,"input",19),t.TgZ(60,"mat-hint"),t._uU(61," Only 3 digits are allowed"),t.qZA()(),t.TgZ(62,"mat-form-field",7)(63,"mat-label"),t._uU(64," Exchange Number "),t.qZA(),t._UZ(65,"input",20),t.TgZ(66,"mat-hint"),t._uU(67," Only 3 digits are allowed"),t.qZA()(),t.TgZ(68,"mat-form-field",7)(69,"mat-label"),t._uU(70," Suffix "),t.qZA(),t._UZ(71,"input",21),t.TgZ(72,"mat-hint"),t._uU(73," Only 4 digits are allowed"),t.qZA()()()(),t.TgZ(74,"div",10)(75,"label",11),t._uU(76,"Fax Number"),t.qZA(),t.TgZ(77,"div",12)(78,"mat-form-field",7)(79,"mat-label"),t._uU(80," Area Code "),t.qZA(),t._UZ(81,"input",22),t.TgZ(82,"mat-hint"),t._uU(83," Only 3 digits are allowed"),t.qZA()(),t.TgZ(84,"mat-form-field",7)(85,"mat-label"),t._uU(86,"Exchange Code "),t.qZA(),t._UZ(87,"input",23),t.TgZ(88,"mat-hint"),t._uU(89," Only 3 digits are allowed"),t.qZA()(),t.TgZ(90,"mat-form-field",7)(91,"mat-label"),t._uU(92,"Suffix "),t.qZA(),t._UZ(93,"input",24),t.TgZ(94,"mat-hint"),t._uU(95," Only 4 digits are allowed"),t.qZA()()()(),t.TgZ(96,"mat-form-field",7)(97,"mat-label"),t._uU(98,"Contact Person "),t.qZA(),t._UZ(99,"input",25),t.qZA(),t.TgZ(100,"mat-form-field",7)(101,"mat-label"),t._uU(102,"Sort Field "),t.qZA(),t._UZ(103,"input",26),t.qZA(),t.TgZ(104,"mat-form-field",7)(105,"mat-label"),t._uU(106,"Print Statement"),t.qZA(),t.TgZ(107,"mat-select",27)(108,"mat-option",28),t._uU(109,"Yes"),t.qZA(),t.TgZ(110,"mat-option",29),t._uU(111,"No"),t.qZA()()()()(),t.TgZ(112,"div",30)(113,"button",31),t.NdJ("click",function(){return s.customersUpdate()}),t._uU(114," Update "),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form),t.xp6(104),t.Q6J("disabled",!(s.form.valid&&s.form.dirty)))},dependencies:[C.m,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,u.Hw,p.lW,d.KE,d.bx,d.hX,g.Nt,A.gD,N.ey,f.a8,f.dk,f.dn,f.n5]}),n})(),I=(()=>{class n{constructor(e,s,o,i,m){this.anyvariable=e,this.dialogRef=s,this.router=o,this.fb=i,this.CustomersService=m,this.url="/main-nav/customers/read",this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({CUST:this.anyvariable.WKCUST+"\xa0"+this.anyvariable.CUSFX+"\xa0"+this.anyvariable.CUSSFX,CUNAME:this.anyvariable.CUNAME,XCUST:"",XCUSFX:"",XCUSF2:""})}ngOnDestroy(){this.customerSubscription&&this.customerSubscription.unsubscribe()}WCustomersConsolidate(){var e=this.form.value;this.customerSubscription&&this.customerSubscription.unsubscribe(),this.customerSubscription=this.CustomersService.CustomersConsolidate(U.R.fullSlotAisl(this.anyvariable.WKCUST),this.anyvariable.CUSFX,this.anyvariable.CUSSFX,e.XCUST,e.XCUSFX,e.XCUSF2).subscribe(s=>{const i=s[0].data[s[0].data.length-1].value;JSON.parse(s[0].success&&"DELETED AND CONSOLIDATED REFERENCES TO ANOTHER CUSTOMER"==i)?(this.successMessage(i+":\xa0"+e.XCUST),this.closeDialog(),this.router.navigate([this.url])):this.failureMessage(i+":\xa0"+e.XCUST)})}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.WI),t.Y36(_.so),t.Y36(S.F0),t.Y36(l.qu),t.Y36(c.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customer-consolidate"]],standalone:!0,features:[t.jDz],decls:38,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","CUST"],["readonly","","matInput","","formControlName","CUNAME",2,"text-transform","uppercase"],[1,"row-break-label"],["for","inputField",1,"form-heading"],["required","","matInput","","formControlName","XCUST","maxlength","4"],["matInput","","formControlName","XCUSFX","maxlength","2"],["matInput","","formControlName","XCUSF2","maxlength","2"],[1,"footer"],["mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Consolidate a Customer"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Customer Number"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Customer Name"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"div",10)(21,"label",11),t._uU(22,"Consolidate References to Customer "),t.qZA()(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Customer Code"),t.qZA(),t._UZ(26,"input",12),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"Suffix1"),t.qZA(),t._UZ(30,"input",13),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Suffix2"),t.qZA(),t._UZ(34,"input",14),t.qZA()()(),t.TgZ(35,"div",15)(36,"button",16),t.NdJ("click",function(){return s.WCustomersConsolidate()}),t._uU(37,"Consolidate"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form))},dependencies:[C.m,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,u.Hw,p.lW,d.KE,d.hX,g.Nt,f.a8,f.dk,f.dn,f.n5],styles:[".form-heading[_ngcontent-%COMP%]{display:block;width:300px}"]}),n})();var F=r(56413),h=r(7155),D=r(98739),w=r(334),q=r(77579),E=r(78372),M=r(71884),R=r(36895),J=r(80529),k=r(28255),H=r(10266),Q=r(90455),B=r(34894);function L(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35)(2,"div",36)(3,"span",37),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",38),t.NdJ("ngModelChange",function(o){const m=t.CHM(e).$implicit;return t.KtG(m.isActive=o)})("change",function(){const i=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(i))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&n){const e=a.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function K(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchCustomers())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA(),t.TgZ(3,"span"),t._uU(4," Filter"),t.qZA()()}}function G(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchCustomers())}),t._UZ(1,"img",41),t.TgZ(2,"span"),t._uU(3," Filter"),t.qZA()()}}function z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"form",42),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getCustomerBySearch(o.form.value))}),t.TgZ(1,"div",35)(2,"div",43)(3,"mat-form-field",44)(4,"mat-label"),t._uU(5,"Customer Number"),t.qZA(),t._UZ(6,"input",45),t.qZA(),t.TgZ(7,"mat-form-field",44)(8,"mat-label"),t._uU(9,"Name"),t.qZA(),t._UZ(10,"input",46),t.qZA()()(),t.TgZ(11,"div",47)(12,"button",48),t._uU(13," Search "),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form)}}function W(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Customer"),t.qZA())}function j(n,a){if(1&n&&(t.TgZ(0,"td",50),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.WKCUST," ")}}function V(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Name"),t.qZA())}function tt(n,a){if(1&n&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.CUNAME)}}function et(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Phone"),t.qZA())}function st(n,a){if(1&n&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.lnq(" ",e.CUPHAR,"\xa0",e.CUPHEX,"-",e.CUPHNU," ")}}function nt(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Contact"),t.qZA())}function ot(n,a){if(1&n&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e.CUCPER)}}function at(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Fax"),t.qZA())}function it(n,a){if(1&n&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.lnq(" ",e.CUFXAR,"\xa0",e.CUFXEX,"-",e.CUFXNU," ")}}function rt(n,a){1&n&&(t.TgZ(0,"th",49),t._uU(1,"Address"),t.qZA())}function lt(n,a){if(1&n&&(t.TgZ(0,"td",51),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.lnq(" ",e.CUADD1,"",e.CUADD2,"",e.CUADD3," ")}}function ct(n,a){1&n&&(t.TgZ(0,"th",52),t._uU(1," Actions "),t.qZA())}function ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){const i=t.CHM(e).$implicit,m=t.oxw().$implicit,x=t.oxw();return t.KtG(x.executeAction(i,m))}),t._UZ(1,"img",69),t.TgZ(2,"span",70),t._uU(3),t.qZA()()}if(2&n){const e=a.$implicit;t.Q6J("color",e.color),t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.label)}}function mt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",78)(1,"button",79),t.NdJ("click",function(){const i=t.CHM(e).$implicit,m=t.oxw(2).$implicit,x=t.oxw();return t.KtG(x.handleRecentClick(i,m))}),t._uU(2),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function dt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",71)(1,"div",72)(2,"span",73),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clearRecentSearches())}),t.TgZ(5,"span",75),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",76),t.YNc(8,mt,3,1,"li",77),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function pt(n,a){1&n&&(t.TgZ(0,"li",80)(1,"div",81)(2,"mat-icon",82),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",83),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",84),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function ht(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"img",87),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function Ct(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function gt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",85)(1,"button",79),t.NdJ("click",function(){const i=t.CHM(e).$implicit,m=t.oxw().$implicit,x=t.oxw();return t.KtG(x.handleItemClick(i,m))}),t.YNc(2,ht,2,2,"ng-container",86),t.YNc(3,Ct,3,1,"ng-container",86),t._uU(4),t.qZA()()}if(2&n){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function ft(n,a){if(1&n&&(t.ynx(0),t._UZ(1,"img",91),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function _t(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",92),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function Ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"li",88)(1,"button",79),t.NdJ("click",function(){const i=t.CHM(e).$implicit,m=t.oxw().$implicit,x=t.oxw();return t.KtG(x.handleItemClick(i,m))}),t.TgZ(2,"div",89),t.YNc(3,ft,2,2,"ng-container",86),t.YNc(4,_t,3,1,"ng-container",86),t.TgZ(5,"span",90),t._uU(6),t.qZA()()()()}if(2&n){const e=a.$implicit,s=t.oxw(2);t.Q6J("hidden",s.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function Zt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",51)(1,"div",53)(2,"button",54),t._UZ(3,"img",55),t.qZA(),t.TgZ(4,"ul",56)(5,"li",57),t.YNc(6,ut,4,4,"button",58),t.qZA(),t.TgZ(7,"li",59)(8,"mat-form-field",60)(9,"input",61),t.NdJ("ngModelChange",function(o){t.CHM(e);const i=t.oxw();return t.KtG(i.searchDropdownText=o)})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onSearchChange())}),t.qZA()()(),t.YNc(10,dt,9,1,"li",62),t.TgZ(11,"div",63),t._UZ(12,"hr",64),t.qZA(),t.YNc(13,pt,8,0,"li",65),t.YNc(14,gt,5,3,"li",66),t.YNc(15,Ut,7,4,"li",67),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.headerActions),t.xp6(3),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function Tt(n,a){1&n&&t._UZ(0,"tr",93)}function bt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"tr",94),t.NdJ("click",function(){const i=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.rowClick(i.id))}),t.qZA()}if(2&n){const e=a.$implicit,s=t.oxw();t.ekj("selected",s.selectedRow==e.id)}}function St(n,a){1&n&&(t.TgZ(0,"div",95),t._UZ(1,"img",96),t.TgZ(2,"h3",97),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",98),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const At=function(){return[8,16,24]};let xt=(()=>{class n{constructor(e,s,o,i,m){this.fb=e,this.router=s,this.matDialog=o,this.CustomersService=i,this.http=m,this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.allData=[],this.isLoading=!0,this.noData=!1,this.filteredData=[],this.pageData=[],this.isSearchMode=!1,this.form=this.fb.group({CUST:"",NAME:""}),this.displayedColumns=["Customer","Name","Phone","Contact","Actions"],this.searchTextDisplay=!1,this.dataSource=new h.by,this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.id=0,this.pageNumber=1,this.columnShowHideList=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.searchKeywords=[],this.searchInput$=new q.x,this.url="/main-nav/Customer-Attributes/read",this.url1="/main-nav/Customer-Inquiry/read",this.outputMsg="Report Generated Successfully",this.today=new Date,this.todayDate=(0,R.p6)(this.today,"MM-dd-yyyy","en-US")}ngOnDestroy(){this.customerSubscription&&this.customerSubscription.unsubscribe()}toggleColumn(e){if(e.isActive)e.position>this.displayedColumns.length-1?this.displayedColumns.push(e.name):this.displayedColumns.splice(e.position,0,e.name);else{let s=this.displayedColumns.indexOf(e.name);s>-1&&this.displayedColumns.splice(s,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,s)=>{"Actions"!=e&&this.columnShowHideList.push({position:s,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Fax",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Address",isActive:!1})}ngOnInit(){this.initializeColumnProperties(),this.getCustomers(this.pageSize,this.pageNumber),this.searchInput$.pipe((0,E.b)(500),(0,M.x)()).subscribe(s=>{this.handleSearch(s)}),this.http.get("assets/jsondata/customers.json").subscribe(s=>{this.headerActions=s.header,this.menuItems=s.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=s.search;const o=localStorage.getItem("recentSearches");if(o){const i=JSON.parse(o);this.recentSearches=this.menuItems.filter(m=>i.includes(m.label))}this.filteredRecentSearches=[...this.recentSearches]})}handleSearch(e){if(!(e=e.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.noData=!1,this.paginator&&this.paginator.firstPage(),void this.getCustomers(this.pageSize,1);this.isSearchMode=!0,0!==this.allData.length?this.applyManualFilter(e):this.getAllCustomers(()=>this.applyManualFilter(e))}applyManualFilter(e){this.filteredData=this.allData.filter(s=>Object.values(s).some(o=>String(o).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const s=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(s,s+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}getCustomers(e,s){this.isLoading=!0,this.noData=!1,this.dataSource=new h.by([]);const o=this.currentFilters||{},{CUST:i="",NAME:m=""}=o;this.customerSubscription&&this.customerSubscription.unsubscribe(),this.customerSubscription=this.CustomersService.getCustomers(i,this.user,m,e,s).subscribe({next:x=>{this.isLoading=!1;try{const O=JSON.parse(x?.[0]?.data?.[1]?.value||"{}"),$=O?.returnedData||[];this.totalRecords=O?.TotalRecords||0,this.allData=[],this.filteredData=[],this.noData=0===$.length,this.dataSource.data=$,this.paginator&&(this.paginator.length=this.totalRecords)}catch(P){console.error(" Parse error:",P),this.handleCustomerNoData()}},error:()=>this.handleCustomerNoData()})}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):this.getCustomers(e.pageSize,e.pageIndex+1)}getAllCustomers(e){var s=this;return(0,T.Z)(function*(){if(s.allData?.length>0)return void e?.();s.isLoading=!0,s.noData=!1,s.dataSource=new h.by([]);const o=s.currentFilters||{},{CUST:i="",NAME:m=""}=o;let P=1,O=[];for(;;){const vt=(yield s.CustomersService.getCustomers(i,s.user,m,200,P).toPromise())?.[0]?.data?.[1]?.value||"{}",Y=JSON.parse(vt)?.returnedData||[];if(O.push(...Y),Y.length<200)break;P++}s.allData=O,s.totalRecords=O.length,s.isLoading=!1,e?.()})()}convertDate(e){const[s,o,i]=e.split("-");return`${o}-${i}-${s}`}createFilter(){return(e,s)=>{const o=JSON.parse(s);return Object.keys(o).every(i=>e[i].toString().toLowerCase().includes(o[i].toLowerCase()))}}handleCustomerNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new h.by([])}resetSearch(){this.form.reset(),this.currentFilters=null,this.dataSource.filter="",this.allData=[],this.paginator.firstPage(),this.getCustomers(this.pageSize,this.pageNumber)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(s=>s.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(s=>s.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(s=>s.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}handleItemClick(e,s){this.executeAction(e,s),this.addToRecentSearches(e)}executeAction(e,s){"function"==typeof this[e.action]?this[e.action](s):console.warn("Action not implemented:",e.action)}handleRecentClick(e,s){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](s),this.addToRecentSearches(e)}getCustomerBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getCustomers(this.pageSize,this.pageNumber)}applyGlobalFilterInput(e){this.searchInput$.next(e)}customersCreate(){this.matDialog.open(F.CustomerAddComponent,{panelClass:"right-dialog",autoFocus:!1})}rowClick(e){this.selectedRow=e}customersUpdate(e){this.matDialog.open(y,{panelClass:"right-dialog",data:e,autoFocus:!1})}wCustomersConsolidate(e){this.matDialog.open(I,{panelClass:"right-dialog",data:e,autoFocus:!1})}storerAccount(e){this.matDialog.open(w.n,{panelClass:"right-dialog",data:e,autoFocus:!1})}attributes(e){this.router.navigateByUrl(this.url,{state:e})}inquiry(e){this.router.navigateByUrl(this.url1,{state:e})}prependZero(e,s){return e.toString().padStart(s,"0")}statement(e){this.customerSubscription&&this.customerSubscription.unsubscribe(),this.customerSubscription=this.CustomersService.customerStatement(this.prependZero(e.WKCUST,4),e.CUSFX,e.CUSSFX,this.todayDate,"","").subscribe(s=>{const i=s[0].data[s[0].data.length-1].value;i?.toUpperCase()===this.outputMsg.toUpperCase()?this.successMessage(i):this.failureMessage(i)})}searchCustomers(){this.searchTextDisplay=1!=this.searchTextDisplay}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(S.F0),t.Y36(_.uw),t.Y36(c.v),t.Y36(J.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-customers"]],viewQuery:function(e,s){if(1&e&&t.Gf(D.NW,5),2&e){let o;t.iGM(o=t.CRH())&&(s.paginator=o.first)}},standalone:!0,features:[t.jDz],decls:53,vars:13,consts:[[1,"over-Flow"],[1,"header-buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Customers",3,"click",4,"ngIf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Customers",1,"addButton","buttons",3,"click"],["mat-button","","matTooltip","Add New Customer",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Customer"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Name"],["mat-cell","",4,"matCellDef"],["matColumnDef","Phone"],["matColumnDef","Contact"],["matColumnDef","Fax"],["matColumnDef","Address"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"selected","click",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"row"],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Customers",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","CUST"],["matInput","","formControlName","NAME","appUppercase",""],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row","",3,"click"],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,s){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-menu",2,3)(5,"div",4),t.YNc(6,L,6,2,"ng-container",5),t.qZA()(),t.TgZ(7,"mat-form-field",6)(8,"mat-icon",7),t._uU(9,"search"),t.qZA(),t.TgZ(10,"input",8),t.NdJ("input",function(i){return s.applyGlobalFilterInput(i.target.value)}),t.qZA()(),t.YNc(11,K,5,0,"button",9),t.YNc(12,G,4,0,"button",10),t.TgZ(13,"button",11,12),t._UZ(15,"img",13),t.qZA(),t.TgZ(16,"button",14),t.NdJ("click",function(){return s.resetSearch()}),t.TgZ(17,"mat-icon"),t._uU(18,"loop"),t.qZA()(),t.TgZ(19,"button",15),t.NdJ("click",function(){return s.customersCreate()}),t.TgZ(20,"mat-icon"),t._uU(21,"add"),t.qZA(),t.TgZ(22,"span"),t._uU(23,"Create Customer"),t.qZA()()()(),t.TgZ(24,"mat-card-content",16),t.YNc(25,z,14,1,"form",17),t.qZA(),t.TgZ(26,"table",18),t.ynx(27,19),t.YNc(28,W,2,0,"th",20),t.YNc(29,j,2,1,"td",21),t.BQk(),t.ynx(30,22),t.YNc(31,V,2,0,"th",20),t.YNc(32,tt,2,1,"td",23),t.BQk(),t.ynx(33,24),t.YNc(34,et,2,0,"th",20),t.YNc(35,st,2,3,"td",23),t.BQk(),t.ynx(36,25),t.YNc(37,nt,2,0,"th",20),t.YNc(38,ot,2,1,"td",23),t.BQk(),t.ynx(39,26),t.YNc(40,at,2,0,"th",20),t.YNc(41,it,2,3,"td",23),t.BQk(),t.ynx(42,27),t.YNc(43,rt,2,0,"th",20),t.YNc(44,lt,2,3,"td",23),t.BQk(),t.ynx(45,28),t.YNc(46,ct,2,0,"th",29),t.YNc(47,Zt,16,6,"td",23),t.BQk(),t.YNc(48,Tt,1,0,"tr",30),t.YNc(49,bt,1,2,"tr",31),t.qZA(),t.YNc(50,St,6,0,"div",32),t.TgZ(51,"mat-paginator",33,34),t.NdJ("page",function(i){return s.onPaginateChange(i)}),t.qZA()()),2&e){const o=t.MAs(4);t.xp6(6),t.Q6J("ngForOf",s.columnShowHideList),t.xp6(5),t.Q6J("ngIf",s.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!s.searchTextDisplay),t.xp6(1),t.Q6J("matMenuTriggerFor",o),t.xp6(12),t.Q6J("ngIf",s.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",s.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("ngIf",!s.isLoading&&s.noData),t.xp6(1),t.Q6J("length",s.totalRecords)("pageSizeOptions",t.DdM(12,At))("pageSize",s.pageSize)}},dependencies:[C.m,R.sg,R.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,D.NW,u.Hw,k.VK,k.p6,p.lW,d.KE,d.hX,d.qo,g.Nt,f.a8,f.dk,f.dn,h.BZ,h.fO,h.as,h.w1,h.Dz,h.nj,h.ge,h.ev,h.XQ,h.Gk,H.gM,Q.Rr,B.e]}),n})()},23128:(X,v,r)=>{r.d(v,{v:()=>U});var T=r(80529),l=r(75625),_=r(70262),b=r(62843),Z=r(92340),C=r(94650);let U=(()=>{class t{constructor(c){this.httpClient=c,this.url=Z.N.API_BASE_URL,this.httpHeader={headers:new T.WM({"Content-Type":"application/json"})},this.update="/Customers/update",this.create="/Customers/create",this.consolidate="/Customers/consolidate",this.statement="/Customers/statement"}getCustomers(c,u,p,d,g){return this.httpClient.get(this.url+"/Customers/read",{params:{customerCode:c??"",user:u,customerName:p??"",recordsPerPage:d??"",pageNo:g??""}})}CustomersCreate(c,u,p,d,g,A,N,f,y,I,F,h,D,w,q,E,M,R,J){return this.httpClient.post(this.url+this.create,{CUST:c,CUSFX:u,CUSSFX:p,CUNAME:d,CUADD1:g,CUADD2:A,CUADD3:N,CUZIP:f,CUZSFX:y,CUPHAR:I,CUPHEX:F,CUPHNU:h,CUFXAR:D,CUFXEX:w,CUFXNU:q,CUCPER:E,CUSORT:M,CUSTPR:R,user:J}).pipe((0,l.X)(1),(0,_.K)(this.httpError))}CustomersUpdate(c,u,p,d,g,A,N,f,y,I,F,h,D,w,q,E,M,R,J){return this.httpClient.put(this.url+this.update,{CUST:c,CUSFX:u,CUSSFX:p,CUNAME:d,CUADD1:g,CUADD2:A,CUADD3:N,CUZIP:f,CUZSFX:y,CUPHAR:I,CUPHEX:F,CUPHNU:h,CUFXAR:D,CUFXEX:w,CUFXNU:q,CUCPER:E,CUSORT:M,CUSTPR:R,user:J}).pipe((0,l.X)(1),(0,_.K)(this.httpError))}CustomersConsolidate(c,u,p,d,g,A){return this.httpClient.put(this.url+this.consolidate,{customerNumber:c,suffix1:u,suffix2:p,refCustNumber:d,refCustsfx1:g,refCustsfx2:A}).pipe((0,l.X)(1),(0,_.K)(this.httpError))}AccountAttributes(c,u,p,d,g,A){return this.httpClient.get(this.url+`/Customers/read/accountAttribute?customer=${c}&user=${u}&suffix1=${p}&suffix2=${d}&recordsPerPage=${g}&pageNo=${A}`)}AgingInquiryRead(c,u,p,d,g,A,N,f,y,I,F,h,D,w,q,E,M){return this.httpClient.get(this.url+`/Customers/ARInquiry/read?user=${c}&customerNumber=${u}&suffix1=${p}&suffix2=${d}&agingDate=${g}&includeType1=${A}&includeType2=${N}&includeType3=${f}&includeType4=${y}&includeType5=${I}&omitType1=${F}&omitType2=${h}&omitType3=${D}&omitType4=${w}&omitType5=${q}&recordsPerPage=${E}&pageNo=${M}`)}AgingInquiryInq(c,u,p,d){return this.httpClient.get(this.url+`/Customers/ARInquiry/inquiry?user=${c}&invoice=${u}&recordsPerPage=${p}&pageNo=${d}`)}customerStatement(c,u,p,d,g,A){return this.httpClient.put(this.url+this.statement,{customerNumber:c,suffix1:u,suffix2:p,date:d,inn:g,om:A}).pipe((0,l.X)(1),(0,_.K)(this.httpError))}httpError(c){let u="";return u=c.error instanceof ErrorEvent?c.error.message:`Error Code: ${c.status}\nMessage: ${c.message}`,console.log(u),(0,b._)(()=>new Error(u))}}return t.\u0275fac=function(c){return new(c||t)(C.LFG(T.eN))},t.\u0275prov=C.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},15861:(X,v,r)=>{function T(_,b,Z,C,U,t,S){try{var c=_[t](S),u=c.value}catch(p){return void Z(p)}c.done?b(u):Promise.resolve(u).then(C,U)}function l(_){return function(){var b=this,Z=arguments;return new Promise(function(C,U){var t=_.apply(b,Z);function S(u){T(t,C,U,S,c,"next",u)}function c(u){T(t,C,U,S,c,"throw",u)}S(void 0)})}}r.d(v,{Z:()=>l})}}]);