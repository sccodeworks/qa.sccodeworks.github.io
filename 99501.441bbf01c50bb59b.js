"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[99501],{99501:(ue,g,i)=>{i.r(g),i.d(g,{WwReservedSpacesComponent:()=>le});var S=i(98739),c=i(7155),w=i(70879),e=i(94650),l=i(24006),_=i(19132),A=i(65412),T=i(80529),N=i(62843),b=i(92340);let y=(()=>{class n{constructor(t){this.httpClient=t,this.url=b.N.API_BASE_URL,this.httpHeader={headers:new T.WM({"Content-Type":"application/json"})}}getReservedSpaces(t,s,a,r,m,u,d,h,f){return this.httpClient.get(this.url+"/ReservedSpace/read",{params:{user:t,trans:s??"",docnum:a??"",location:r??"",storer:m??"",suffix:u??"",item:d??"",recordsPerPage:h??"",pageNo:f??""}})}httpError(t){let s="";return s=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(s),(0,N._)(()=>new Error(s))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(T.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=i(36895),W=i(97392),C=i(28255),U=i(4859),Z=i(59549),D=i(44144),p=i(73546),q=i(10266),L=i(90455);function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.searchReservedSpace())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA()()}}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.searchReservedSpace())}),e.TgZ(1,"mat-icon"),e._uU(2,"search"),e.qZA()()}}function I(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"span",31),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(1,"mat-slide-toggle",32),e.NdJ("ngModelChange",function(a){const m=e.CHM(t).$implicit;return e.KtG(m.isActive=a)})("change",function(){const r=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.toggleColumn(r))}),e._uU(2),e.qZA(),e._UZ(3,"br"),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngModel",t.isActive),e.xp6(1),e.hij(" ",t.name," ")}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",33),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getBySearch(a.form.value))}),e.TgZ(1,"div",34)(2,"div",35)(3,"mat-form-field",36)(4,"mat-label"),e._uU(5,"Document"),e.qZA(),e._UZ(6,"input",37),e.qZA(),e.TgZ(7,"mat-form-field",36)(8,"mat-label"),e._uU(9,"Item"),e.qZA(),e._UZ(10,"input",38),e.qZA(),e.TgZ(11,"div",39)(12,"label",40),e._uU(13,"Storer"),e.qZA(),e.TgZ(14,"div",41)(15,"mat-form-field",36)(16,"mat-label"),e._uU(17,"Storer Number"),e.qZA(),e._UZ(18,"input",42),e.qZA(),e.TgZ(19,"mat-form-field",36)(20,"mat-label"),e._uU(21,"Suffix"),e.qZA(),e._UZ(22,"input",43),e.qZA()()(),e.TgZ(23,"mat-form-field",36)(24,"mat-label"),e._uU(25,"Transaction"),e.qZA(),e._UZ(26,"input",44),e.qZA(),e.TgZ(27,"mat-form-field",36)(28,"mat-label"),e._uU(29,"Location"),e.qZA(),e._UZ(30,"input",45),e.qZA()()(),e.TgZ(31,"button",46),e._uU(32," Search "),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.form)}}function F(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1,"Transaction Number"),e.qZA())}function E(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSTRAN)}}function H(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Document Number "),e.qZA())}function B(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSDOCN)}}function M(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Line "),e.qZA())}function J(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSLINE)}}function z(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Type "),e.qZA())}function $(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSDOCT)}}function k(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Location "),e.qZA())}function G(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.WKLOCN)}}function K(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Storer "),e.qZA())}function P(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.AsE("",t.RSSTOR," ",t.RSSSFX,"")}}function j(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Status "),e.qZA())}function X(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSSTAT)}}function V(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Item "),e.qZA())}function ee(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSITEM)}}function te(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Lots "),e.qZA())}function ne(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.WKLOTS)}}function oe(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Quantity "),e.qZA())}function se(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.RSQAVL)}}function ae(n,o){1&n&&(e.TgZ(0,"th",47),e._uU(1," Expiration "),e.qZA())}function ie(n,o){if(1&n&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.AsE("",t.WKEDATE," ",t.WKETIME,"")}}function re(n,o){1&n&&e._UZ(0,"tr",49)}function ce(n,o){1&n&&e._UZ(0,"tr",50)}const me=function(){return[8,16,24]};let le=(()=>{class n{constructor(t,s,a,r,m){this.fb=t,this.route=s,this.matDialog=a,this.router=r,this.ReservedSpaces=m,this.displayedColumns=["TransactionNumber","DocumentNumber","Line","Type","Location","Storer","Status"],this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.dataSource=new c.by,this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.columnShowHideList=[]}ngOnInit(){this.initializeColumnProperties(),this.editedRows=[],this.form=this.fb.group({Document:"",Item:"",StorerNumber:"",Suffix:"",Transaction:"",Location:""});const t=this.pageSize,s=this.pageNumber;this.currentFilters=this.form.value,this.getReservedSpaces(t,s),this.dataSource.filterPredicate=this.createFilter()}createFilter(){return(t,s)=>{const a=JSON.parse(s);return Object.keys(a).every(r=>t[r].toString().toLowerCase().includes(a[r].toLowerCase()))}}toggleColumn(t){if(t.isActive)this.displayedColumns.splice(t.position>this.displayedColumns.length-1?this.displayedColumns.length-1:t.position,0,t.name);else{let s=this.displayedColumns.indexOf(t.name);s>-1&&this.displayedColumns.splice(s,1)}console.log(this.displayedColumns)}initializeColumnProperties(){this.displayedColumns.forEach((t,s)=>{"Actions"!=t&&"Item"!=t&&this.columnShowHideList.push({position:s,name:t,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Item",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Quantity",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Expiration",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Lots",isActive:!1}),console.log(this.columnShowHideList)}getReservedSpaces(t,s){const a=this.currentFilters||{},{Document:r="",Item:m="",StorerNumber:u="",Suffix:d="",Transaction:h="",Location:f=""}=a;this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.ReservedSpaces.getReservedSpaces(this.user,h,r,f,u,d,m,t,s).subscribe(R=>{console.log(R);var x=JSON.parse(R[0].data[1]?.value);this.dataSource.data=x.returnedData,this.totalRecords=x.TotalRecords})}getBySearch(t){this.currentFilters=t,this.paginator.firstPage(),this.getReservedSpaces(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset();const t=this.pageSize,s=this.pageNumber;this.currentFilters=null,this.paginator.firstPage(),this.getReservedSpaces(t,s)}onPaginateChange(t){this.pageSize=t.pageSize,this.getReservedSpaces(t.pageSize,t.pageIndex+1)}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}searchReservedSpace(){this.searchTextDisplay=1!=this.searchTextDisplay}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(_.gz),e.Y36(A.uw),e.Y36(_.F0),e.Y36(y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ww-reserved-spaces"]],viewQuery:function(t,s){if(1&t&&e.Gf(S.NW,5),2&t){let a;e.iGM(a=e.CRH())&&(s.paginator=a.first)}},standalone:!0,features:[e.jDz],decls:54,vars:12,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search ReservedSpace",3,"click",4,"ngIf"],["mainMenuButton","matMenu"],[3,"click",4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","TransactionNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","DocumentNumber"],["matColumnDef","Line"],["matColumnDef","Type"],["matColumnDef","Location"],["matColumnDef","Storer"],["matColumnDef","Status"],["matColumnDef","Item"],["matColumnDef","Lots"],["matColumnDef","Quantity"],["matColumnDef","Expiration"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search ReservedSpace",1,"addButton",3,"click"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Document"],["matInput","","formControlName","Item",2,"text-transform","uppercase"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","StorerNumber"],["matInput","","formControlName","Suffix",2,"text-transform","uppercase"],["matInput","","formControlName","Transaction"],["matInput","","formControlName","Location",2,"text-transform","uppercase"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,s){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),e._uU(3," Work With Reserved Space "),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,Y,3,0,"button",3),e.YNc(6,Q,3,0,"button",4),e.TgZ(7,"mat-menu",null,5),e.YNc(9,I,4,2,"span",6),e.qZA(),e.TgZ(10,"button",7,8)(12,"mat-icon"),e._uU(13,"visibility_off"),e.qZA()()()(),e.TgZ(14,"mat-card-content",9),e.YNc(15,O,33,1,"form",10),e.qZA(),e.TgZ(16,"table",11),e.ynx(17,12),e.YNc(18,F,2,0,"th",13),e.YNc(19,E,2,1,"td",14),e.BQk(),e.ynx(20,15),e.YNc(21,H,2,0,"th",13),e.YNc(22,B,2,1,"td",14),e.BQk(),e.ynx(23,16),e.YNc(24,M,2,0,"th",13),e.YNc(25,J,2,1,"td",14),e.BQk(),e.ynx(26,17),e.YNc(27,z,2,0,"th",13),e.YNc(28,$,2,1,"td",14),e.BQk(),e.ynx(29,18),e.YNc(30,k,2,0,"th",13),e.YNc(31,G,2,1,"td",14),e.BQk(),e.ynx(32,19),e.YNc(33,K,2,0,"th",13),e.YNc(34,P,2,2,"td",14),e.BQk(),e.ynx(35,20),e.YNc(36,j,2,0,"th",13),e.YNc(37,X,2,1,"td",14),e.BQk(),e.ynx(38,21),e.YNc(39,V,2,0,"th",13),e.YNc(40,ee,2,1,"td",14),e.BQk(),e.ynx(41,22),e.YNc(42,te,2,0,"th",13),e.YNc(43,ne,2,1,"td",14),e.BQk(),e.ynx(44,23),e.YNc(45,oe,2,0,"th",13),e.YNc(46,se,2,1,"td",14),e.BQk(),e.ynx(47,24),e.YNc(48,ae,2,0,"th",13),e.YNc(49,ie,2,2,"td",14),e.BQk(),e.YNc(50,re,1,0,"tr",25),e.YNc(51,ce,1,0,"tr",26),e.qZA(),e.TgZ(52,"mat-paginator",27,28),e.NdJ("page",function(r){return s.onPaginateChange(r)}),e.qZA()()),2&t){const a=e.MAs(8);e.xp6(5),e.Q6J("ngIf",s.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!s.searchTextDisplay),e.xp6(3),e.Q6J("ngForOf",s.columnShowHideList),e.xp6(1),e.Q6J("matMenuTriggerFor",a),e.xp6(5),e.Q6J("ngIf",s.searchTextDisplay),e.xp6(1),e.Q6J("dataSource",s.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns),e.xp6(1),e.Q6J("length",s.totalRecords)("pageSizeOptions",e.DdM(11,me))("pageSize",s.pageSize)}},dependencies:[w.m,v.sg,v.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,S.NW,W.Hw,C.VK,C.p6,U.lW,Z.KE,Z.hX,D.Nt,p.a8,p.dk,p.dn,p.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,q.gM,L.Rr]}),n})()}}]);