"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9552],{99552:(x,_,o)=>{o.r(_),o.d(_,{InquiryGeneralInvoiceComponent:()=>Y});var l=o(7155),d=o(70879),t=o(94650),h=o(65412),f=o(19132),m=o(24006),T=o(20025),g=o(36895),I=o(98739),C=o(97392),D=o(4859),s=o(59549),A=o(44144),c=o(73546);const v=["paginator"];function Z(e,i){1&e&&(t.TgZ(0,"mat-form-field",7)(1,"mat-label"),t._uU(2,"Invoice Number"),t.qZA(),t._UZ(3,"input",30),t.qZA())}function E(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1," Charge Description "),t.qZA())}function q(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.WKDESC," ")}}function U(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Quantity"),t.qZA())}function y(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.DGQTY)}}function G(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Rate"),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.DGRATE)}}function O(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1," Basis "),t.qZA())}function S(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.DGBASE)}}function b(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1," Amount "),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.DGAMT)}}function B(e,i){1&e&&(t.TgZ(0,"th",31),t._uU(1,"Minimum Charges"),t.qZA())}function R(e,i){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.DGMINM)}}function W(e,i){1&e&&t._UZ(0,"tr",33)}function K(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"tr",34),t.NdJ("click",function(){const u=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.rowClick(u))}),t.qZA()}}const P=function(){return[8,16,24]};let Y=(()=>{class e{constructor(n,a,r,u){this.matDialog=n,this.router=a,this.fb=r,this.GeneralInvoicesSvc=u,this.title="",this.header="",this.MailTo="",this.displayedColumns=["ChargeDescription","Quantity","Rate","Basis","Amount","MinimumCharges"],this.TotalDue=0,this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,this.element&&(this.WKSTAT=this.element.WKSTAT,console.log(this.element)),console.log(this.element),this.form=this.fb.group({BillTo:{value:this.element.WKCUST,disabled:!0},AcctOf:{value:this.element.WKCUST,disabled:!0},RefNo:{value:this.element.WKREF,disabled:!0},CarTr:{value:this.element.WKCAR,disabled:!0},Date:{value:this.element.WKDATE,disabled:!0},Building:{value:this.element.HGBLDG,disabled:!0},invoice:{value:this.element.WKINV,disabled:!0}}),this.getGeneralInvoiceInquiry()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getGeneralInvoiceInquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.GeneralInvoicesSvc.getGeneralInvoiceInquiry(this.user,this.element.WKCTRL,this.element.WKINV).subscribe(n=>{this.TotalDue=0;var r=JSON.parse(n[0].data[1].value);if(this.duplicateSource=r.returnedData,this.dataSource=new l.by(this.duplicateSource),this.MailTo=this.duplicateSource[0].SYNAME+this.duplicateSource[0].SYADD1+this.duplicateSource[0].SYADD2+this.duplicateSource[0].SYADD3,console.log(this.MailTo),"EN"===this.element.WKSTAT?(this.title=this.duplicateSource[0].WKHDG,this.header="Worksheet"):this.title=this.duplicateSource[0].WKHDG,console.log(this.dataSource),this.duplicateSource.length>0){this.dataSource.paginator=this.paginator;for(let u=0;u<this.duplicateSource.length;u++)this.TotalDue+=this.duplicateSource[u].DGAMT,console.log(this.TotalDue)}})}rowClick(n){this.selectedRow=n}onBack(){this.router.navigate(["/main-nav/generalInvoice/read"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.uw),t.Y36(f.F0),t.Y36(m.qu),t.Y36(T.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inquiry-general-invoice"]],viewQuery:function(n,a){if(1&n&&t.Gf(v,5),2&n){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:70,vars:11,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline","class","full-width",4,"ngIf"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillTo"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","AcctOf"],["matInput","","formControlName","RefNo"],["matInput","","formControlName","CarTr"],["matInput","","formControlName","Date"],["matInput","","formControlName","Building"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ChargeDescription"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Quantity"],["matColumnDef","Rate"],["matColumnDef","Basis"],["matColumnDef","Amount"],["matColumnDef","MinimumCharges"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["matInput","","formControlName","invoice"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,a){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5),t.YNc(11,Z,4,0,"mat-form-field",6),t.TgZ(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Bill To"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",9)(17,"mat-label"),t._uU(18,"AcctOf"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"RefNo"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",9)(25,"mat-label"),t._uU(26,"CarTr"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Date"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Building"),t.qZA(),t._UZ(35,"input",14),t.qZA()()()()(),t.TgZ(36,"table",15),t.ynx(37,16),t.YNc(38,E,2,0,"th",17),t.YNc(39,q,2,1,"td",18),t.BQk(),t.ynx(40,19),t.YNc(41,U,2,0,"th",17),t.YNc(42,y,2,1,"td",18),t.BQk(),t.ynx(43,20),t.YNc(44,G,2,0,"th",17),t.YNc(45,M,2,1,"td",18),t.BQk(),t.ynx(46,21),t.YNc(47,O,2,0,"th",17),t.YNc(48,S,2,1,"td",18),t.BQk(),t.ynx(49,22),t.YNc(50,b,2,0,"th",17),t.YNc(51,N,2,1,"td",18),t.BQk(),t.ynx(52,23),t.YNc(53,B,2,0,"th",17),t.YNc(54,R,2,1,"td",18),t.BQk(),t.YNc(55,W,1,0,"tr",24),t.YNc(56,K,1,0,"tr",25),t.qZA(),t._UZ(57,"br"),t.TgZ(58,"div",26)(59,"button",27),t._UZ(60,"br"),t.TgZ(61,"b"),t._uU(62),t.qZA()()(),t.TgZ(63,"div",26)(64,"button",27),t._UZ(65,"br"),t.TgZ(66,"b"),t._uU(67),t.qZA()()(),t._UZ(68,"mat-paginator",28,29),t.qZA()),2&n&&(t.xp6(6),t.AsE(" ",a.title," \xa0",a.header,""),t.xp6(2),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("ngIf","AR"===a.WKSTAT),t.xp6(25),t.Q6J("dataSource",a.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(6),t.hij(" Mail Payment to : ",a.MailTo," "),t.xp6(5),t.hij(" Total Due :$ ",a.TotalDue,""),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(10,P)))},dependencies:[d.m,g.O5,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,I.NW,C.Hw,D.lW,s.KE,s.hX,A.Nt,c.a8,c.dk,c.dn,c.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk]}),e})()}}]);