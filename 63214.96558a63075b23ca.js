"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[63214,11790,38754,85645],{11790:(Y,M,c)=>{c.d(M,{y:()=>Z});var S=c(65412),l=c(94650),p=c(97392),y=c(4859);let x=(()=>{class A{constructor(f,r){this.dialogRef=f,this.data=r}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return A.\u0275fac=function(f){return new(f||A)(l.Y36(S.so),l.Y36(S.WI))},A.\u0275cmp=l.Xpm({type:A,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(f,r){1&f&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return r.closeDialog()}),l.TgZ(3,"mat-icon"),l._uU(4,"close"),l.qZA()(),l.TgZ(5,"div",3),l._UZ(6,"img",4),l.qZA(),l.TgZ(7,"h2",5),l._uU(8,"Confirmation"),l.qZA(),l.TgZ(9,"span",6),l._uU(10),l.qZA()(),l.TgZ(11,"div",7)(12,"button",8),l._uU(13,"Cancel"),l.qZA(),l.TgZ(14,"button",9),l._uU(15,"Delete"),l.qZA()()()),2&f&&(l.xp6(10),l.Oqu(r.data.message),l.xp6(2),l.Q6J("mat-dialog-close",!1),l.xp6(2),l.Q6J("mat-dialog-close",!0))},dependencies:[p.Hw,y.lW,S.ZT]}),A})(),Z=(()=>{class A{constructor(f){this.dialog=f}openCustomAlert(f){return this.dialog.open(x,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:f}})}}return A.\u0275fac=function(f){return new(f||A)(l.LFG(S.uw))},A.\u0275prov=l.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},63214:(Y,M,c)=>{c.r(M),c.d(M,{LedgerCodesAttributesComponent:()=>At});var S=c(15861),l=c(98739),p=c(7155),y=c(70879),x=c(35226),Z=c.n(x),A=c(77579),L=c(78372),f=c(71884),r=c(65412),t=c(94650),u=c(19132),a=c(24006),g=c(46546),h=c(97392),T=c(4859),_=c(59549),E=c(44144),b=c(73546);let U=(()=>{class s{constructor(e,n,i,d,m){this.anyvariable=e,this.dialogRef=n,this.router=i,this.fb=d,this.LedgerCodes=m,this.user=localStorage.getItem("userName"),this.keyValue=""}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}ngOnInit(){console.log(this.anyvariable);const e=(n,i)=>String(n).padStart(i,"0");console.log(e(this.anyvariable.LELEGC,4)),this.keyValue=e(this.anyvariable.LELEGC,4),this.form=this.fb.group({EAFLID:{value:"LE",disabled:!0},EAKEY:{value:e(this.anyvariable.LELEGC,4)+e(this.anyvariable.LELEGS,2),disabled:!0},EAATRB:"",EAVALU:"",EASTAT:"AC",EATMST:"",EAUSER:""})}LCAttributesCreate(){var e=this.form.value;console.log(e),this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.LedgerCodes.LCAttributesCreate(this.user,this.form.get("EAFLID")?.value,this.form.get("EAKEY")?.value,e.EAATRB.toUpperCase(),e.EAVALU.toUpperCase(),e.EASTAT,e.EATMST,this.user).subscribe(n=>{if(JSON.parse(n[0].data[1].value).success){const i=JSON.parse(n[0].data[1].value).returnedData.message;this.successMessage(i),this.closeDialog(),this.router.navigateByUrl("/main-nav/ledgerCode/attributes/read",{state:this.anyvariable})}else{const i=JSON.parse(n[0].data[1].value).returnedData.message;this.failureMessage(i)}})}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.WI),t.Y36(r.so),t.Y36(u.F0),t.Y36(a.qu),t.Y36(g.f))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-add-ledger-codes-atrributes"]],standalone:!0,features:[t.jDz],decls:43,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","EAFLID",2,"text-transform","uppercase"],["matInput","","formControlName","EAKEY"],["matInput","","formControlName","EAATRB",2,"text-transform","uppercase"],["matInput","","formControlName","EAVALU",2,"text-transform","uppercase"],["matInput","","formControlName","EASTAT",2,"text-transform","uppercase"],["matInput","","formControlName","EATMST","readonly",""],["matInput","","formControlName","EAUSER","readonly","",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Entity Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"File ID"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"key"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Attribute"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Value"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Status"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Last Changed"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Change User"),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"div",16)(41,"button",17),t.NdJ("click",function(){return n.LCAttributesCreate()}),t._uU(42,"Create"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",n.form))},dependencies:[y.m,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.Hw,T.lW,_.KE,_.hX,E.Nt,b.a8,b.dk,b.dn,b.n5]}),s})(),D=(()=>{class s{constructor(e,n,i,d,m,C){this.anyvariable=e,this.LedgerCodes=n,this.router=i,this.fb=d,this.route=m,this.dialogRef=C,this.user=localStorage.getItem("userName"),this.keyValue=""}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({EAFLID:{value:this.anyvariable[1].EAFLID,disabled:!0},EAKEY:{value:this.anyvariable[1].EAKEY,disabled:!0},EAATRB:this.anyvariable[1].EAATRB,EAVALU:this.anyvariable[1].EAVALU,EASTAT:this.anyvariable[1].EASTAT,EATMST:{value:this.anyvariable[1].EATMST,disabled:!0},EAUSER:{value:this.anyvariable[1].EAUSER,disabled:!0}})}LCAttributesUpdate(){var e=this.form.value;console.log(e),this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.LedgerCodes.LCAttributesUpdate(this.anyvariable[1].EAFLID,this.anyvariable[1].EAKEY,e.EAATRB.toUpperCase(),e.EAVALU.toUpperCase(),e.EASTAT,this.anyvariable[1].EATMST,this.user,this.user).subscribe(n=>{const i=JSON.parse(n[0].data[1].value).returnedData.message;if(JSON.parse(n[0].data[1].value).success)this.successMessage(i),this.closeDialog(),this.router.navigateByUrl("/main-nav/ledgerCode/attributes/read",{state:this.anyvariable[0]});else{const d=JSON.parse(n[0].data[1].value).returnedData.message;this.failureMessage(d)}})}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(r.WI),t.Y36(g.f),t.Y36(u.F0),t.Y36(a.qu),t.Y36(u.gz),t.Y36(r.so))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-update-ledger-codes-attributes"]],standalone:!0,features:[t.jDz],decls:43,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","EAFLID",2,"text-transform","uppercase"],["matInput","","formControlName","EAKEY",2,"text-transform","uppercase"],["matInput","","formControlName","EAATRB",2,"text-transform","uppercase"],["matInput","","formControlName","EAVALU",2,"text-transform","uppercase"],["matInput","","formControlName","EASTAT",2,"text-transform","uppercase"],["matInput","","formControlName","EATMST"],["matInput","","formControlName","EAUSER",2,"text-transform","uppercase"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Entity Attributes"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"File ID"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"key"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Attribute"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Value"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Status"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Last Changed"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Change User"),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"div",16)(41,"button",17),t.NdJ("click",function(){return n.LCAttributesUpdate()}),t._uU(42,"Update"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",n.form))},dependencies:[y.m,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.Hw,T.lW,_.KE,_.hX,E.Nt,b.a8,b.dk,b.dn,b.n5]}),s})();var I=c(80529),N=c(11790),w=c(36895),R=c(28255),F=c(10266),J=c(90455);function B(s,o){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17)(2,"div",41)(3,"span",42),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",43),t.NdJ("ngModelChange",function(i){const m=t.CHM(e).$implicit;return t.KtG(m.isActive=i)})("change",function(){const d=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(d))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&s){const e=o.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function K(s,o){1&s&&(t.TgZ(0,"th",44),t._uU(1,"Attribute"),t.qZA())}function G(s,o){if(1&s&&(t.TgZ(0,"td",45),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e.EAATRB)}}function P(s,o){1&s&&(t.TgZ(0,"th",44),t._uU(1,"Value"),t.qZA())}function Q(s,o){if(1&s&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e.EAVALU)}}function H(s,o){1&s&&(t.TgZ(0,"th",44),t._uU(1,"Last Changed"),t.qZA())}function z(s,o){if(1&s&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e.EATMST)}}function W(s,o){1&s&&(t.TgZ(0,"th",44),t._uU(1,"User"),t.qZA())}function j(s,o){if(1&s&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e.EAUSER)}}function V(s,o){1&s&&(t.TgZ(0,"th",47),t._uU(1,"Status"),t.qZA())}function X(s,o){if(1&s&&(t.TgZ(0,"td",48)(1,"span",49),t._uU(2),t.qZA()()),2&s){const e=o.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",n.getStatusClass(e.EASTAT)),t.xp6(1),t.hij(" ",e.EASTAT,"")}}function tt(s,o){1&s&&(t.TgZ(0,"th",44),t._uU(1,"Key"),t.qZA())}function et(s,o){if(1&s&&(t.TgZ(0,"td",46),t._uU(1),t.qZA()),2&s){const e=o.$implicit;t.xp6(1),t.Oqu(e.EAKEY)}}function st(s,o){1&s&&(t.TgZ(0,"th",50),t._uU(1,"Actions"),t.qZA())}function nt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw().$implicit,C=t.oxw();return t.KtG(C.executeAction(d,m))}),t._UZ(1,"img",67),t.TgZ(2,"span",68),t._uU(3),t.qZA()()}if(2&s){const e=o.$implicit;t.Q6J("color",e.color),t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.label)}}function it(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"li",76)(1,"button",77),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw(2).$implicit,C=t.oxw();return t.KtG(C.handleRecentClick(d,m))}),t._uU(2),t.qZA()()}if(2&s){const e=o.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function rt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"li",69)(1,"div",70)(2,"span",71),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",72),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.clearRecentSearches())}),t.TgZ(5,"span",73),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",74),t.YNc(8,it,3,1,"li",75),t.qZA()()}if(2&s){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function at(s,o){1&s&&(t.TgZ(0,"li",78)(1,"div",79)(2,"mat-icon",80),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",81),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",82),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function ot(s,o){if(1&s&&(t.ynx(0),t._UZ(1,"img",85),t.BQk()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function lt(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&s){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function ct(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"li",83)(1,"button",77),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw().$implicit,C=t.oxw();return t.KtG(C.handleItemClick(d,m))}),t.YNc(2,ot,2,2,"ng-container",84),t.YNc(3,lt,3,1,"ng-container",84),t._uU(4),t.qZA()()}if(2&s){const e=o.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function ut(s,o){if(1&s&&(t.ynx(0),t._UZ(1,"img",89),t.BQk()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function dt(s,o){if(1&s&&(t.ynx(0),t.TgZ(1,"mat-icon",90),t._uU(2),t.qZA(),t.BQk()),2&s){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function mt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"li",86)(1,"button",77),t.NdJ("click",function(){const d=t.CHM(e).$implicit,m=t.oxw().$implicit,C=t.oxw();return t.KtG(C.handleItemClick(d,m))}),t.TgZ(2,"div",87),t.YNc(3,ut,2,2,"ng-container",84),t.YNc(4,dt,3,1,"ng-container",84),t.TgZ(5,"span",88),t._uU(6),t.qZA()()()()}if(2&s){const e=o.$implicit,n=t.oxw(2);t.Q6J("hidden",n.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function pt(s,o){if(1&s){const e=t.EpF();t.TgZ(0,"td",46)(1,"div",51)(2,"button",52),t._UZ(3,"img",53),t.qZA(),t.TgZ(4,"ul",54)(5,"li",55),t.YNc(6,nt,4,4,"button",56),t.qZA(),t.TgZ(7,"li",57)(8,"mat-form-field",58)(9,"input",59),t.NdJ("ngModelChange",function(i){t.CHM(e);const d=t.oxw();return t.KtG(d.searchDropdownText=i)})("input",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSearchChange())}),t.qZA()()(),t.YNc(10,rt,9,1,"li",60),t.TgZ(11,"div",61),t._UZ(12,"hr",62),t.qZA(),t.YNc(13,at,8,0,"li",63),t.YNc(14,ct,5,3,"li",64),t.YNc(15,mt,7,4,"li",65),t.qZA()()()}if(2&s){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.headerActions),t.xp6(3),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function gt(s,o){1&s&&t._UZ(0,"tr",91)}function ht(s,o){1&s&&t._UZ(0,"tr",92)}function ft(s,o){1&s&&(t.TgZ(0,"div",93),t._UZ(1,"img",94),t.TgZ(2,"h3",95),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",96),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const Ct=function(){return[8,16,24]};let At=(()=>{class s{constructor(e,n,i,d,m,C){this.router=e,this.http=n,this.fb=i,this.CustomAlertService=d,this.matDialog=m,this.ledgerCodesService=C,this.BASE_ROUTE="/main-nav/ledgerCode",this.INITIAL_PAGE=1,this.DEFAULT_PAGE_SIZE=8,this.user=localStorage.getItem("userName"),this.selectedRow=[],this.editedRows=[],this.keyValue="",this.dataSource=new p.by,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.searchInput$=new A.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.duplicateSource=[],this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.isLoading=!0,this.noData=!1,this.displayedColumns=["Attribute","Value","LastChanged","User","Status","Actions"],this.columnShowHideList=[]}ngOnInit(){this.element=history.state;const i=(d,m)=>String(d).padStart(m,"0");this.keyValue=i(this.element.LELEGC,4),this.form=this.fb.group({FLID:{value:"LE",disabled:!0},KEY:{value:i(this.element.LELEGC,4)+i(this.element.LELEGS,2),disabled:!0}}),this.initializeColumnProperties(),this.editedRows=[],this.getLcAttributes(this.pageSize,this.INITIAL_PAGE),this.searchInput$.pipe((0,L.b)(1e3),(0,f.x)()).subscribe(d=>{this.handleSearch(d)}),this.http.get("assets/jsondata/LedgerAttributes.json").subscribe(d=>{this.headerActions=d.header,this.menuItems=d.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=d.search;const m=localStorage.getItem("recentSearches");if(m){const C=JSON.parse(m);this.recentSearches=this.menuItems.filter(v=>C.includes(v.label))}this.filteredRecentSearches=[...this.recentSearches]})}applyGlobalFilterInput(e){this.searchInput$.next(e)}handleSearch(e){if(!(e=e.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],void this.getLcAttributes(this.pageSize,1);this.isSearchMode=!0,this.loadSearchChunks(e,()=>{if(0===this.filteredData.length)return this.noData=!0,void(this.dataSource.data=[]);this.noData=!1,this.loadPage(1)})}applyManualFilter(e){this.filteredData=this.allData.filter(n=>Object.values(n).some(i=>String(i).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const n=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(n,n+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):this.getLcAttributes(e.pageSize,e.pageIndex+1)}getSearchStrategy(e){return e<=1500?{chunkSize:300,maxCalls:4}:e<=1e4?{chunkSize:2e3,maxCalls:5}:{chunkSize:5e3,maxCalls:5}}loadSearchChunks(e,n){var i=this;return(0,S.Z)(function*(){const d=i.form.getRawValue(),m=i.currentFilters||{},{SRCH:C=""}=m,{chunkSize:v,maxCalls:_t}=i.getSearchStrategy(i.totalRecords||0);let O=1,k=0,q=[];for(;k<_t;){const bt=(yield i.ledgerCodesService.getLCAttributes(i.user??"",d.KEY,v,O).toPromise())?.[0]?.data?.[1]?.value,$=JSON.parse(bt)?.returnedData||[],Lt=$.filter(Tt=>Object.values(Tt).some(St=>String(St).toLowerCase().includes(e)));if(q.push(...Lt),q.length>0||$.length<v)break;O++,k++}i.allData=q,i.filteredData=q,i.totalRecords=q.length,n?.()})()}ngOnDestroy(){this.lcAttributesSubscription&&this.lcAttributesSubscription.unsubscribe()}getStatusClass(e){return e?["C"].includes(e)?"status-gray":["W","SH","CD"].includes(e)?"status-green":["EN","I","N","RL"].includes(e)?"status-yellow":["A","PK","BL"].includes(e)?"status-purple":["PS","CM","MQ"].includes(e)?"status-blue":["EM","EP","SB","SP","EB","R","S","DL"].includes(e)?"status-red":"status-gray":""}handleItemClick(e,n){this.executeAction(e,n),this.addToRecentSearches(e)}executeAction(e,n){"function"==typeof this[e.action]?this[e.action](n):console.warn("Action not implemented:",e.action)}handleRecentClick(e,n){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](n),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(n=>n.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(n=>n.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(n=>n.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}toggleColumn(e){if(e.isActive)this.displayedColumns.splice(e.position>this.displayedColumns.length-1?this.displayedColumns.length-1:e.position,0,e.name);else{let n=this.displayedColumns.indexOf(e.name);n>-1&&this.displayedColumns.splice(n,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,n)=>{"Actions"!=e&&this.columnShowHideList.push({position:n,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Key",isActive:!1})}rowClick(e){this.selectedRow=e}getLcAttributes(e,n){this.isLoading=!0,this.noData=!1,this.dataSource=new p.by([]);const i=this.form.getRawValue();console.log(i),this.lcAttributesSubscription&&this.lcAttributesSubscription.unsubscribe(),this.lcAttributesSubscription=this.ledgerCodesService.getLCAttributes(this.user,i.KEY,e,n).subscribe({next:d=>{this.isLoading=!1;const C=JSON.parse(d?.[0]?.data?.[1]?.value||"{}"),v=C?.returnedData||[];this.totalRecords=C?.TotalRecords||0,this.dataSource.data=v,this.noData=0===v.length,this.paginator&&(this.paginator.length=this.totalRecords)},error:()=>this.handleReceivableNoData()})}handleReceivableNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new p.by([])}lcAttributesDelete(e){var n=this.form.value;this.CustomAlertService.openCustomAlert("Are you sure want to delete this Attribute ?").afterClosed().subscribe(m=>{m&&(this.deleteLcAttributesSubscription&&this.deleteLcAttributesSubscription.unsubscribe(),this.deleteLcAttributesSubscription=this.ledgerCodesService.LCAttributesDelete(n.KEY,e.EAATRB).subscribe(C=>{const v=C?.[0]?.data?.[C[0].data.length-1]?.value;v?.toUpperCase()==="DELETED SUCCESSFULLY".toUpperCase()?(this.successMessage(v),this.getLcAttributes()):this.failureMessage(v)}))})}lcAttributesCreateForm(e){this.matDialog.open(U,{panelClass:"right-dialog",data:e,autoFocus:!1})}lcAttributesUpdate(e){var n=[this.element,e];console.log(this.element),this.matDialog.open(D,{panelClass:"right-dialog",data:n,autoFocus:!1})}onBack(){this.router.navigate([`${this.BASE_ROUTE}/read`])}successMessage(e){Z().fire(e,"","success")}failureMessage(e){Z().fire(e,"","error")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(u.F0),t.Y36(I.eN),t.Y36(a.qu),t.Y36(N.y),t.Y36(r.uw),t.Y36(g.f))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-ledger-codes-attributes"]],viewQuery:function(e,n){if(1&e&&t.Gf(l.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(n.paginator=i.first)}},standalone:!0,features:[t.jDz],decls:61,vars:11,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","matTooltip","Add New Attribute",1,"addButton",3,"click"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","FLID",2,"text-transform","uppercase"],["matInput","","formControlName","KEY",2,"text-transform","uppercase"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Attribute"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Value"],["mat-cell","",4,"matCellDef"],["matColumnDef","LastChanged"],["matColumnDef","User"],["matColumnDef","Status"],["mat-header-cell","","class","status-cell",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","Key"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell",""],["mat-header-cell","",1,"status-cell"],["mat-cell","",1,"status-cell"],[1,"status-badge",3,"ngClass"],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return n.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With Entity Attributes"),t.qZA(),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-icon",5),t._uU(10,"search"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("input",function(d){return n.applyGlobalFilterInput(d.target.value)}),t.qZA()(),t.TgZ(12,"button",7),t.NdJ("click",function(){return n.lcAttributesCreateForm(n.element)}),t.TgZ(13,"mat-icon"),t._uU(14,"add"),t.qZA()(),t.TgZ(15,"mat-menu",8,9)(17,"div",10),t.YNc(18,B,6,2,"ng-container",11),t.qZA()(),t.TgZ(19,"button",12,13),t._UZ(21,"img",14),t.qZA()()(),t.TgZ(22,"mat-card-content",15)(23,"form",16)(24,"div",17)(25,"div",18)(26,"mat-form-field",19)(27,"mat-label"),t._uU(28,"File ID"),t.qZA(),t._UZ(29,"input",20),t.qZA(),t.TgZ(30,"mat-form-field",19)(31,"mat-label"),t._uU(32,"Key"),t.qZA(),t._UZ(33,"input",21),t.qZA()()()()(),t.TgZ(34,"table",22),t.ynx(35,23),t.YNc(36,K,2,0,"th",24),t.YNc(37,G,2,1,"td",25),t.BQk(),t.ynx(38,26),t.YNc(39,P,2,0,"th",24),t.YNc(40,Q,2,1,"td",27),t.BQk(),t.ynx(41,28),t.YNc(42,H,2,0,"th",24),t.YNc(43,z,2,1,"td",27),t.BQk(),t.ynx(44,29),t.YNc(45,W,2,0,"th",24),t.YNc(46,j,2,1,"td",27),t.BQk(),t.ynx(47,30),t.YNc(48,V,2,0,"th",31),t.YNc(49,X,3,2,"td",32),t.BQk(),t.ynx(50,33),t.YNc(51,tt,2,0,"th",24),t.YNc(52,et,2,1,"td",27),t.BQk(),t.ynx(53,34),t.YNc(54,st,2,0,"th",35),t.YNc(55,pt,16,6,"td",27),t.BQk(),t.YNc(56,gt,1,0,"tr",36),t.YNc(57,ht,1,0,"tr",37),t.qZA(),t.YNc(58,ft,6,0,"div",38),t.TgZ(59,"mat-paginator",39,40),t.NdJ("page",function(d){return n.onPaginateChange(d)}),t.qZA()()),2&e){const i=t.MAs(16);t.xp6(18),t.Q6J("ngForOf",n.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",i),t.xp6(4),t.Q6J("formGroup",n.form),t.xp6(11),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("ngIf",!n.isLoading&&n.noData),t.xp6(1),t.Q6J("length",n.totalRecords)("pageSizeOptions",t.DdM(10,Ct))("pageSize",n.pageSize)}},dependencies:[y.m,w.mk,w.sg,w.O5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.sg,a.u,l.NW,h.Hw,R.VK,R.p6,T.lW,_.KE,_.hX,_.qo,E.Nt,b.a8,b.dk,b.dn,b.n5,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,F.gM,J.Rr]}),s})()},46546:(Y,M,c)=>{c.d(M,{f:()=>A});var S=c(80529),l=c(75625),p=c(70262),y=c(62843),x=c(92340),Z=c(94650);let A=(()=>{class L{constructor(r){this.httpClient=r,this.url=x.N.API_BASE_URL,this.httpHeader={headers:new S.WM({"Content-Type":"application/json"})}}getLedgerCodes(r,t,u,a){return this.httpClient.get(this.url+`/LedgerCodes/read?user=${r}&LedgerCode=${t}&recordsPerPage=${u}&pageNo=${a}`)}getAll(r){return this.httpClient.get(this.url+`/LedgerCodes/readAll?user=${r}`)}createLedgerCodes(r,t,u,a,g,h){return this.httpClient.post(this.url+"/LedgerCodes/create",{LELEGC:r,LELEGS:t,LEDESC:u,LECC:a,LECSFX:g,user:h}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}updateLedgerCodes(r,t,u,a,g,h){return this.httpClient.put(this.url+"/LedgerCodes/update",{LELEGC:r,LELEGS:t,LEDESC:u,LECC:a,LECSFX:g,user:h}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}deleteLedgerCodes(r,t,u){return this.httpClient.delete(this.url+`/LedgerCodes/delete?user=${r}&LedgerCode=${t}&LedgerSubCode=${u}`)}LedgerCodesConsolidate(r,t,u,a){return this.httpClient.put(this.url+"/LedgerCodes/consolidate",{LedgerCode1:r,LedgerSubCode1:t,LedgerCode2:u,LedgerSubCode2:a}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}getLCTransactions(r,t,u,a,g,h,T,_,E,b,U,D,I,N,w,R,F){const J=(new S.LE).set("user",r||"").set("ledgerCode",t||"").set("ledgerSubCode",u||"").set("startDate",a||"").set("endDate",g||"").set("startCust",h?h.toString():"0").set("startCustF",T||"").set("startCustF2",_||"").set("endCust",E?E.toString():"0").set("endCustF",b||"").set("endCustF2",U||"").set("startBldng",D||"").set("endBldng",I||"").set("output",N||"").set("emailAdd",w||"").set("recordsPerPage",R?R.toString():"10").set("pageNo",F?F.toString():"1");return this.httpClient.get(this.url+"/LedgerCodes/transactions/read",{params:J})}updateLcTransactions(r,t,u,a,g,h,T,_){return this.httpClient.put(this.url+"/LedgerCodes/transactions/update",{user:r,InvoiceNum:t,SequenceNum:u,InvoiceDate:a,LineAmount:g,LedgerCode:h,LedgerSubCode:T,Building:_}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}getLctInvInquiry(r,t,u,a){return this.httpClient.get(this.url+"/LedgerCodes/transactions/InvInquiry/read?",{params:{user:r,InvoiceNum:t??"",recordsPerPage:u??"",pageNo:a??""}})}getLctAdjInquiry(r,t,u,a){return this.httpClient.get(this.url+`/LedgerCodes/transactions/AdjInquiry/read?user=${r}&InvoiceNum=${t}&recordsPerPage=${u}&pageNo=${a}`)}getLCAttributes(r,t,u,a){return this.httpClient.get(this.url+`/LedgerCodes/attributes/read?user=${r}&key=${t}&recordsPerPage=${u}&pageNo=${a}`)}LCAttributesCreate(r,t,u,a,g,h,T,_){return this.httpClient.post(this.url+"/LedgerCodes/attributes/create",{user:r,EAFLID:t,EAKEY:u,EAATRB:a,EAVALU:g,EASTAT:h,EATMST:T,EAUSER:_}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}LCAttributesUpdate(r,t,u,a,g,h,T,_){return this.httpClient.put(this.url+"/LedgerCodes/attributes/update",{EAFLID:r,EAKEY:t,EAATRB:u,EAVALU:a,EASTAT:g,EATMST:h,EAUSER:T,user:_}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}LCAttributesDelete(r,t){return this.httpClient.delete(this.url+`/LedgerCodes/attributes/delete?key=${r}&attribute=${t}`)}RevenueDistReport(r,t,u,a,g,h,T,_,E,b,U,D,I,N){return this.httpClient.put(this.url+"/LedgerCodes/LedgerCodesRevReport/update",{LedgerCode:r,LedgerCodeSuffix:t,StartDate:u,EndDate:a,StartingCustomer:g,StartingCustomerSuffix:h,StartingCustomerSuffix2:T,EndingCustomer:_,EndingCustomerSuffix:E,EndingCustomerSuffix2:b,StartingBuildingNumber:U,EndingBuildingNumber:D,OutPut:I,Email:N}).pipe((0,l.X)(1),(0,p.K)(this.httpError))}LCRevInquiry(r,t,u,a,g){return this.httpClient.get(this.url+`/LedgerCodes/LCRevInquiry/read?user=${r}&LedgerCode=${t}&LedgerSubCode=${u}&recordsPerPage=${a}&pageNo=${g}`)}ReceivableDetailsRevInquiryForm(r,t,u,a,g,h,T,_,E,b,U,D,I,N,w){const R=(new S.LE).set("user",r||"").set("WKLEGC",t).set("WKLEGS",u).set("StDate",a).set("EndDate",g).set("Stcust",h||"0000").set("Stcustf",T||" ").set("Stcustf2",_||" ").set("Endcust",E||"9999").set("Ecustsuf",b||" ").set("Endcstf2",U||" ").set("Stbldng",D||"").set("Endbldng",I||"999").set("Output",N).set("Emailadd",w||" ");return this.httpClient.get(`${this.url}/LedgerCodes/ReceivableDetailsRevInquiry/read`,{params:R})}LedgercodeRevReport(r,t,u,a,g,h,T,_,E,b,U,D,I,N,w){const R=(new S.LE).set("user",r||"").set("WKLEGC",t).set("WKLEGS",u).set("StDate",a).set("EndDate",g).set("Stcust",h||"0000").set("Stcustf",T||" ").set("Stcustf2",_||" ").set("Endcust",E||"9999").set("Ecustsuf",b||" ").set("Endcstf2",U||" ").set("Stbldng",D||" ").set("Endbldng",I||"999").set("Output",N||"*DISPLAY").set("Emailadd",w||" ");return this.httpClient.get(`${this.url}/LedgerCodes/LedgercodeRevReport/read`,{params:R})}ReceivableDetailsRevInquiry(r,t,u,a,g){const h=(new S.LE).set("user",r||"").set("WKLEGC",t).set("WKLEGS",u).set("StDate",a).set("EndDate",g);return this.httpClient.get(`${this.url}/LedgerCodes/ReceivableDetailsRevInquiry/read`,{params:h})}httpError(r){let t="";return t=r.error instanceof ErrorEvent?r.error.message:`Error Code: ${r.status}\nMessage: ${r.message}`,console.log(t),(0,y._)(()=>new Error(t))}}return L.\u0275fac=function(r){return new(r||L)(Z.LFG(S.eN))},L.\u0275prov=Z.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},15861:(Y,M,c)=>{function S(p,y,x,Z,A,L,f){try{var r=p[L](f),t=r.value}catch(u){return void x(u)}r.done?y(t):Promise.resolve(t).then(Z,A)}function l(p){return function(){var y=this,x=arguments;return new Promise(function(Z,A){var L=p.apply(y,x);function f(t){S(L,Z,A,f,r,"next",t)}function r(t){S(L,Z,A,f,r,"throw",t)}f(void 0)})}}c.d(M,{Z:()=>l})}}]);