"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[99774,34894,11790,26628,38754,85645,70096,49741],{34894:(Y,B,p)=>{p.d(B,{e:()=>_});var N=p(94650),d=p(24006);let _=(()=>{class f{constructor(q,b){this.el=q,this.control=b}onInputChange(q){const b=this.el.nativeElement,h=b.value.toUpperCase();b.value=h,this.control&&this.control.control&&this.control.control.setValue(h,{emitEvent:!1})}}return f.\u0275fac=function(q){return new(q||f)(N.Y36(N.SBq),N.Y36(d.a5))},f.\u0275dir=N.lG2({type:f,selectors:[["","appUppercase",""]],hostBindings:function(q,b){1&q&&N.NdJ("input",function(S){return b.onInputChange(S)})},standalone:!0}),f})()},11790:(Y,B,p)=>{p.d(B,{y:()=>q});var N=p(65412),d=p(94650),_=p(97392),f=p(4859);let t=(()=>{class b{constructor(S,w){this.dialogRef=S,this.data=w}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return b.\u0275fac=function(S){return new(S||b)(d.Y36(N.so),d.Y36(N.WI))},b.\u0275cmp=d.Xpm({type:b,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(S,w){1&S&&(d.TgZ(0,"div",0)(1,"div",1)(2,"button",2),d.NdJ("click",function(){return w.closeDialog()}),d.TgZ(3,"mat-icon"),d._uU(4,"close"),d.qZA()(),d.TgZ(5,"div",3),d._UZ(6,"img",4),d.qZA(),d.TgZ(7,"h2",5),d._uU(8,"Confirmation"),d.qZA(),d.TgZ(9,"span",6),d._uU(10),d.qZA()(),d.TgZ(11,"div",7)(12,"button",8),d._uU(13,"Cancel"),d.qZA(),d.TgZ(14,"button",9),d._uU(15,"Delete"),d.qZA()()()),2&S&&(d.xp6(10),d.Oqu(w.data.message),d.xp6(2),d.Q6J("mat-dialog-close",!1),d.xp6(2),d.Q6J("mat-dialog-close",!0))},dependencies:[_.Hw,f.lW,N.ZT]}),b})(),q=(()=>{class b{constructor(S){this.dialog=S}openCustomAlert(S){return this.dialog.open(t,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:S}})}}return b.\u0275fac=function(S){return new(S||b)(d.LFG(N.uw))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},10573:(Y,B,p)=>{p.d(B,{a:()=>h});var N=p(80529),d=p(61135),_=p(75625),f=p(70262),t=p(62843),q=p(92340),b=p(94650);let h=(()=>{class S{constructor(n){this.httpClient=n,this.itemDataSource=new d.X([]),this.url=q.N.API_BASE_URL,this.httpHeader={headers:new N.WM({"Content-Type":"application/json"})}}getItemAll(n){return this.httpClient.get(`${this.url}/item/read?user=${n}`)}getItem(n,o,l,s,c,u,g,T,v,Z){return this.httpClient.get(this.url+"/item/newItems",{params:{user:n,onlyActive:o,storer:l??"",suffix:s??"",item:c??"",description:u??"",product:g??"",type:T??"",recordsPerPage:v??"",pageNo:Z??""}})}updateItemDataSource(n){let o=this.itemDataSource.getValue();o.unshift(n),this.itemDataSource.next(o)}getAll(n){return this.httpClient.get(`${this.url}/consignee/readAll?user=${n}`)}getItemTally(n,o,l,s){return this.httpClient.get(`${this.url}/item/read/tally?user=${n}&storer=${o}&suffix=${l}&item=${s}`)}ItemTallyWorkWith(n,o,l,s){return this.httpClient.get(`${this.url}/item/tallyWorkWith?user=${n}&storer=${o}&suffix=${l}&item=${s}`)}getItemAdjustmentBySearch(n,o,l,s,c,u,g,T,v,Z,y,x,I,$){return this.httpClient.get(`${this.url}/itemAdjustment/readBySearch?user=${n}&storer=${o}&item=${l}&type=${s}&lot1=${c}&lot2=${u}&lot3=${g}&building=${T}&floor=${v}&aisle=${Z}&slot=${y}&year=${x}&month=${I}&date=${$}`)}activeSearch(n,o,l,s,c,u,g,T){return this.httpClient.get(`${this.url}/item/activeSearch?user=${n}&onlyActive=${o}&storer=${l}&suffix=${s}&item=${c}&description=${u}&product=${g}&type=${T}`)}getItemBySearch(n,o,l,s,c){return this.httpClient.get(`${this.url}/item/readBySearch?user=${n}&storer=${o}&suffix=${l}&item=${s}&description=${c}`)}getItemForTally(n,o,l,s,c,u,g){return this.httpClient.get(`${this.url}/item/read/new?user=${n}&storer=${o}&suffix=${l}&item=${s}&description=${c}&pageNum=${u}&recordsPerPage=${g}`)}getItemAdjustment(n,o){return this.httpClient.get(`${this.url}/itemAdjustment/read?user=${n}&storer=${o}`)}getItemAdjustmentInquiry(n,o,l=null,s=null,c=null,u=null,g=null,T=null,v=null,Z=null,y=null,x=null){return this.httpClient.get(`${this.url}/itemAdjustment/itemAdjInquiryRead?user=${n}&transaction=${o}`)}itemCreate1(n,o,l,s,c,u,g,T,v,Z,y,x,I,$){return this.httpClient.post(`${this.url}/item/create1`,{storeNumber:n,suffix:o,item:l,itemDescription1:s,itemDescription2:c,itemUpcCode:u,itemUpcTailCode:g,manufacturerProdCode:T,quickItem:v,lottedItem:Z,lotUnitWeight:y,lotSortMask:x,primSortMaskPointer:I,prevItem:$}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemCreate2(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D,E,J,F,R){return this.httpClient.put(`${this.url}/item/create2`,{storeNumber:n,suffix:o,item:l,unitGrossWeight:s,unitWeightType:c,casesPerTier:u,tiersPerPallet:g,unitSquareFeet:T,unitCubeFeet:v,unitInchesHigh:Z,unitInchesWide:y,unitInchesDeep:x,unitOfMeasure1:I,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:U,unitOfMeasure3:M,qtyPer3UnitOfMultiplier:D,unitOfMeasure4:E,qtyPer4UnitOfMultiplier:J,inventoryUnit:F,shippingUnit:R}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemCreate3(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D){return this.httpClient.put(`${this.url}/item/create3`,{storeNumber:n,suffix:o,item:l,domesticSurface:s,domesticAir:c,internationalSurface:u,internationalAir:g,matHandlingCode1:T,matHandlingCode2:v,matHandlingCode3:Z,warehouseZone:y,bmtCode:x,palletsHigh:I,palletsDeep:$,lowStockPoint:U,prefferedLocation:M,pickLine:D}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemCreate4(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D,E,J){return this.httpClient.put(`${this.url}/item/create4`,{storeNumber:n,suffix:o,item:l,rcvStageRate:s,rcvStageBase:c,rcvStorageMin:u,rcrStorageRate:g,rcrStorageBase:T,rcrStorageMin:v,regHandlingRate:Z,regHandlingBase:y,regHandlingMin:x,distHandlingRate:I,distHandlingBase:$,distHandlingMin:U,altHandlingRate:M,altHandlingBase:D,altHandlingMin:E,insLiabilityAmount:J}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemCreate5(n){return this.httpClient.put(`${this.url}/item/create5`,n).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate1(n,o,l,s,c,u,g,T,v,Z,y,x,I,$){return this.httpClient.put(`${this.url}/item/update1`,{storeNumber:n,suffix:o,item:l,itemDescription1:s,itemDescription2:c,itemUpcCode:u,itemUpcTailCode:g,manufacturerProdCode:T,quickItem:v,lottedItem:Z,lotUnitWeight:y,lotSortMask:x,primSortMaskPointer:I,prevItem:$}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate2(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D,E,J,F,R){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:n,suffix:o,item:l,unitGrossWeight:s,unitWeightType:c,casesPerTier:u,tiersPerPallet:g,unitSquareFeet:T,unitCubeFeet:v,unitInchesHigh:Z,unitInchesWide:y,unitInchesDeep:x,unitOfMeasure1:I,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:U,unitOfMeasure3:M,qtyPer3UnitOfMultiplier:D,unitOfMeasure4:E,qtyPer4UnitOfMultiplier:J,inventoryUnit:F,shippingUnit:R}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate3(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D){return this.httpClient.put(`${this.url}/item/update3`,{storeNumber:n,suffix:o,item:l,domesticSurface:s,domesticAir:c,internationalSurface:u,internationalAir:g,matHandlingCode1:T,matHandlingCode2:v,matHandlingCode3:Z,warehouseZone:y,bmtCode:x,palletsHigh:I,palletsDeep:$,lowStockPoint:U,prefferedLocation:M,PickLine:D}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate4(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D,E,J){return this.httpClient.put(`${this.url}/item/update4`,{storeNumber:n,suffix:o,item:l,rcvStageRate:s,rcvStageBase:c,rcvStorageMin:u,rcrStorageRate:g,rcrStorageBase:T,rcrStorageMin:v,regHandlingRate:Z,regHandlingBase:y,regHandlingMin:x,distHandlingRate:I,distHandlingBase:$,distHandlingMin:U,altHandlingRate:M,altHandlingBase:D,altHandlingMin:E,insLiabilityAmount:J}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemServiceUpdate5(n){return this.httpClient.put(`${this.url}/item/update5`,n).pipe((0,_.X)(1),(0,f.K)(this.httpError))}getImageByItemCode(n){return this.httpClient.get(`${this.url}/item/image/${n}`,{responseType:"blob"})}deleteItem(n,o,l){return this.httpClient.delete(`${this.url}/item/delete?storeNumber=${n}&suffix=${o}&item=${l}`)}itemRebalanceService(n,o,l){return this.httpClient.put(this.url+"/item/itemRebalance",{storer:n,suffix:o,item:l}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}getItemXRef(n,o,l,s){return this.httpClient.get(`${this.url}/itemXreference/read?user=${n}&storer=${o}&suffix=${l}&itemCode=${s}`)}createItemXref(n,o,l,s,c,u,g){return this.httpClient.post(this.url+"/itemXreference/create",{user:n,acdl:o,storer:l,suffix:s,itemXcode:c,itemCode:u,itemXupc:g}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}updateItemXref(n,o,l,s,c,u,g){return this.httpClient.put(this.url+"/itemXreference/update",{user:n,acdl:o,storer:l,suffix:s,itemXcode:c,itemCode:u,itemXupc:g}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}deleteItemXref(n,o,l,s){return this.httpClient.delete(`${this.url}/itemXreference/delete?user=${n}&storer=${o}&suffix=${l}&itemCode=${s}`)}readItemLotService(n,o,l,s,c,u,g){return this.httpClient.get(`${this.url}/item/readItemLots?user=${n}&storer=${o}&suffix=${l}&item=${s}&lot1=${c}&lot2=${u}&lot3=${g}`)}updateItemLotsService(n,o,l,s,c,u,g,T,v,Z,y){return this.httpClient.put(`${this.url}/item/updateItemLots`,{user:n,storer:o,suffix:l,item:s,lot1:c,lot2:u,lot3:g,lotUnitWeight:T,lotFirstRecieved:v,lotLastShipped:Z,status:y}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}setLastUsed(n,o,l,s,c,u){return this.httpClient.put(this.url+"/item/setLastUsed",{storer:n,suffix:o,item:l,lot1:s,lot2:c,lot3:u}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}deleteItemLotsService(n,o,l,s,c,u,g){return this.httpClient.delete(`${this.url}/item/deleteItemLots?user=${n}&storer=${o}&suffix=${l}&item=${s}&lot1=${c}&lot2=${u}&lot3=${g}`)}deleteItemAdjustment(n){return this.httpClient.delete(`${this.url}/itemAdjustment/delete?TransacNum=${n}`)}readItemCommentService(n,o,l,s,c,u){return this.httpClient.get(this.url+"/item/comments/read",{params:{user:n,storerAndItem:o??"",subType:l??"",sequence:s??"",recordsPerPage:c??"",pageNo:u??""}})}createItemCommentService(n,o,l,s,c){return this.httpClient.post(`${this.url}/item/comments/create`,{storerAndItem:n,subType:o,sequence:l,comment:s,user:c}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}updateItemCommentService(n,o,l,s,c){return this.httpClient.put(`${this.url}/item/comments/update`,{storerAndItem:n,subType:o,sequence:l,comment:s,user:c}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}deleteItemCommentService(n,o,l,s){return this.httpClient.delete(`${this.url}/item/comments/delete?user=${n}&storerAndItem=${o}&subType=${l}&sequence=${s}`).pipe((0,_.X)(1),(0,f.K)(this.httpError))}itemStockActivityReadService(n,o,l,s){return this.httpClient.get(`${this.url}/item/stockActivity?user=${n}&storer=${o}&suffix=${l}&item=${s}`)}itemOrdersReadService(n,o,l,s,c){return this.httpClient.get(`${this.url}/item/itemOrders?user=${n}&storer=${o}&suffix=${l}&item=${s}&status=${c}`)}readItemTallyInquiryService(n,o){return this.httpClient.get(`${this.url}/item/itemTallyInquiry?user=${n}&tally=${o}`)}readItemTallyWrInquiryService(n,o){return this.httpClient.get(`${this.url}/item/itemTallyWrInquiry?user=${n}&tally=${o}`)}BucketXRefUpdate(n,o,l,s,c,u,g,T,v,Z,y){return this.httpClient.put(`${this.url}/item/BucketXRefUpdate`,{Storer:n,Suffix:o,Item:l,Lotcode1:s,Lotcode2:c,Lotcode3:u,From:g,To:T,Reason:v,Comment:Z,Filename:y}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}getAllBucketError(n,o){return this.httpClient.get(`${this.url}/item/getAllBucketError?user=${n}&Filename=${o}`)}deactivateItem(n,o,l){return this.httpClient.put(this.url+"/item/deactivate",{storer:n,suffix:o,item:l}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}activateItem(n,o,l){return this.httpClient.put(this.url+"/item/activate",{storer:n,suffix:o,item:l}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}recalculateTransit(n,o,l,s){return this.httpClient.put(this.url+"/item/recalculateTransit",{storer:n,suffix:o,item:l,quantity:s}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}pickInquiry(n,o,l,s,c,u){return this.httpClient.get(`${this.url}/item/pickInquiry?user=${n}&storer=${o}&suffix=${l}&item=${s}&recordsPerPage=${c}&pageNo=${u}`)}maintainWeight(n,o,l,s,c,u,g,T,v,Z,y,x,I,$,U,M,D,E,J,F,R){return this.httpClient.put(`${this.url}/item/update2`,{storeNumber:n,suffix:o,item:l,unitGrossWeight:s,unitWeightType:c,casesPerTier:u,tiersPerPallet:g,unitSquareFeet:T,unitCubeFeet:v,unitInchesHigh:Z,unitInchesWide:y,unitInchesDeep:x,unitOfMeasure1:I,unitOfMeasure2:$,qtyPer2UnitOfMultiplier:U,unitOfMeasure3:M,qtyPer3UnitOfMultiplier:D,unitOfMeasure4:E,qtyPer4UnitOfMultiplier:J,inventoryUnit:F,shippingUnit:R}).pipe((0,_.X)(1),(0,f.K)(this.httpError))}storerItemDetails(n){return this.httpClient.get(this.url+"/item/storerItemDetails",{params:{item:n}})}httpError(n){let o="";return o=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(o),(0,t._)(()=>new Error(o))}}return S.\u0275fac=function(n){return new(n||S)(b.LFG(N.eN))},S.\u0275prov=b.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},99774:(Y,B,p)=>{p.r(B),p.d(B,{ItemCommentsComponent:()=>At});var N=p(35226),d=p.n(N),_=p(65412),f=p(70879),t=p(94650),q=p(10573),b=p(19132),h=p(24006),S=p(11790),w=p(97392),n=p(4859),o=p(59549),l=p(44144),s=p(73546);let c=(()=>{class i{constructor(e,a,r,C,A,k){this.itemService=e,this.router=a,this.fb=r,this.CustomAlertService=C,this.anyvariable=A,this.dialogRef=k,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({fileId:this.anyvariable[0].CMRECD,key:this.anyvariable[0].CMKEY,subCode:this.anyvariable[0].CMSUBD,sequence:this.anyvariable[0].CMSEQ,text:this.anyvariable[0].CMCOMM,lastChangeDate:this.anyvariable[0].CMDATE,lastChangeTime:this.anyvariable[0].CMTIME,changedBy:this.anyvariable[0].CMUSER})}deleteItemComment(){var e=this.form.value;this.CustomAlertService.openCustomAlert(" Do you want to Delete System Comments  ? ").afterClosed().subscribe(r=>{r&&(this.result=this.itemService.deleteItemCommentService(this.user,e.key,e.subCode,e.sequence).subscribe(C=>{if(this.result=C,console.log(this.result),JSON.parse(this.result[0].data[1].value).success){const A=JSON.parse(this.result[0].data[1].value).returnedData.message;this.closeDialog(),this.successMessage(A),this.router.navigateByUrl("/main-nav/item/comments",{state:this.anyvariable[1]})}else{const A=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(A)}}))})}successMessage(e){d().fire(e,"","success"),this.router.navigate(["/main-nav/item/comments"])}failureMessage(e){d().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.a),t.Y36(b.F0),t.Y36(h.qu),t.Y36(S.y),t.Y36(_.WI),t.Y36(_.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-item-comment-delete"]],standalone:!0,features:[t.jDz],decls:48,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","fileId","readonly",""],["matInput","","formControlName","key","readonly",""],["matInput","","formControlName","subCode","readonly",""],["matInput","","formControlName","sequence","readonly",""],["appearance","outline",2,"width","100%"],["matInput","","formControlName","text","readonly",""],["matInput","","formControlName","lastChangeDate","readonly",""],["matInput","","formControlName","lastChangeTime","readonly",""],["matInput","","formControlName","changedBy","readonly",""],[1,"footer"],["mat-button","","mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Delete System Comments"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14," File ID "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Key "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22," Sub Code "),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26," Sequence "),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",12)(29,"mat-label"),t._uU(30," Text "),t.qZA(),t._UZ(31,"textarea",13),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34," Last Changed Date "),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38," Last Changed Time "),t.qZA(),t._UZ(39,"input",15),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42," Changed By ID "),t.qZA(),t._UZ(43,"input",16),t.qZA()()(),t.TgZ(44,"div",17)(45,"button",18),t.NdJ("click",function(){return a.deleteItemComment()}),t.TgZ(46,"span"),t._uU(47,"Delete"),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form))},dependencies:[f.m,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,w.Hw,n.lW,o.KE,o.hX,l.Nt,s.a8,s.dk,s.dn,s.n5]}),i})();var u=p(84385),g=p(3238);let T=(()=>{class i{constructor(e,a,r,C,A){this.itemService=e,this.router=a,this.fb=r,this.anyvariable=C,this.dialogRef=A,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({fileId:this.anyvariable[0].CMRECD,key:this.anyvariable[0].CMKEY,subCode:this.anyvariable[0].CMSUBD,sequence:this.anyvariable[0].CMSEQ,text:[this.anyvariable[0].CMCOMM,[h.kI.required]]})}updateItemComment(){var e=this.form.value;this.result=this.itemService.updateItemCommentService(e.key,e.subCode,e.sequence,e.text,this.user).subscribe(a=>{if(this.result=a,JSON.parse(this.result[0].data[1].value).sucess||JSON.parse(this.result[0].data[1].value).success){const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(r),this.closeDialog(),this.router.navigateByUrl("main-nav/item/comments",{state:this.anyvariable[1]})}else{const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(r)}})}successMessage(e){d().fire(e,"","success"),this.router.navigate(["/main-nav/item/read"])}failureMessage(e){d().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.a),t.Y36(b.F0),t.Y36(h.qu),t.Y36(_.WI),t.Y36(_.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-item-comment-update"]],standalone:!0,features:[t.jDz],decls:45,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","fileId"],["readonly","","matInput","","formControlName","key"],["formControlName","subCode"],["value","BL"],["value","PS"],["value","CC"],["matInput","","formControlName","sequence"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","text"],[1,"footer"],["mat-button","","type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"System Comments Maintenance"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14," File ID "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Key "),t.qZA(),t._UZ(19,"input",9),t.qZA()()(),t.TgZ(20,"div",5)(21,"div",6)(22,"mat-form-field",7)(23,"mat-label"),t._uU(24,"Sub Code"),t.qZA(),t.TgZ(25,"mat-select",10)(26,"mat-option",11),t._uU(27,"BL"),t.qZA(),t.TgZ(28,"mat-option",12),t._uU(29,"PS"),t.qZA(),t.TgZ(30,"mat-option",13),t._uU(31,"CC"),t.qZA()()(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34," Sequence "),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",15)(37,"mat-label"),t._uU(38,"Text :"),t.qZA(),t.TgZ(39,"textarea",16),t._uU(40," Comments"),t.qZA()()()(),t.TgZ(41,"div",17)(42,"button",18),t.NdJ("click",function(){return a.updateItemComment()}),t.TgZ(43,"span"),t._uU(44,"Update"),t.qZA()()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form))},dependencies:[f.m,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,w.Hw,n.lW,o.KE,o.hX,l.Nt,u.gD,g.ey,s.a8,s.dk,s.dn,s.n5]}),i})();var v=p(36895);function Z(i,m){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Maximum 50 characters allowed. "),t.qZA())}function y(i,m){1&i&&(t.TgZ(0,"mat-error"),t._uU(1," Maximum 50 characters allowed. "),t.qZA())}let x=(()=>{class i{constructor(e,a,r,C,A){this.itemService=e,this.router=a,this.fb=r,this.anyvariable=C,this.dialogRef=A,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({fileId:this.anyvariable[1].fileId,key:this.anyvariable[1].key,subCode:"",sequence:"",text:["",[h.kI.maxLength(50),h.kI.required,this.commentValidator]]})}commentValidator(e){const a=e.value.split("\n");for(let r=0;r<a.length-1;r++)if(""===a[r].trim()&&""===a[r+1].trim())return{invalidComments:!0};return null}onSubmit(){this.form.valid?console.log("Form submitted successfully!"):console.log("Form is invalid!")}createItemComment(){var e=this.form.value;this.result=this.itemService.createItemCommentService(e.key,e.subCode,e.sequence,e.text,this.user).subscribe(a=>{if(this.result=a,JSON.parse(this.result[0].data[1].value).sucess||JSON.parse(this.result[0].data[1].value).success){const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.successMessage(r),this.closeDialog(),this.router.navigateByUrl("main-nav/item/comments",{state:this.anyvariable[0]})}else{const r=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(r)}})}successMessage(e){d().fire(e,"","success"),this.router.navigate(["/main-nav/item/comments"])}failureMessage(e){d().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.a),t.Y36(b.F0),t.Y36(h.qu),t.Y36(_.WI),t.Y36(_.so))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-item-comment-create"]],standalone:!0,features:[t.jDz],decls:45,vars:3,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline"],["readonly","","matInput","","formControlName","fileId"],["readonly","","matInput","","formControlName","key"],["formControlName","subCode"],["value","BL"],["value","PS"],["value","CC"],["matInput","","formControlName","sequence"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","text"],[4,"ngIf"],[1,"footer"],["mat-button","","type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Item Comments "),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14," File ID "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Key "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Sub Code"),t.qZA(),t.TgZ(23,"mat-select",10)(24,"mat-option",11),t._uU(25,"BL"),t.qZA(),t.TgZ(26,"mat-option",12),t._uU(27,"PS"),t.qZA(),t.TgZ(28,"mat-option",13),t._uU(29,"CC"),t.qZA()()(),t.TgZ(30,"mat-form-field",7)(31,"mat-label"),t._uU(32," Sequence "),t.qZA(),t._UZ(33,"input",14),t.qZA(),t.TgZ(34,"mat-form-field",15)(35,"mat-label"),t._uU(36,"Text : "),t.qZA(),t.TgZ(37,"textarea",16),t._uU(38," Comments"),t.qZA(),t.YNc(39,Z,2,0,"mat-error",17),t.YNc(40,y,2,0,"mat-error",17),t.qZA()()(),t.TgZ(41,"div",18)(42,"button",19),t.NdJ("click",function(){return a.createItemComment()}),t.TgZ(43,"span"),t._uU(44,"Create"),t.qZA()()()()()()),2&e){let r,C;t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(30),t.Q6J("ngIf",null==(r=a.form.get("text"))?null:r.hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",null==(C=a.form.get("text"))?null:C.hasError("maxLengthExceeded"))}},dependencies:[f.m,v.O5,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,w.Hw,n.lW,o.TO,o.KE,o.hX,l.Nt,u.gD,g.ey,s.a8,s.dk,s.dn,s.n5]}),i})();var I=p(7155),$=p(48529),U=p(98739),M=p(80529),D=p(28255),E=p(10266),J=p(90455),F=p(34894);function R(i,m){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"div",37)(3,"span",38),t.NdJ("click",function(r){return r.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",39),t.NdJ("ngModelChange",function(r){const A=t.CHM(e).$implicit;return t.KtG(A.isActive=r)})("change",function(){const C=t.CHM(e).$implicit,A=t.oxw();return t.KtG(A.toggleColumn(C))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&i){const e=m.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function Q(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"button",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchTally())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA(),t.TgZ(3,"span"),t._uU(4," Filter"),t.qZA()()}}function X(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchTally())}),t._UZ(1,"img",42),t.TgZ(2,"span"),t._uU(3," Filter"),t.qZA()()}}function P(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"form",43),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchItemComment(r.form.value))}),t.TgZ(1,"div",36)(2,"div",44)(3,"mat-form-field",45)(4,"mat-label"),t._uU(5,"File ID"),t.qZA(),t._UZ(6,"input",46),t.qZA(),t.TgZ(7,"mat-form-field",45)(8,"mat-label"),t._uU(9,"Key"),t.qZA(),t._UZ(10,"input",47),t.qZA(),t.TgZ(11,"mat-form-field",45)(12,"mat-label"),t._uU(13,"Sub Type"),t.qZA(),t._UZ(14,"input",48),t.qZA()()(),t.TgZ(15,"div",49)(16,"button",50),t._uU(17," Search "),t.qZA()()()}if(2&i){const e=t.oxw();t.Q6J("formGroup",e.form)}}function H(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"ID"),t.qZA())}function j(i,m){if(1&i&&(t.TgZ(0,"td",52),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.Oqu(e.CMRECD)}}function W(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Key"),t.qZA())}function G(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.Oqu(e.CMKEY)}}function z(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Sub Type"),t.qZA())}function V(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.CMSUBD," ")}}function tt(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Sequence"),t.qZA())}function et(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.CMSEQ," ")}}function nt(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Comment"),t.qZA())}function it(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.CMCOMM," ")}}function ot(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Last Maintained"),t.qZA())}function at(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.AsE(" ",e.CMDATE," ",e.CMTIME," ")}}function st(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"By"),t.qZA())}function rt(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.CMUSER," ")}}function lt(i,m){1&i&&(t.TgZ(0,"th",51),t._uU(1,"Job"),t.qZA())}function mt(i,m){if(1&i&&(t.TgZ(0,"td",53),t._uU(1),t.qZA()),2&i){const e=m.$implicit;t.xp6(1),t.hij(" ",e.CMWSID," ")}}function ct(i,m){1&i&&(t.TgZ(0,"th",54),t._uU(1,"Actions"),t.qZA())}function ut(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",75)(1,"button",76),t.NdJ("click",function(){const C=t.CHM(e).$implicit,A=t.oxw(2).$implicit,k=t.oxw();return t.KtG(k.handleRecentClick(C,A))}),t._uU(2),t.qZA()()}if(2&i){const e=m.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function pt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",68)(1,"div",69)(2,"span",70),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",71),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.clearRecentSearches())}),t.TgZ(5,"span",72),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",73),t.YNc(8,ut,3,1,"li",74),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function ht(i,m){1&i&&(t.TgZ(0,"li",77)(1,"div",78)(2,"mat-icon",79),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",80),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",81),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function dt(i,m){if(1&i&&(t.ynx(0),t._UZ(1,"img",84),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function gt(i,m){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function ft(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",82)(1,"button",76),t.NdJ("click",function(){const C=t.CHM(e).$implicit,A=t.oxw().$implicit,k=t.oxw();return t.KtG(k.handleItemClick(C,A))}),t.YNc(2,dt,2,2,"ng-container",83),t.YNc(3,gt,3,1,"ng-container",83),t._uU(4),t.qZA()()}if(2&i){const e=m.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function Ct(i,m){if(1&i&&(t.ynx(0),t._UZ(1,"img",88),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function _t(i,m){if(1&i&&(t.ynx(0),t.TgZ(1,"mat-icon",89),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function It(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"li",85)(1,"button",76),t.NdJ("click",function(){const C=t.CHM(e).$implicit,A=t.oxw().$implicit,k=t.oxw();return t.KtG(k.handleItemClick(C,A))}),t.TgZ(2,"div",86),t.YNc(3,Ct,2,2,"ng-container",83),t.YNc(4,_t,3,1,"ng-container",83),t.TgZ(5,"span",87),t._uU(6),t.qZA()()()()}if(2&i){const e=m.$implicit,a=t.oxw(2);t.Q6J("hidden",a.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function Tt(i,m){if(1&i){const e=t.EpF();t.TgZ(0,"td",53)(1,"div",55)(2,"button",56),t._UZ(3,"img",57),t.qZA(),t.TgZ(4,"ul",58)(5,"li",59)(6,"mat-form-field",60)(7,"input",61),t.NdJ("ngModelChange",function(r){t.CHM(e);const C=t.oxw();return t.KtG(C.searchDropdownText=r)})("input",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSearchChange())}),t.qZA()()(),t.YNc(8,pt,9,1,"li",62),t.TgZ(9,"div",63),t._UZ(10,"hr",64),t.qZA(),t.YNc(11,ht,8,0,"li",65),t.YNc(12,ft,5,3,"li",66),t.YNc(13,It,7,4,"li",67),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function vt(i,m){1&i&&t._UZ(0,"tr",90)}function Zt(i,m){1&i&&t._UZ(0,"tr",91)}function bt(i,m){1&i&&(t.TgZ(0,"div",92),t._UZ(1,"img",93),t.TgZ(2,"h3",94),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",95),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const yt=function(){return[8,16,24]};let At=(()=>{class i{constructor(e,a,r,C,A){this.router=e,this.itemService=a,this.fb=r,this.matDialog=C,this.http=A,this.displayedColumns=["ID","Key","Tp","Seq","Comment","Actions"],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.allData=[],this.isLoading=!0,this.noData=!1,this.pageNumber=1,this.filteredData=[],this.pageData=[],this.isSearchMode=!1,this.GlobalComponent=$.R,this.result=[],this.dataSource=new I.by,this.user=localStorage.getItem("userName"),this.building=$.R.building,this.searchValue="",this.columnShowHideList=[],this.searchTextDisplay=!1}ngOnInit(){this.element=history.state,this.fullStorerAndItem=(4,String(this.element.WKSTOR).padStart(4,"0")+"  "+this.element.WKITEM),this.form=this.fb.group({storerAndItem:this.element.ITSTOR+"  "+this.element.ITEM,fileId:"IT",key:this.fullStorerAndItem,subType:"",sequence:""}),this.initializeColumnProperties(),this.editedRows=[],this.getAll(this.pageSize,this.pageNumber),this.http.get("assets/jsondata/itemComments.json").subscribe(r=>{this.headerActions=r.header,this.menuItems=r.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=r.search;const C=localStorage.getItem("recentSearches");if(C){const A=JSON.parse(C);this.recentSearches=this.menuItems.filter(k=>A.includes(k.label))}this.filteredRecentSearches=[...this.recentSearches]})}ngOnDestroy(){this.itemCommentsSubscription&&this.itemCommentsSubscription.unsubscribe()}toggleColumn(e){let a=this.displayedColumns.filter(r=>"Actions"!==r);e.isActive?a.includes(e.name)||(e.position>=a.length?a.push(e.name):a.splice(e.position,0,e.name)):a=a.filter(r=>r!==e.name),a.push("Actions"),this.displayedColumns=a}initializeColumnProperties(){this.displayedColumns.forEach((e,a)=>{"Actions"!=e&&"Carrier"!=e&&this.columnShowHideList.push({position:a,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"LastMaintained",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"By",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length-1,name:"Job",isActive:!1})}rowClick(e){this.selectedRow=e}searchTally(){this.searchTextDisplay=1!=this.searchTextDisplay}getAll(e,a){{this.isLoading=!0,this.noData=!1,this.dataSource=new I.by([]);const r=this.currentFilters||{},{subType:C="",sequence:A=""}=r;this.itemCommentsSubscription&&this.itemCommentsSubscription.unsubscribe(),this.itemCommentsSubscription=this.itemService.readItemCommentService(this.user,this.fullStorerAndItem,C,A,e,a).subscribe({next:k=>{this.isLoading=!1;try{const K=JSON.parse(k?.[0]?.data?.[1]?.value||"{}"),L=K?.returnedData||[];this.totalRecords=K?.TotalRecords||0,this.allData=[],this.filteredData=[],this.noData=0===L.length,this.dataSource.data=L,this.paginator&&(this.paginator.length=this.totalRecords)}catch(O){console.error("Parse error:",O),this.handleNoData()}},error:()=>this.handleNoData()})}}handleNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new I.by([])}resetSearch(){this.form.reset(),this.currentFilters=null,this.dataSource.filter="",this.allData=[],this.paginator.firstPage(),this.getAll(this.pageSize,this.pageNumber)}searchItemComment(e){const a=this.pageSize;this.currentFilters=e,this.paginator.firstPage(),this.getAll(a,this.pageNumber)}onPaginateChange(e){this.pageSize=e.pageSize,this.getAll(e.pageSize,e.pageIndex+1)}handleItemClick(e,a){this.executeAction(e,a),this.addToRecentSearches(e)}executeAction(e,a){"function"==typeof this[e.action]?this[e.action](a):console.warn("Action not implemented:",e.action)}handleRecentClick(e,a){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](a),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(a=>a.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(a=>a.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(a=>a.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}itemCommentCreate(){this.matDialog.open(x,{panelClass:"right-dialog",data:[this.element,this.form.value],autoFocus:!1})}itemCommentUpdate(e){var r=history.state;this.matDialog.open(T,{panelClass:"right-dialog",data:[e,r],autoFocus:!1})}itemCommentDelete(e){var r=history.state;this.matDialog.open(c,{panelClass:"right-dialog",data:[e,r],autoFocus:!1})}onBack(){this.router.navigate(["/main-nav/item/read"])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.F0),t.Y36(q.a),t.Y36(h.qu),t.Y36(_.uw),t.Y36(M.eN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-item-comments"]],viewQuery:function(e,a){if(1&e&&t.Gf(U.NW,5),2&e){let r;t.iGM(r=t.CRH())&&(a.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:60,vars:13,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Item Comments",3,"click",4,"ngIf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Comments",1,"addButton","buttons",3,"click"],["mat-button","","matTooltip","Add Comments",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow","class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ID"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","Primary-row",4,"matCellDef"],["matColumnDef","Key"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tp"],["matColumnDef","Seq"],["matColumnDef","Comment"],["matColumnDef","LastMaintained"],["matColumnDef","By"],["matColumnDef","Job"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"row"],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Item Comments",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"col"],["appearance","outline"],["readonly","","matInput","","formControlName","fileId","readonly",""],["readonly","","matInput","","formControlName","key","readonly",""],["matInput","","formControlName","subType","appUppercase",""],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-header-cell","","mat-header-cell",""],["mat-cell","",1,"Primary-row"],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,a){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Work With System Comments "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",4,5)(10,"div",6),t.YNc(11,R,6,2,"ng-container",7),t.qZA()(),t.YNc(12,Q,5,0,"button",8),t.YNc(13,X,4,0,"button",9),t.TgZ(14,"button",10,11),t._UZ(16,"img",12),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return a.resetSearch()}),t.TgZ(18,"mat-icon"),t._uU(19,"loop"),t.qZA()(),t.TgZ(20,"button",14),t.NdJ("click",function(){return a.itemCommentCreate()}),t.TgZ(21,"mat-icon"),t._uU(22,"add"),t.qZA(),t.TgZ(23,"span"),t._uU(24,"Create"),t.qZA()()()(),t.TgZ(25,"mat-card-content",15),t.YNc(26,P,18,1,"form",16),t.qZA(),t.TgZ(27,"table",17),t.ynx(28,18),t.YNc(29,H,2,0,"th",19),t.YNc(30,j,2,1,"td",20),t.BQk(),t.ynx(31,21),t.YNc(32,W,2,0,"th",19),t.YNc(33,G,2,1,"td",22),t.BQk(),t.ynx(34,23),t.YNc(35,z,2,0,"th",19),t.YNc(36,V,2,1,"td",22),t.BQk(),t.ynx(37,24),t.YNc(38,tt,2,0,"th",19),t.YNc(39,et,2,1,"td",22),t.BQk(),t.ynx(40,25),t.YNc(41,nt,2,0,"th",19),t.YNc(42,it,2,1,"td",22),t.BQk(),t.ynx(43,26),t.YNc(44,ot,2,0,"th",19),t.YNc(45,at,2,2,"td",22),t.BQk(),t.ynx(46,27),t.YNc(47,st,2,0,"th",19),t.YNc(48,rt,2,1,"td",22),t.BQk(),t.ynx(49,28),t.YNc(50,lt,2,0,"th",19),t.YNc(51,mt,2,1,"td",22),t.BQk(),t.ynx(52,29),t.YNc(53,ct,2,0,"th",30),t.YNc(54,Tt,14,5,"td",22),t.BQk(),t.YNc(55,vt,1,0,"tr",31),t.YNc(56,Zt,1,0,"tr",32),t.qZA(),t.YNc(57,bt,6,0,"div",33),t.TgZ(58,"mat-paginator",34,35),t.NdJ("page",function(C){return a.onPaginateChange(C)}),t.qZA()()),2&e){const r=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(1),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!a.searchTextDisplay),t.xp6(1),t.Q6J("matMenuTriggerFor",r),t.xp6(12),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&a.noData),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(12,yt))("pageSize",a.pageSize)}},dependencies:[f.m,v.sg,v.O5,h._Y,h.Fj,h.JJ,h.JL,h.On,h.sg,h.u,U.NW,w.Hw,D.VK,D.p6,n.lW,o.KE,o.hX,l.Nt,s.a8,s.dk,s.dn,s.n5,I.BZ,I.fO,I.as,I.w1,I.Dz,I.nj,I.ge,I.ev,I.XQ,I.Gk,E.gM,J.Rr,F.e]}),i})()}}]);