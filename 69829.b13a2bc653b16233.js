"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[69829],{69829:(P,E,l)=>{l.r(E),l.d(E,{ReceivablesInvoiceInquirySiComponent:()=>te});var y=l(98739),u=l(7155),p=l(70879),e=l(94650),g=l(24006),M=l(19132),N=l(81543),Z=l(36895),C=l(97392),q=l(28255),n=l(4859),a=l(59549),s=l(44144),c=l(99602),m=l(73546),d=l(10266),v=l(90455);function f(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",15)(2,"div",52)(3,"span",53),e.NdJ("click",function(h){return h.stopPropagation()}),e.TgZ(4,"mat-slide-toggle",54),e.NdJ("ngModelChange",function(h){const b=e.CHM(t).$implicit;return e.KtG(b.isActive=h)})("change",function(){const _=e.CHM(t).$implicit,b=e.oxw();return e.KtG(b.toggleColumn(_))}),e._uU(5),e.qZA()()()(),e.BQk()}if(2&i){const t=r.$implicit;e.xp6(4),e.Q6J("ngModel",t.isActive),e.xp6(1),e.hij(" ",t.name," ")}}function R(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Item "),e.qZA())}function S(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.WKITDSC," ")}}function D(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Balance"),e.qZA())}function A(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.lnq("",0!==t.WK1BALN?t.WK1BALN:""," ",0!==t.WK1BALN&&0!==t.WK1BUNT?" ":"","",0!==t.WK1BUNT?t.WK1BUNT:"","")}}function U(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Weight"),e.qZA())}function K(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.lnq("",0!==t.WK1WGHT?t.WK1WGHT:""," ",0!==t.WK1WGHT&&0!==t.WK1WUNT?" ":"","",0!==t.WK1WUNT?t.WK1WUNT:"","")}}function W(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Date Received"),e.qZA())}function O(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.WKS1RCVD)}}function B(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Charge Amount"),e.qZA())}function x(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(0!==t.WKAMT?t.WKAMT:"")}}function L(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"MN"),e.qZA())}function $(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.WK1MIN)}}function G(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Transaction Date"),e.qZA())}function Y(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.WKS1TRAN)}}function w(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Shipped"),e.qZA())}function H(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(t.WSHIP)}}function Q(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Rate"),e.qZA())}function F(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(0!==t.WKRATE?t.WKRATE:"")}}function J(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Days Past Grace"),e.qZA())}function j(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(0!==t.WKPGRAC?t.WKPGRAC:"")}}function k(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1,"Months Storage"),e.qZA())}function z(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Oqu(0!==t.WKS1MULT?t.WKS1MULT:"")}}function X(i,r){1&i&&e._UZ(0,"tr",57)}function V(i,r){1&i&&e._UZ(0,"tr",58)}const ee=function(){return[8,16,24]};let te=(()=>{class i{constructor(t,o,h){this.fb=t,this.router=o,this.RecvSvc=h,this.dataSource=new u.by,this.duplicateSource=[],this.user=localStorage.getItem("userName")||"",this.editedRows=[],this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.displayedColumns=["Item","Balance","Weight","DateReceived","ChargeAmount","MN"],this.columnShowHideList=[],this.totalAmountDue=0,this.Storer=0,this.StorerName="",this.isNavigating=!1,this.receivablesUrl="/main-nav/receivables/read"}toggleColumn(t){if(t.isActive)this.displayedColumns.splice(t.position>this.displayedColumns.length-1?this.displayedColumns.length-1:t.position,0,t.name);else{let o=this.displayedColumns.indexOf(t.name);o>-1&&this.displayedColumns.splice(o,1)}}initializeColumnProperties(){this.displayedColumns.forEach((t,o)=>{"Actions"!=t&&this.columnShowHideList.push({position:o,name:t,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"TransactionDate",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Shipped",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Rate",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"DaysPastGrace",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"MonthsStorage",isActive:!1})}searchItem(){this.searchTextDisplay=1!=this.searchTextDisplay}ngOnInit(){this.element=history.state,this.form=this.fb.group({invoiceNumber:this.element.WKINV,PositiontoItem:"",GENDT:"",GENTM:"",Period:this.element.AHDESC}),this.initializeColumnProperties(),this.editedRows=[],this.getInvInquirySI(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}ngOnDestroy(){this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe()}createFilter(){return(t,o)=>{const h=JSON.parse(o);return Object.keys(h).every(_=>t[_].toString().toLowerCase().includes(h[_].toLowerCase()))}}getInvInquirySI(t,o){const h=this.currentFilters||{},{WKINVN:_=`${this.element.WKINV}`}=h;this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe(),this.invoiceInquirySubscription=this.RecvSvc.FreightInv(this.user,_,t,o).subscribe(b=>{try{const I=JSON.parse(b[0].data[1]?.value),T=I.returnedData;if("SI1"===I.Type)return void this.router.navigate(["/main-nav/receivables/invoice-inquiry-Storage-SI2"],{state:{invoice:this.element.WKINV,Name:T[0].WKSNAME}});this.displayedColumns=98===T[0]?.WKS1TYPE?["Item"]:["Item","Balance","Weight","DateReceived","ChargeAmount","MN"],this.dataSource.data=T,this.loadGeneratedDateTime(T[0].WKGEND),this.totalAmountDue=I["Total Amount Due"],this.Storer=T[0].S1STOR,this.StorerName=T[0].WKSNAME,this.fullStorer=`${this.Storer}  ${this.StorerName}`,this.totalAmountDue=I["Total Amount Due"],console.log(this.fullStorer),this.totalRecords=I.TotalRecords}catch(I){console.error("Error processing response:",I)}})}loadGeneratedDateTime(t){const o=t.replace('WKGEND":"',"").replace(/"/g,""),h="20"+o.substring(1,3),_=o.substring(3,5),b=o.substring(5,7),I=o.substring(7,9),T=o.substring(9,11);this.form.patchValue({GENDT:new Date(`${h}-${_}-${b}`),GENTM:`${I}:${T}`})}onPaginateChange(t){this.pageSize=t.pageSize,this.getInvInquirySI(t.pageSize,t.pageIndex+this.pageNumber)}getInquireBySearch(t){this.currentFilters=t,this.paginator.firstPage(),this.getInvInquirySI(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInvInquirySI(this.pageSize,this.pageNumber)}onBack(){this.router.navigate([this.receivablesUrl])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(g.qu),e.Y36(M.F0),e.Y36(N.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-receivables-invoice-inquiry-si"]],viewQuery:function(t,o){if(1&t&&e.Gf(y.NW,5),2&t){let h;e.iGM(h=e.CRH())&&(o.paginator=h.first)}},standalone:!0,features:[e.jDz],decls:99,vars:16,consts:[[1,"over-Flow"],[1,"mat-card-head"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],["mat-button","","type","reset","value","Reset","matTooltip","Reset",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","invoiceNumber"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","Period"],["matInput","","formControlName","positionToItem"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","GENDT","readonly","",3,"matDatepicker"],["GeneratedDatePicker",""],["matInput","","formControlName","GENTM","readonly",""],["matInput","",3,"value"],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Item"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Balance"],["matColumnDef","Weight"],["matColumnDef","DateReceived"],["matColumnDef","ChargeAmount"],["matColumnDef","MN"],["matColumnDef","TransactionDate"],["matColumnDef","Shipped"],["matColumnDef","Rate"],["matColumnDef","DaysPastGrace"],["matColumnDef","MonthsStorage"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"summary-container","info"],[1,"summary-row","align-between"],[1,"summary-pill"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2)(3,"button",3),e.NdJ("click",function(){return o.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Grace Period Exception Inquiry"),e.qZA(),e.TgZ(7,"div",4)(8,"mat-menu",5,6)(10,"div",7),e.YNc(11,f,6,2,"ng-container",8),e.qZA()(),e.TgZ(12,"button",9,10),e._UZ(14,"img",11),e.qZA(),e.TgZ(15,"button",12),e.NdJ("click",function(){return o.resetSearch()}),e.TgZ(16,"mat-icon"),e._uU(17,"loop"),e.qZA()()()(),e.TgZ(18,"mat-card-content",13)(19,"form",14)(20,"div",15)(21,"div",16)(22,"mat-form-field",17)(23,"mat-label"),e._uU(24," Invoice Number "),e.qZA(),e._UZ(25,"input",18),e.qZA(),e.TgZ(26,"mat-form-field",19)(27,"mat-label"),e._uU(28," Period "),e.qZA(),e._UZ(29,"input",20),e.qZA(),e.TgZ(30,"mat-form-field",17)(31,"mat-label"),e._uU(32,"Position to Item"),e.qZA(),e._UZ(33,"input",21),e.qZA(),e.TgZ(34,"div",22)(35,"label",23),e._uU(36,"Generated"),e.qZA(),e.TgZ(37,"div",24)(38,"mat-form-field",17)(39,"mat-label"),e._uU(40,"Generated Date "),e.qZA(),e._UZ(41,"input",25)(42,"mat-datepicker",null,26),e.qZA(),e.TgZ(44,"mat-form-field",17)(45,"mat-label"),e._uU(46,"Generated Time"),e.qZA(),e._UZ(47,"input",27),e.qZA()()(),e.TgZ(48,"mat-form-field",19)(49,"mat-label"),e._uU(50," Storer "),e.qZA(),e._UZ(51,"input",28),e.qZA()()(),e.TgZ(52,"div",29)(53,"button",30),e._uU(54," Search "),e.qZA()()()(),e._UZ(55,"br"),e.TgZ(56,"table",31),e.ynx(57,32),e.YNc(58,R,2,0,"th",33),e.YNc(59,S,2,1,"td",34),e.BQk(),e.ynx(60,35),e.YNc(61,D,2,0,"th",33),e.YNc(62,A,2,3,"td",34),e.BQk(),e.ynx(63,36),e.YNc(64,U,2,0,"th",33),e.YNc(65,K,2,3,"td",34),e.BQk(),e.ynx(66,37),e.YNc(67,W,2,0,"th",33),e.YNc(68,O,2,1,"td",34),e.BQk(),e.ynx(69,38),e.YNc(70,B,2,0,"th",33),e.YNc(71,x,2,1,"td",34),e.BQk(),e.ynx(72,39),e.YNc(73,L,2,0,"th",33),e.YNc(74,$,2,1,"td",34),e.BQk(),e.ynx(75,40),e.YNc(76,G,2,0,"th",33),e.YNc(77,Y,2,1,"td",34),e.BQk(),e.ynx(78,41),e.YNc(79,w,2,0,"th",33),e.YNc(80,H,2,1,"td",34),e.BQk(),e.ynx(81,42),e.YNc(82,Q,2,0,"th",33),e.YNc(83,F,2,1,"td",34),e.BQk(),e.ynx(84,43),e.YNc(85,J,2,0,"th",33),e.YNc(86,j,2,1,"td",34),e.BQk(),e.ynx(87,44),e.YNc(88,k,2,0,"th",33),e.YNc(89,z,2,1,"td",34),e.BQk(),e.YNc(90,X,1,0,"tr",45),e.YNc(91,V,1,0,"tr",46),e.qZA(),e.TgZ(92,"div",47)(93,"div",48)(94,"div",49),e._uU(95),e.ALo(96,"number"),e.qZA()()(),e.TgZ(97,"mat-paginator",50,51),e.NdJ("page",function(_){return o.onPaginateChange(_)}),e.qZA()()),2&t){const h=e.MAs(9),_=e.MAs(43);e.xp6(11),e.Q6J("ngForOf",o.columnShowHideList),e.xp6(1),e.Q6J("matMenuTriggerFor",h),e.xp6(7),e.Q6J("formGroup",o.form),e.xp6(22),e.Q6J("matDatepicker",_),e.xp6(10),e.Q6J("value",o.StorerName),e.xp6(5),e.Q6J("dataSource",o.dataSource),e.xp6(34),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns),e.xp6(4),e.hij(" Total Amount Due : $",e.xi3(96,12,o.totalAmountDue,"1.2-2")," "),e.xp6(2),e.Q6J("length",o.totalRecords)("pageSizeOptions",e.DdM(15,ee))("pageSize",o.pageSize)}},dependencies:[p.m,Z.sg,g._Y,g.Fj,g.JJ,g.JL,g.On,g.sg,g.u,y.NW,C.Hw,q.VK,q.p6,n.lW,a.KE,a.hX,s.Nt,c.Mq,c.hl,m.a8,m.dk,m.dn,m.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,d.gM,v.Rr,Z.JJ]}),i})()},81543:(P,E,l)=>{l.d(E,{Z:()=>Z});var y=l(80529),u=l(75625),p=l(70262),e=l(54004),g=l(62843),M=l(92340),N=l(94650);let Z=(()=>{class C{constructor(n){this.httpClient=n,this.url=M.N.API_BASE_URL,this.recal="/Receivables/Recalculate",this.httpHeader={headers:new y.WM({"Content-Type":"application/json"})}}getReceivables(n,a,s,c,m,d,v,f,R,S,D,A,U){return this.httpClient.get(this.url+"/Receivables/read?",{params:{user:n,invoice:a??"",customerNumber:s??"",customerSuffix:c??"",customerSecondSuffix:m??"",refNumber:d??"",startDate:v??"",endDate:f??"",building:R??"",status:S??"",type:D??"",recordsPerPage:A??"",pageNo:U??""}})}getReceivablesDetails(n,a,s){return this.httpClient.get(this.url+`/Receivables/details/read?user=${n}&invoice=${a}&seqNum=${s}`)}getReceivableInquiry(n,a){return this.httpClient.get(this.url+`/Receivables/read/inquiry?user=${n}&invoice=${a}`)}getInvoiceInquiry(n,a,s){return this.httpClient.get(this.url+`/Receivables/read/invoiceInquiry?user=${n}&HGCTL=${a}&invoice=${s}`)}getReceivablesAdjustInvoice(){return this.httpClient.get(this.url+"/Receivables/invoiceinquiry")}getAll(n){return this.httpClient.get(this.url+`/Receivables/readAll?user=${n}`)}getAdjustmentInquiry(n,a,s,c){return this.httpClient.get(this.url+"/Receivables/read/adjInquiry??",{params:{user:n,invoice:a??"",recordsPerPage:s??"",pageNo:c??""}})}adjustInvoiceRead(n,a,s,c){return this.httpClient.get(this.url+"/Receivables/adjust/read?",{params:{user:n,invoice:a??"",recordsPerPage:s??"",pageNo:c??""}})}adjustInvoiceUpdate(n,a,s,c,m,d,v,f,R,S,D,A){return this.httpClient.put(this.url+"/Receivables/adjust/update",{user:n,invoice:a,sequence:s,date:c,amount:m,description:d,ledgerCode:v,ledgerSubCode:f,customer:R,suffix1:S,suffix2:D,status:A}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}creditinvoice(n,a,s,c,m,d,v,f,R,S){return this.httpClient.put(this.url+"/Receivables/update/credit",{invoiceNumber:n,building:a,date:s,type:c,description:m,customer:d,reference:v,amount:f,balance:R,reason:S}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}getComment(n,a,s,c){return this.httpClient.get(this.url+`/Receivables/comments/read?user=${n}&key=${a}&recordsPerPage=${s}&pageNo=${c}`)}updateComment(n,a,s,c,m,d){return this.httpClient.put(this.url+"/Receivables/comments/update",{user:n,fileID:a,key:s,sub:c,seq:m,comment:d}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}createComment(n,a,s,c,m){return this.httpClient.post(this.url+"/Receivables/comments/create",{user:n,fileID:a,key:s,sub:c,comment:m}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}deleteComment(n,a,s,c,m){return this.httpClient.delete(this.url+`/Receivables/comments/delete?user=${n}&fileID=${a}&key=${s}&sub=${c}&seq=${m}`)}Print(n,a,s,c,m){return this.httpClient.put(this.url+"/Receivables/Print",{InvoiceNumber:n,ReportType:a,FileExtension:s,EmailAddress:c,user:m}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}UpdateLedgerCode(n,a,s,c,m,d,v,f){return this.httpClient.put(this.url+"/Receivables/UpdateLedgerCode",{InvoiceNumber:n,SequenceNumber:a,InvoiceDate:s,LineAmount:c,LedgerCode:m,LedgerSubCode:d,BuildingNumber:v,user:f}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}EmailDetail(n,a){return this.httpClient.put(this.url+"/Receivables/Email/Details",{user:n,InvoiceNumber:a}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}EmailDetailsNew(n,a){return this.httpClient.put(this.url+"/Receivables/EmailDetailsNew",{user:n,InvoiceNumber:a}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}Recalculate(n,a){return this.httpClient.put(this.url+this.recal,{user:n,InvoiceNumber:a}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}ReceivingCover(n,a,s){return this.httpClient.put(this.url+"/Receivables/ReceivingCover",{user:n,InvoiceNumber:a,ReturnCode:s}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}MicCover(n,a,s,c,m){return this.httpClient.put(this.url+"/Receivables/MicCover",{user:n,InvoiceNumber:a,StorerNumber:s,StorerSuffix:c,ReturnCode:m}).pipe((0,u.X)(1),(0,p.K)(this.httpError))}deleteReceivables(n,a){return this.httpClient.delete(this.url+`/Receivables/delete/receivable?invoice=${n}&description=${a}`)}FreightInv(n,a,s,c){return this.httpClient.get(this.url+"/Receivables/read/invoiceInquiry?",{params:{user:n,WKINVN:a??"",recordsPerPage:s??"",pageNo:c??""}})}readReceivablesTallyInquiryService(n,a){return this.httpClient.get(this.url+`/ihcrud/tallyinquiry?user=${n}&tally=${a}`).pipe((0,e.U)(s=>s[0]))}httpError(n){let a="";return a=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(a),(0,g._)(()=>new Error(a))}}return C.\u0275fac=function(n){return new(n||C)(N.LFG(y.eN))},C.\u0275prov=N.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()}}]);