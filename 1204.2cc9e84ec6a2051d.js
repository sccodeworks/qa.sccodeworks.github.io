"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[1204,34894,26628,70096,49741],{34894:(C,p,n)=>{n.d(p,{e:()=>g});var u=n(94650),d=n(24006);let g=(()=>{class _{constructor(c,l){this.el=c,this.control=l}onInputChange(c){const l=this.el.nativeElement,t=l.value.toUpperCase();l.value=t,this.control&&this.control.control&&this.control.control.setValue(t,{emitEvent:!1})}}return _.\u0275fac=function(c){return new(c||_)(u.Y36(u.SBq),u.Y36(d.a5))},_.\u0275dir=u.lG2({type:_,selectors:[["","appUppercase",""]],hostBindings:function(c,l){1&c&&u.NdJ("input",function(f){return l.onInputChange(f)})},standalone:!0}),_})()},1204:(C,p,n)=>{n.r(p),n.d(p,{TallyDetailsMoveHistoryComponent:()=>pt});var u=n(24006),d=n(98739),g=n(77579),_=n(78372),h=n(71884),c=n(70879),l=n(7155),t=n(94650),f=n(19132),A=n(11240),Z=n(65105),D=n(36895),H=n(97392),M=n(28255),S=n(4859),v=n(59549),O=n(44144),U=n(84385),E=n(3238),T=n(73546),N=n(10266),P=n(90455),L=n(34894);function x(e,i){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",16)(2,"div",53)(3,"span",54),t.NdJ("click",function(s){return s.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",55),t.NdJ("ngModelChange",function(s){const m=t.CHM(o).$implicit;return t.KtG(m.isActive=s)})("change",function(){const r=t.CHM(o).$implicit,m=t.oxw();return t.KtG(m.toggleColumn(r))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&e){const o=i.$implicit;t.xp6(4),t.Q6J("ngModel",o.isActive),t.xp6(1),t.hij(" ",o.name," ")}}function I(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Move Number"),t.qZA())}function B(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMTRAN)}}function q(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Item"),t.qZA())}function b(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMITEM)}}function Y(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Lot"),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HLOTS)}}function R(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Type"),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMTTYP)}}function K(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Sub"),t.qZA())}function W(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMSTYP)}}function J(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Quantity"),t.qZA())}function $(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HQTY)}}function F(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"On Queue"),t.qZA())}function z(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMQDAT)}}function k(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Assigned"),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMADAT)}}function j(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Completed"),t.qZA())}function X(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMCDAT)}}function V(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Start"),t.qZA())}function tt(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMSDAT)}}function et(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"From"),t.qZA())}function ot(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HFRLOC)}}function it(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"To"),t.qZA())}function at(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HTOLOC)}}function nt(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Operator"),t.qZA())}function st(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HMUSER)}}function lt(e,i){1&e&&(t.TgZ(0,"th",56),t._uU(1,"Status"),t.qZA())}function rt(e,i){if(1&e&&(t.TgZ(0,"td",57),t._uU(1),t.qZA()),2&e){const o=i.$implicit;t.xp6(1),t.Oqu(o.HSTAT)}}function ut(e,i){1&e&&t._UZ(0,"tr",58)}function mt(e,i){1&e&&t._UZ(0,"tr",59)}function ct(e,i){1&e&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.TgZ(2,"h3",62),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",63),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const _t=function(){return[8,16,24]};let pt=(()=>{class e{constructor(o,a,s,r){this.fb=o,this.router=a,this.storerService=s,this.orderService=r,this.displayedColumns=["MoveNumber","Item","Lot","Type","Sub","Quantity"],this.user=localStorage.getItem("userName"),this.columnShowHideList=[],this.dataSource=new l.by,this.account="",this.sort="Move Number",this.pendingMoves="",this.completedMoves="",this.document="",this.form=this.fb.group({account1:this.account,document1:this.document,sort1:this.sort,pendingMoves1:this.pendingMoves,completedMoves1:this.completedMoves,transactionType1:["",u.kI.pattern("^[A-Za-z]{2}$")]}),this.searchInput$=new g.x,this.totalRecords=0,this.isLoading=!0,this.noData=!1,this.pageSize=8}ngOnDestroy(){this.MHSubscription&&this.MHSubscription.unsubscribe()}ngOnInit(){this.element=history.state,this.editedRows=[],this.initializeColumnProperties(),this.searchInput$.pipe((0,_.b)(500),(0,h.x)()).subscribe(o=>{this.handleSearch(o)}),this.isLoading=!0,this.noData=!1,this.storerService.storerSearch(this.user,"",this.element[0].IHSTOR,"","","").subscribe(o=>{this.result=o;var a=this.result[0].data[1]?.value,s=JSON.parse(a);this.duplicateSource=s.returnedData,this.duplicateSource[0]&&(this.account=this.element[0].IHSTOR+" "+this.duplicateSource[0].STSFX+" "+this.duplicateSource[0].STNAME)}),this.orderService.moveHistoryInquiryService(this.user,this.element[0].IHTALY,"",this.sort,"I").subscribe({next:o=>{this.isLoading=!1;try{var a=JSON.parse(o[0].data[1]?.value),s=a.returnedData;this.totalRecords=a.TotalRecords||0,this.duplicateSource=a.returnedData,this.dataSource=new l.by(this.duplicateSource),this.dataSource.data=s||[],this.noData=!s||0===s.length,this.duplicateSource[0]&&(this.pendingMoves=this.duplicateSource[0].HPNDQT,this.completedMoves=this.duplicateSource[0].HCMPQT,this.document=this.duplicateSource[0].HMDOCN)}catch(r){console.error("Error parsing data:",r),this.handleNoData()}},error:()=>{this.handleNoData()}})}moveHistory(o,a){this.isLoading=!0,this.noData=!1,this.orderService.moveHistoryInquiryService(this.user,this.element[0].IHTALY,"",this.sort,"I").subscribe({next:s=>{this.isLoading=!1;try{var r=JSON.parse(s[0].data[1]?.value),m=r.returnedData;this.totalRecords=r.TotalRecords||0,this.duplicateSource=r.returnedData,this.dataSource=new l.by(this.duplicateSource),this.dataSource.data=m||[],this.noData=!m||0===m.length,this.duplicateSource[0]&&(this.pendingMoves=this.duplicateSource[0].HPNDQT,this.completedMoves=this.duplicateSource[0].HCMPQT,this.document=this.duplicateSource[0].HMDOCN)}catch(y){console.error("Error parsing data:",y),this.handleNoData()}},error:()=>{this.handleNoData()}})}getMoveHistory(o){var a=this.form.value;a.sort1="Assignment Time"==a.sort1?"HMADAT":"Completion Time"==a.sort1?"HMCDAT":"HMTRAN",this.isLoading=!0,this.noData=!1,this.orderService.moveHistoryInquiryServiceSearch(this.user,this.element[0].IHTALY,o.transactionType1.toUpperCase(),a.sort1,"I").subscribe({next:s=>{this.isLoading=!1;try{var r=JSON.parse(s[0].data[1]?.value),m=r.returnedData;this.dataSource.data=m||[],this.duplicateSource=r.returnedData,this.dataSource=new l.by(this.duplicateSource),this.dataSource.paginator=this.paginator,this.noData=!m||0===m.length,this.duplicateSource[0]&&(this.pendingMoves=this.duplicateSource[0].HPNDQT,this.completedMoves=this.duplicateSource[0].HCMPQT,this.document=this.duplicateSource[0].HMDOCN)}catch(y){console.error("Error parsing data:",y),this.handleNoData()}},error:()=>{this.handleNoData()}})}toggleColumn(o){if(o.isActive)this.displayedColumns.includes(o.name)||this.displayedColumns.push(o.name);else{const a=this.displayedColumns.indexOf(o.name);a>-1&&this.displayedColumns.splice(a,1)}}initializeColumnProperties(){this.displayedColumns.forEach((o,a)=>{"Actions"!=o&&this.columnShowHideList.push({position:a,name:o,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"OnQueue",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Assigned",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Completed",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Start",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"From",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"To",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Operator",isActive:!1}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Status",isActive:!1})}onBack(){this.router.navigateByUrl("/main-nav/tallys/details",{state:this.element[0]})}onPaginateChange(o){this.pageSize=o.pageSize,this.moveHistory(o.pageSize,o.pageIndex+1)}applyGlobalFilterInput(o){this.searchInput$.next(o)}handleSearch(o){o=o.trim().toLowerCase(),this.dataSource.filter=o}handleNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.dataSource.data=[]}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.qu),t.Y36(f.F0),t.Y36(A.h),t.Y36(Z.p))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tally-details-move-history"]],viewQuery:function(o,a){if(1&o&&t.Gf(d.NW,5),2&o){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:104,vars:15,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],["src","assets/svg/header/showandhide.svg"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width2"],["readonly","","matInput","","formControlName","account1",3,"value"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","document1",3,"value"],["formControlName","sort1"],["default","","value","Move Number"],["value","Assignment Time"],["value","Completion Time"],["readonly","","matInput","","formControlName","pendingMoves1",3,"value"],["readonly","","matInput","","formControlName","completedMoves1",3,"value"],["matInput","","formControlName","transactionType1","appUppercase",""],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","MoveNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Item"],["matColumnDef","Lot"],["matColumnDef","Type"],["matColumnDef","Sub"],["matColumnDef","Quantity"],["matColumnDef","OnQueue"],["matColumnDef","Assigned"],["matColumnDef","Completed"],["matColumnDef","Start"],["matColumnDef","From"],["matColumnDef","To"],["matColumnDef","Operator"],["matColumnDef","Status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[3,"ngModel","ngModelChange","change"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Move History Inquiry "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",4,5)(10,"div",6),t.YNc(11,x,6,2,"ng-container",7),t.qZA()(),t.TgZ(12,"mat-form-field",8)(13,"mat-icon",9),t._uU(14,"search"),t.qZA(),t.TgZ(15,"input",10),t.NdJ("input",function(r){return a.applyGlobalFilterInput(r.target.value)}),t.qZA()(),t.TgZ(16,"button",11,12),t._UZ(18,"img",13),t.qZA()()(),t.TgZ(19,"mat-card-content",14)(20,"form",15),t.NdJ("ngSubmit",function(){return a.getMoveHistory(a.form.value)}),t.TgZ(21,"div",16)(22,"div",17)(23,"mat-form-field",18)(24,"mat-label"),t._uU(25,"Account"),t.qZA(),t._UZ(26,"input",19),t.qZA(),t.TgZ(27,"mat-form-field",20)(28,"mat-label"),t._uU(29,"Document"),t.qZA(),t._UZ(30,"input",21),t.qZA(),t.TgZ(31,"mat-form-field",20)(32,"mat-label"),t._uU(33," Sort "),t.qZA(),t.TgZ(34,"mat-select",22)(35,"mat-option",23),t._uU(36,"Move Number"),t.qZA(),t.TgZ(37,"mat-option",24),t._uU(38,"Assignment Time"),t.qZA(),t.TgZ(39,"mat-option",25),t._uU(40,"Completion Time"),t.qZA()()(),t.TgZ(41,"mat-form-field",20)(42,"mat-label"),t._uU(43,"Pending Moves"),t.qZA(),t._UZ(44,"input",26),t.qZA(),t.TgZ(45,"mat-form-field",20)(46,"mat-label"),t._uU(47,"Completed Moves"),t.qZA(),t._UZ(48,"input",27),t.qZA(),t.TgZ(49,"mat-form-field",20)(50,"mat-label"),t._uU(51,"Transaction Type"),t.qZA(),t._UZ(52,"input",28),t.qZA()()(),t.TgZ(53,"div",29)(54,"button",30),t._uU(55," Search "),t.qZA()()()(),t.TgZ(56,"table",31),t.ynx(57,32),t.YNc(58,I,2,0,"th",33),t.YNc(59,B,2,1,"td",34),t.BQk(),t.ynx(60,35),t.YNc(61,q,2,0,"th",33),t.YNc(62,b,2,1,"td",34),t.BQk(),t.ynx(63,36),t.YNc(64,Y,2,0,"th",33),t.YNc(65,Q,2,1,"td",34),t.BQk(),t.ynx(66,37),t.YNc(67,R,2,0,"th",33),t.YNc(68,w,2,1,"td",34),t.BQk(),t.ynx(69,38),t.YNc(70,K,2,0,"th",33),t.YNc(71,W,2,1,"td",34),t.BQk(),t.ynx(72,39),t.YNc(73,J,2,0,"th",33),t.YNc(74,$,2,1,"td",34),t.BQk(),t.ynx(75,40),t.YNc(76,F,2,0,"th",33),t.YNc(77,z,2,1,"td",34),t.BQk(),t.ynx(78,41),t.YNc(79,k,2,0,"th",33),t.YNc(80,G,2,1,"td",34),t.BQk(),t.ynx(81,42),t.YNc(82,j,2,0,"th",33),t.YNc(83,X,2,1,"td",34),t.BQk(),t.ynx(84,43),t.YNc(85,V,2,0,"th",33),t.YNc(86,tt,2,1,"td",34),t.BQk(),t.ynx(87,44),t.YNc(88,et,2,0,"th",33),t.YNc(89,ot,2,1,"td",34),t.BQk(),t.ynx(90,45),t.YNc(91,it,2,0,"th",33),t.YNc(92,at,2,1,"td",34),t.BQk(),t.ynx(93,46),t.YNc(94,nt,2,0,"th",33),t.YNc(95,st,2,1,"td",34),t.BQk(),t.ynx(96,47),t.YNc(97,lt,2,0,"th",33),t.YNc(98,rt,2,1,"td",34),t.BQk(),t.YNc(99,ut,1,0,"tr",48),t.YNc(100,mt,1,0,"tr",49),t.qZA(),t.YNc(101,ct,6,0,"div",50),t.TgZ(102,"mat-paginator",51,52),t.NdJ("page",function(r){return a.onPaginateChange(r)}),t.qZA()()),2&o){const s=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",a.columnShowHideList),t.xp6(5),t.Q6J("matMenuTriggerFor",s),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(6),t.s9C("value",a.account),t.xp6(4),t.s9C("value",a.document),t.xp6(14),t.s9C("value",a.pendingMoves),t.xp6(4),t.s9C("value",a.completedMoves),t.xp6(8),t.Q6J("dataSource",a.dataSource),t.xp6(43),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&a.noData),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(14,_t))("pageSize",a.pageSize)}},dependencies:[c.m,D.sg,D.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,d.NW,H.Hw,M.VK,M.p6,S.lW,v.KE,v.hX,v.qo,O.Nt,U.gD,E.ey,T.a8,T.dk,T.dn,T.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,N.gM,P.Rr,L.e]}),e})()}}]);