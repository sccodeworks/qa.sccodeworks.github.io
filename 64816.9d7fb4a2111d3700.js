"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[64816],{64816:(Z,m,a)=>{a.r(m),a.d(m,{RecordSerialComponent:()=>S});var l=a(24006),d=a(70879),c=a(85139),p=a(35226),f=a.n(p),e=a(94650),v=a(19132),h=a(65412),g=a(16082),D=a(97392),E=a(4859),s=a(59549),U=a(44144),u=a(73546),M=a(34894);let S=(()=>{class n{constructor(t,r,o,i){this.fb=t,this.router=r,this.matDialog=o,this.moveService=i,this.user=localStorage.getItem("userName")||"",this.palletMsg="Call MQU806CBR pgm for next screen",this.updateUrl="/main-nav/schedMoves/palletPick"}ngOnInit(){this.element=history.state,this.form=this.fb.group({Item:{value:this.element.apiData?.[3]?.value||"",disabled:!0},Quantity:{value:this.element.apiData?.[4]?.value||"",disabled:!0},PickedFrom:{value:this.element.apiData?.[5]?.value||"",disabled:!0},SerialsNeeded:{value:this.element.apiData?.[6]?.value||"",disabled:!0},Scanned:{value:this.element.apiData?.[7]?.value||"",disabled:!0},serialNumber:{value:this.element.apiData?.[9]?.value||"",disabled:!0},NewSerialNumber:["",l.kI.required]})}updateSerial(){var t=this.form.value;this.moveService.recordSerials(this.user,this.element.apiData?.[2]?.value,this.element.apiData?.[3]?.value,this.element.apiData?.[4]?.value,t.NewSerialNumber).subscribe(r=>{const o=r?.[0]?.data?.[r[0].data.length-1]?.value?.trim(),i=r?.[0]?.data||[];i.inputSerial=t.NewSerialNumber,i.outputSerial=this.element.apiData?.[9].value,o?.toUpperCase()===this.palletMsg.toUpperCase()?(this.router.navigateByUrl(this.updateUrl,{state:i}),this.matDialog.closeAll()):this.failureMessage(o)})}failureMessage(t){f().fire(t,"","error")}ngOnDestroy(){this.recordSerialSubscription&&this.recordSerialSubscription.unsubscribe()}onBack(){const{anyvariable:t,tableData:r}=this.element;this.router.navigateByUrl("/main-nav/scheduledMoves/read",{skipLocationChange:!0}).then(()=>{const o=this.matDialog.open(c.V,{width:"1000px",maxHeight:"90vh",data:t,autoFocus:!1});o.afterOpened().subscribe(()=>{const i=o.componentInstance;i.dataSource.data=r,i.paginator&&(i.dataSource.paginator=i.paginator)})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(v.F0),e.Y36(h.uw),e.Y36(g.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-record-serial"]],standalone:!0,features:[e.jDz],decls:44,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Item"],["matInput","","formControlName","Quantity"],["matInput","","formControlName","PickedFrom"],["matInput","","formControlName","SerialsNeeded"],["matInput","","formControlName","Scanned"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","NewSerialNumber","required","","appUppercase","","maxlength","30"],["matInput","","formControlName","serialNumber"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(t,r){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return r.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Record Serial(s)"),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Item"),e.qZA(),e._UZ(14,"input",8),e.qZA(),e.TgZ(15,"mat-form-field",7)(16,"mat-label"),e._uU(17,"Quantity"),e.qZA(),e._UZ(18,"input",9),e.qZA(),e.TgZ(19,"mat-form-field",7)(20,"mat-label"),e._uU(21,"Picked From"),e.qZA(),e._UZ(22,"input",10),e.qZA(),e.TgZ(23,"mat-form-field",7)(24,"mat-label"),e._uU(25,"Serials Needed"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.TgZ(27,"mat-form-field",7)(28,"mat-label"),e._uU(29,"Scanned"),e.qZA(),e._UZ(30,"input",12),e.qZA(),e.TgZ(31,"h3"),e._uU(32,"\xa0\xa0 Scan To LP/Serial Number"),e.qZA(),e._UZ(33,"hr"),e.TgZ(34,"mat-form-field",13)(35,"mat-label"),e._uU(36,"New Serial"),e.qZA(),e._UZ(37,"input",14),e.qZA(),e.TgZ(38,"mat-form-field",13)(39,"mat-label"),e._uU(40,"Serial"),e.qZA(),e._UZ(41,"input",15),e.qZA()()(),e.TgZ(42,"button",16),e.NdJ("click",function(){return r.updateSerial()}),e._uU(43," Submit "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",r.form),e.xp6(34),e.Q6J("disabled",!(r.form.valid&&r.form.dirty)))},dependencies:[d.m,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.sg,l.u,D.Hw,E.lW,s.KE,s.hX,U.Nt,u.a8,u.dk,u.dn,u.n5,M.e]}),n})()}}]);