"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[99765],{99765:(S,c,a)=>{a.r(c),a.d(c,{SerializedMoveDetailsComponent:()=>T});var s=a(24006),v=a(70879),p=a(35226),f=a.n(p),g=a(1524),t=a(94650),M=a(21641),E=a(19132),Z=a(65412),U=a(36895),D=a(97392),I=a(4859),h=a(59549),C=a(44144),m=a(73546);function A(l,d){if(1&l){const e=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onStockInquiry())}),t._uU(1," Stock Inquiry "),t.qZA()}}let T=(()=>{class l{constructor(e,o,i,n){this.lpFloorMoveService=e,this.fb=o,this.router=i,this.matDialog=n,this.user=localStorage.getItem("userName"),this.data=[],this.showStockInquiry=!1,this.showToLocation=!0}ngOnInit(){this.element=history.state,this.data=this.element?.data||[];const e=this.data[8]?.value||"",o=this.data[9]?.value||"",i=this.data[10]?.value||"",n=this.data[11]?.value||"",r=this.data[12]?.value||"",u=this.data[13]?.value||"",_=this.data[14]?.value||"";this.showStockInquiry=!!this.element?.showStockInquiry,this.showToLocation=!this.element?.hideToLocation,this.form=this.fb.group({storer:[{value:this.element.storer,disabled:!0}],item:[{value:e,disabled:!0}],lots:[{value:o,disabled:!0}],quantity:[{value:i,disabled:!0}],from:[{value:n,disabled:!0}],type:[{value:r,disabled:!0}],height:[{value:u,disabled:!0}],suggestedLocation:[{value:_,disabled:!0}],toLocation:["",this.showToLocation?s.kI.required:[]],serial:this.element.serial||""})}ngOnDestroy(){this.serializedMoveSubscription&&this.serializedMoveSubscription.unsubscribe()}serializedMove1(){const e=this.form.getRawValue();this.serializedMoveSubscription&&this.serializedMoveSubscription.unsubscribe(),this.serializedMoveSubscription=this.lpFloorMoveService.serialisedMove1(this.user,e.serial??"",e.toLocation??"").subscribe(i=>{const n=i?.[0]?.data??[],r=n.length,u=r?n[r-2]?.value:void 0,_=r?n[r-1]?.value:void 0;u?.toUpperCase()==="Floor Move Completed Successfully".toUpperCase()&&_?.toUpperCase()==="Call AJU812RLP for Continuous Add".toUpperCase()?(this.successMessage(u),this.router.navigateByUrl("/main-nav/lpFloorMove/serializedMove/read",{state:{storer:this.element?.storer,serial:""}})):this.failureMessage(_||u)})}successMessage(e){f().fire(e,"","success")}failureMessage(e){f().fire(e,"","error")}onBack(){this.router.navigateByUrl("/main-nav/lpFloorMove/serializedMove/read",{state:{user:this.user,storer:this.element?.storer,suffix:this.element?.suffix,serial:this.element?.serial,data:this.element?.data}})}ItemStockInquiry(e){this.matDialog.open(g.a,{width:"1000px",maxHeight:"130vh",data:e,autoFocus:!1})}onStockInquiry(){const e={WKSTOR:this.element?.storer,WKITEM:this.form.get("item")?.value};this.ItemStockInquiry(e)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(M.D),t.Y36(s.qu),t.Y36(E.F0),t.Y36(Z.uw))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-serialized-move-details"]],standalone:!0,features:[t.jDz],decls:54,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","storer"],["matInput","","formControlName","serial"],["matInput","","formControlName","item"],["matInput","","formControlName","lots"],["matInput","","formControlName","quantity"],["matInput","","formControlName","from"],["matInput","","formControlName","type"],["matInput","","formControlName","height"],["matInput","","formControlName","suggestedLocation"],["matInput","","formControlName","toLocation"],["mat-raised-button","",1,"buttons","addButton",3,"click"],["class","buttons addButton","mat-raised-button","",3,"click",4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Serialized Move "),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Storer"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Serial"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Item"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Lots"),t.qZA(),t._UZ(26,"input",11),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"Quantity"),t.qZA(),t._UZ(30,"input",12),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"From"),t.qZA(),t._UZ(34,"input",13),t.qZA(),t.TgZ(35,"mat-form-field",7)(36,"mat-label"),t._uU(37,"Type"),t.qZA(),t._UZ(38,"input",14),t.qZA(),t.TgZ(39,"mat-form-field",7)(40,"mat-label"),t._uU(41,"Height"),t.qZA(),t._UZ(42,"input",15),t.qZA(),t.TgZ(43,"mat-form-field",7)(44,"mat-label"),t._uU(45,"Suggested Location"),t.qZA(),t._UZ(46,"input",16),t.qZA(),t.TgZ(47,"mat-form-field",7)(48,"mat-label"),t._uU(49,"To Location"),t.qZA(),t._UZ(50,"input",17),t.qZA()()(),t.TgZ(51,"button",18),t.NdJ("click",function(){return o.serializedMove1()}),t._uU(52," Update "),t.qZA(),t.YNc(53,A,2,0,"button",19),t.qZA()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",o.form),t.xp6(45),t.Q6J("ngIf",o.showStockInquiry))},dependencies:[v.m,U.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,D.Hw,I.lW,h.KE,h.hX,C.Nt,m.a8,m.dk,m.dn,m.n5]}),l})()}}]);