"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[74711,34894,26628,70096],{34894:(S,C,i)=>{i.d(C,{e:()=>c});var p=i(94650),y=i(24006);let c=(()=>{class h{constructor(o,d){this.el=o,this.control=d}onInputChange(o){const d=this.el.nativeElement,f=d.value.toUpperCase();d.value=f,this.control&&this.control.control&&this.control.control.setValue(f,{emitEvent:!1})}}return h.\u0275fac=function(o){return new(o||h)(p.Y36(p.SBq),p.Y36(y.a5))},h.\u0275dir=p.lG2({type:h,selectors:[["","appUppercase",""]],hostBindings:function(o,d){1&o&&p.NdJ("input",function(v){return d.onInputChange(v)})},standalone:!0}),h})()},39505:(S,C,i)=>{i.d(C,{L:()=>P});var p=i(24006),y=i(59549),c=i(69751),h=i(68675),t=i(54004),o=i(94650),d=i(36895),f=i(47957),v=i(3238),D=i(44144);function E(_,T){if(1&_&&(o.TgZ(0,"mat-option",4),o._uU(1),o.qZA()),2&_){const n=T.$implicit;o.Q6J("value",n),o.xp6(1),o.Oqu(n)}}let P=(()=>{class _{constructor(n){this.fb=n,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=u=>{},this.onChange=u=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new c.y,this.filteredOptions=this.control.valueChanges.pipe((0,h.O)(this.value),(0,t.U)(u=>this._filter(u)))}setDescribedByIds(n){}onContainerClick(n){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(n){null!=n&&(this.control.setValue(n),this.value=n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}_filter(n){if(null==n||0==n.length)return this.options;const u=n.toLowerCase(),g=this.options.filter(O=>O.toLowerCase().includes(u));return!this.disabled&&1===g.length&&this.control.value!=g[0]&&n.length>=(this.previousValue?.length??0)&&this.control.setValue(g[0]),this.onChange(this.control.value),this.previousValue=this.control.value,g}}return _.\u0275fac=function(n){return new(n||_)(o.Y36(p.qu))},_.\u0275cmp=o.Xpm({type:_,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(n,u){2&n&&o.uIk("aria-describedby",u.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[o._Bn([{provide:p.JU,multi:!0,useExisting:_},{provide:y.Eo,useExisting:_}],[{provide:p.gN,useExisting:p.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,u){if(1&n&&(o.TgZ(0,"mat-form-field",0)(1,"mat-label"),o._uU(2),o.qZA(),o._UZ(3,"input",1),o.TgZ(4,"mat-autocomplete",null,2),o.YNc(6,E,2,2,"mat-option",3),o.ALo(7,"async"),o.qZA()()),2&n){const g=o.MAs(5);o.Q6J("appearance",u.appearance),o.xp6(2),o.Oqu(u.label),o.xp6(1),o.Q6J("id",u.id)("placeholder",u.placeholder)("formControl",u.control)("matAutocomplete",g),o.xp6(3),o.Q6J("ngForOf",o.lcZ(7,7,u.filteredOptions))}},dependencies:[d.sg,p.Fj,p.JJ,p.oH,f.XC,f.ZL,v.ey,y.KE,y.hX,D.Nt,d.Ov]}),_})()},74711:(S,C,i)=>{i.r(C),i.d(C,{ActivitySupplyPoolComponent:()=>z});var p=i(98739),y=i(70879),c=i(7155),h=i(86385),t=i(94650),o=i(24006),d=i(19132),f=i(65412),v=i(11527),D=i(36895),E=i(97392),P=i(4859),_=i(59549),T=i(44144),n=i(73546),u=i(34894),g=i(39505);function O(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Invalid date format. Use DD-MM-YYYY. "),t.qZA())}function Z(e,l){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Invalid date format. Use DD-MM-YYYY. "),t.qZA())}function U(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Date"),t.qZA())}function M(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WTDATE)}}function B(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Reference"),t.qZA())}function I(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WKREFNO)}}function N(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Wr/Bol"),t.qZA())}function R(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WKDOCN)}}function L(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Description"),t.qZA())}function W(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WKTDESC)}}function b(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Transaction Type"),t.qZA())}function Y(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WKTTYPE)}}function K(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Quantity"),t.qZA())}function x(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.SNQTY)}}function Q(e,l){1&e&&(t.TgZ(0,"th",35),t._uU(1,"Balance"),t.qZA())}function J(e,l){if(1&e&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&e){const a=l.$implicit;t.xp6(1),t.Oqu(a.WBALNC)}}function q(e,l){1&e&&t._UZ(0,"tr",37)}function F(e,l){if(1&e){const a=t.EpF();t.TgZ(0,"tr",38),t.NdJ("click",function(){const m=t.CHM(a).$implicit,A=t.oxw();return t.KtG(A.rowClick(m))}),t.qZA()}}const w=function(){return[8,16,24]};let z=(()=>{class e{constructor(a,s,r,m){this.fb=a,this.router=s,this.matDialog=r,this.supplyPoolSvc=m,this.displayedColumns=["Date","Reference","WrBol","Description","TransType","Quantity","Balance"],this.searchTextDisplay=!1,this.dataSource=new c.by,this.duplicateSource=[],this.editedRows=[],this.columnShowHideList=[],this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.includeOptions=["I","O","A"],this.url="/main-nav/supplyPool/read",this.date=new Date,this.firstDay=new Date(this.date.getFullYear(),this.date.getMonth(),1),this.statusValue="AC"}ngOnInit(){const a=(new Date).toISOString().split("T")[0];this.element=history.state;const s=this.pageSize;this.editedRows=[];const r=this.pageNumber;this.form=this.fb.group({supplyType:this.element.S3TYPE,pool:this.element.WKNAME,startDate:this.firstDay.toLocaleDateString("fr-CA"),endDate:a,status:this.statusValue,includeType1:"",includeType2:"",includeType3:""}),this.getActivity(s,r),this.dataSource.filterPredicate=this.createFilter()}getActivity(a,s){var r=this.form.value;this.poolSubscription&&this.poolSubscription.unsubscribe(),this.poolSubscription=this.supplyPoolSvc.getSupplyPoolActivity(this.user,this.element.S3TYPE,this.element.S3STOR,this.element.S3SSFX,this.element.S3CONS,this.element.S3CARR,r.startDate,r.endDate,r.includeType1,r.includeType2,r.includeType3,a,s).subscribe(m=>{var A=JSON.parse(m[0].data[1]?.value);this.dataSource.data=A.returnedData,this.totalRecords=A.TotalRecords})}getActivityBySearch(a){const s=this.pageSize;this.currentFilters=a,this.paginator.firstPage(),this.getActivity(s,this.pageNumber)}createFilter(){return(a,s)=>{const r=JSON.parse(s);return Object.keys(r).every(m=>a[m].toString().toLowerCase().includes(r[m].toLowerCase()))}}onPaginateChange(a){this.pageSize=a.pageSize,this.getActivity(a.pageSize,a.pageIndex+1)}ngOnDestroy(){this.poolSubscription&&this.poolSubscription.unsubscribe()}rowClick(a){this.selectedRow=a}searchSupplyPool(){this.searchTextDisplay=1!=this.searchTextDisplay}onBack(){this.router.navigate([this.url])}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(o.qu),t.Y36(d.F0),t.Y36(f.uw),t.Y36(v.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-activity-supply-pool"]],viewQuery:function(a,s){if(1&a&&t.Gf(p.NW,5),2&a){let r;t.iGM(r=t.CRH())&&(s.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:73,vars:13,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","supplyType","appUppercase",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["type","date","matInput","","formControlName","startDate"],[4,"ngIf"],["type","date","matInput","","formControlName","endDate"],["readonly","","matInput","","formControlName","pool"],["readonly","","matInput","","formControlName","status"],["appearance","outline","formControlName","includeType1","label","Include Type1",1,"full-width",3,"options"],["appearance","outline","formControlName","includeType2","label","Include Type2",1,"full-width",3,"options"],["appearance","outline","formControlName","includeType3","label","Include Type3",1,"full-width",3,"options"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Reference"],["matColumnDef","WrBol"],["matColumnDef","Description"],["matColumnDef","TransType"],["matColumnDef","Quantity"],["matColumnDef","Balance"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,s){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return s.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Supply Activity Inquiry"),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4),t.NdJ("ngSubmit",function(){return s.getActivityBySearch(s.form.value)}),t.TgZ(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Supply Type"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"div",9)(16,"label",10),t._uU(17,"Date"),t.qZA(),t.TgZ(18,"div",11)(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Start Date"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,O,2,0,"mat-error",13),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"End Date"),t.qZA(),t._UZ(27,"input",14),t.YNc(28,Z,2,0,"mat-error",13),t.qZA()()(),t._UZ(29,"br"),t.TgZ(30,"mat-form-field",7)(31,"mat-label"),t._uU(32,"Pool"),t.qZA(),t._UZ(33,"input",15),t.qZA(),t.TgZ(34,"mat-form-field",7)(35,"mat-label"),t._uU(36,"Status "),t.qZA(),t._UZ(37,"input",16),t.qZA(),t.TgZ(38,"div",9)(39,"label",10),t._uU(40,"Include Types"),t.qZA(),t.TgZ(41,"div",11),t._UZ(42,"custom-input-autocomplete",17)(43,"custom-input-autocomplete",18)(44,"custom-input-autocomplete",19),t.qZA()()()(),t.TgZ(45,"button",20),t._uU(46," Search "),t.qZA()()(),t.TgZ(47,"table",21),t.ynx(48,22),t.YNc(49,U,2,0,"th",23),t.YNc(50,M,2,1,"td",24),t.BQk(),t.ynx(51,25),t.YNc(52,B,2,0,"th",23),t.YNc(53,I,2,1,"td",24),t.BQk(),t.ynx(54,26),t.YNc(55,N,2,0,"th",23),t.YNc(56,R,2,1,"td",24),t.BQk(),t.ynx(57,27),t.YNc(58,L,2,0,"th",23),t.YNc(59,W,2,1,"td",24),t.BQk(),t.ynx(60,28),t.YNc(61,b,2,0,"th",23),t.YNc(62,Y,2,1,"td",24),t.BQk(),t.ynx(63,29),t.YNc(64,K,2,0,"th",23),t.YNc(65,x,2,1,"td",24),t.BQk(),t.ynx(66,30),t.YNc(67,Q,2,0,"th",23),t.YNc(68,J,2,1,"td",24),t.BQk(),t.YNc(69,q,1,0,"tr",31),t.YNc(70,F,1,0,"tr",32),t.qZA(),t.TgZ(71,"mat-paginator",33,34),t.NdJ("page",function(m){return s.onPaginateChange(m)}),t.qZA()()),2&a){let r,m;t.xp6(8),t.Q6J("formGroup",s.form),t.xp6(15),t.Q6J("ngIf",null==(r=s.form.get("startDate"))?null:r.hasError("invalidDate")),t.xp6(5),t.Q6J("ngIf",null==(m=s.form.get("endDate"))?null:m.hasError("invalidDate")),t.xp6(14),t.Q6J("options",s.includeOptions),t.xp6(1),t.Q6J("options",s.includeOptions),t.xp6(1),t.Q6J("options",s.includeOptions),t.xp6(3),t.Q6J("dataSource",s.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("length",s.totalRecords)("pageSizeOptions",t.DdM(12,w))("pageSize",s.pageSize)}},dependencies:[y.m,D.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,p.NW,E.Hw,P.lW,_.TO,_.KE,_.hX,T.Nt,n.a8,n.dk,n.dn,n.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,u.e,h.j,g.L]}),e})()}}]);