"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[8033],{68033:(rt,T,o)=>{o.r(T),o.d(T,{TallyInvoiceInquiryComponent:()=>ot});var _=o(7155),d=o(70879),t=o(94650),c=o(24006),g=o(65412),Z=o(19132),y=o(81543),I=o(36895),h=o(98739),q=o(97392),v=o(4859),f=o(59549),A=o(44144),m=o(73546);const C=["paginator"];function U(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Quantity"),t.qZA())}function D(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.ICQTY," ")}}function x(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Item"),t.qZA())}function O(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IITEM," ")}}function b(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Description"),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IDESC," ")}}function E(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Lot Codes"),t.qZA())}function S(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE("",n.ILOT1,"",n.ILOT2?" | ":"","")}}function R(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.AsE("",n.ILOT2,"",n.ILOT3?" | ":"","")}}function B(e,i){if(1&e&&(t.ynx(0),t._uU(1),t.BQk()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.ILOT3)}}function Y(e,i){if(1&e&&(t.TgZ(0,"td",35),t.YNc(1,S,2,2,"ng-container",36),t.YNc(2,R,2,2,"ng-container",36),t.YNc(3,B,2,1,"ng-container",36),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("ngIf",n.ILOT1),t.xp6(1),t.Q6J("ngIf",n.ILOT2),t.xp6(1),t.Q6J("ngIf",n.ILOT3)}}function M(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Weight"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IGRSW," ")}}function P(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Rate"),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IRATE," ")}}function H(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Base"),t.qZA())}function W(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IBASE," ")}}function w(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"Amount"),t.qZA())}function K(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IAMT," ")}}function k(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"HSM"),t.qZA())}function J(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IHSM," ")}}function $(e,i){1&e&&(t.TgZ(0,"th",34),t._uU(1,"O/S/D"),t.qZA())}function j(e,i){if(1&e&&(t.TgZ(0,"td",35),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.IOSD," ")}}function z(e,i){1&e&&t._UZ(0,"tr",37)}function F(e,i){1&e&&t._UZ(0,"tr",38)}function G(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Total Handling : "),t.qZA(),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,n.totalHandling,"1.2-2"))}}function V(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"Total Handling : "),t.qZA(),t._uU(2)),2&e&&(t.xp6(2),t.Oqu(""))}function X(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"storage : "),t.qZA(),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,n.storage,"1.2-2"))}}function tt(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"storage : "),t.qZA(),t._uU(2)),2&e&&(t.xp6(2),t.Oqu(""))}function et(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"special : "),t.qZA(),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,n.special,"1.2-2"))}}function nt(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"special : "),t.qZA(),t._uU(2)),2&e&&(t.xp6(2),t.Oqu(""))}function it(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"W/R Total : "),t.qZA(),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e){const n=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,n.wrTotal,"1.2-2"))}}function at(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"W/R Total : "),t.qZA(),t._uU(2)),2&e&&(t.xp6(2),t.Oqu(""))}const lt=function(){return[4,7,10]};let ot=(()=>{class e{constructor(n,a,u,r){this.fb=n,this.matDialog=a,this.router=u,this.RecvSvc=r,this.displayedColumns=["Qty","Item","Description","LotCodes","Weight","Rate","Base","Amount","HSM","OSD"],this.columnShowHideList=[],this.user=localStorage.getItem("userName")||"",this.dataSource=new _.by,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.Receivables="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({tally:""}),this.getTallyInquiry(this.pageSize,this.pageNumber)}getTallyInquiry(n,a){const u=this.currentFilters||{},{WKINVN:r=`${this.element.WKINV}`}=u;this.readTallyInquiryServiceSubscription&&this.readTallyInquiryServiceSubscription.unsubscribe(),this.readTallyInquiryServiceSubscription=this.RecvSvc.FreightInv(this.user,r,n,a).subscribe(s=>{var p=JSON.parse(s[0].data[1]?.value),l=p.returnedData;this.tally=l[0].IHTALY,this.accountOf=l[0].IHSTOR,this.billTo=l[0].IHCUST,this.carrier=l[0].CRNAME,this.proNumber=l[0].IHPRO,this.referenceNo=l[0].IHSTRF,this.carTrailer=l[0].IHCAR,this.invoiceNo=l[0].IHINVO,this.invoiceDate=l[0].IHINDT,this.receivedDate=l[0].IHACTA,this.scheduledDate=l[0].IHSCHA,this.buildingNo=l[0].IHBLDG,this.loadType=l[0].ILDTYP,this.receiptType=l[0].IRCTYP,this.seal1Or2Broken=`${l[0].IHBRK1} ${l[0].IHBRK2}`,this.totalHandling=l[0].ITOTHD,this.storage=l[0].ITOTST,this.special=l[0].ITOTSP,this.wrTotal=l[0].IGRTOT;var ut=this.parseResponseForTable(l);this.dataSource.data=ut,this.totalRecords=p.TotalRecords})}ngOnDestroy(){this.readTallyInquiryServiceSubscription&&this.readTallyInquiryServiceSubscription.unsubscribe()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}parseResponseForTable(n){var a=["90","50","60"],u=[];for(var r of n)a.includes(r.ILINE)||(0==r.ICQTY&&(r.ICQTY=null),"30"==r.ILINE?/\S/.test(r.ICMNT)&&u.push({IDESC:r.ICMNT}):u.push(r));return u}onPaginateChange(n){this.pageSize=n.pageSize,this.getTallyInquiry(n.pageSize,n.pageIndex+1)}onBack(){this.router.navigate([this.Receivables])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.qu),t.Y36(g.uw),t.Y36(Z.F0),t.Y36(y.Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-tally-invoice-inquiry"]],viewQuery:function(n,a){if(1&n&&t.Gf(C,5),2&n){let u;t.iGM(u=t.CRH())&&(a.paginator=u.first)}},standalone:!0,features:[t.jDz],decls:130,vars:29,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline"],["readonly","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Qty"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Item"],["matColumnDef","Description"],["matColumnDef","LotCodes"],["matColumnDef","Weight"],["matColumnDef","Rate"],["matColumnDef","Base"],["matColumnDef","Amount"],["matColumnDef","HSM"],["matColumnDef","OSD"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],[4,"ngIf","ngIfElse"],["defaulttotalHandling",""],["defaultstorage",""],["defaultspecial",""],["defaultwrTotal",""],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(n,a){if(1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"Tally Invoice Inquiry"),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Tally Number"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Account Of"),t.qZA(),t._UZ(18,"input",8),t.qZA(),t.TgZ(19,"mat-form-field",7)(20,"mat-label"),t._uU(21,"Bill To"),t.qZA(),t._UZ(22,"input",8),t.qZA(),t.TgZ(23,"mat-form-field",7)(24,"mat-label"),t._uU(25,"Carrier"),t.qZA(),t._UZ(26,"input",8),t.qZA(),t.TgZ(27,"mat-form-field",7)(28,"mat-label"),t._uU(29,"PRO Number"),t.qZA(),t._UZ(30,"input",8),t.qZA(),t.TgZ(31,"mat-form-field",7)(32,"mat-label"),t._uU(33,"Reference Number"),t.qZA(),t._UZ(34,"input",8),t.qZA(),t.TgZ(35,"mat-form-field",7)(36,"mat-label"),t._uU(37,"Car/Trailer"),t.qZA(),t._UZ(38,"input",8),t.qZA(),t.TgZ(39,"mat-form-field",7)(40,"mat-label"),t._uU(41,"Invoice Number"),t.qZA(),t._UZ(42,"input",8),t.qZA(),t.TgZ(43,"mat-form-field",7)(44,"mat-label"),t._uU(45,"Invoice Date"),t.qZA(),t._UZ(46,"input",8),t.qZA(),t.TgZ(47,"mat-form-field",7)(48,"mat-label"),t._uU(49,"Received Date"),t.qZA(),t._UZ(50,"input",8),t.qZA(),t.TgZ(51,"mat-form-field",7)(52,"mat-label"),t._uU(53,"Scheduled Date"),t.qZA(),t._UZ(54,"input",8),t.qZA(),t.TgZ(55,"mat-form-field",7)(56,"mat-label"),t._uU(57,"Building Number"),t.qZA(),t._UZ(58,"input",8),t.qZA(),t.TgZ(59,"mat-form-field",7)(60,"mat-label"),t._uU(61,"Load Type"),t.qZA(),t._UZ(62,"input",8),t.qZA(),t.TgZ(63,"mat-form-field",7)(64,"mat-label"),t._uU(65,"Receipt Type"),t.qZA(),t._UZ(66,"input",8),t.qZA(),t.TgZ(67,"mat-form-field",7)(68,"mat-label"),t._uU(69,"Seal 1/2 Broken"),t.qZA(),t._UZ(70,"input",8),t.qZA()()()()(),t.TgZ(71,"table",9),t.ynx(72,10),t.YNc(73,U,2,0,"th",11),t.YNc(74,D,2,1,"td",12),t.BQk(),t.ynx(75,13),t.YNc(76,x,2,0,"th",11),t.YNc(77,O,2,1,"td",12),t.BQk(),t.ynx(78,14),t.YNc(79,b,2,0,"th",11),t.YNc(80,N,2,1,"td",12),t.BQk(),t.ynx(81,15),t.YNc(82,E,2,0,"th",11),t.YNc(83,Y,4,3,"td",12),t.BQk(),t.ynx(84,16),t.YNc(85,M,2,0,"th",11),t.YNc(86,L,2,1,"td",12),t.BQk(),t.ynx(87,17),t.YNc(88,P,2,0,"th",11),t.YNc(89,Q,2,1,"td",12),t.BQk(),t.ynx(90,18),t.YNc(91,H,2,0,"th",11),t.YNc(92,W,2,1,"td",12),t.BQk(),t.ynx(93,19),t.YNc(94,w,2,0,"th",11),t.YNc(95,K,2,1,"td",12),t.BQk(),t.ynx(96,20),t.YNc(97,k,2,0,"th",11),t.YNc(98,J,2,1,"td",12),t.BQk(),t.ynx(99,21),t.YNc(100,$,2,0,"th",11),t.YNc(101,j,2,1,"td",12),t.BQk(),t.YNc(102,z,1,0,"tr",22),t.YNc(103,F,1,0,"tr",23),t.qZA(),t._UZ(104,"br"),t.TgZ(105,"div",24),t._UZ(106,"br")(107,"br"),t.TgZ(108,"div",25)(109,"button",26),t.YNc(110,G,5,4,"span",27),t.YNc(111,V,3,1,"ng-template",null,28,t.W1O),t.qZA()(),t.TgZ(113,"div",25)(114,"button",26),t.YNc(115,X,5,4,"span",27),t.YNc(116,tt,3,1,"ng-template",null,29,t.W1O),t.qZA()(),t.TgZ(118,"div",25)(119,"button",26),t.YNc(120,et,5,4,"span",27),t.YNc(121,nt,3,1,"ng-template",null,30,t.W1O),t.qZA()(),t.TgZ(123,"div",25)(124,"button",26),t.YNc(125,it,5,4,"span",27),t.YNc(126,at,3,1,"ng-template",null,31,t.W1O),t.qZA()()(),t._UZ(128,"mat-paginator",32,33),t.qZA()),2&n){const u=t.MAs(112),r=t.MAs(117),s=t.MAs(122),p=t.MAs(127);t.xp6(8),t.Q6J("formGroup",a.form),t.xp6(6),t.s9C("value",a.tally),t.xp6(4),t.s9C("value",a.accountOf),t.xp6(4),t.s9C("value",a.billTo),t.xp6(4),t.s9C("value",a.carrier),t.xp6(4),t.s9C("value",a.proNumber),t.xp6(4),t.s9C("value",a.referenceNo),t.xp6(4),t.s9C("value",a.carTrailer),t.xp6(4),t.s9C("value",a.invoiceNo),t.xp6(4),t.s9C("value",a.invoiceDate),t.xp6(4),t.s9C("value",a.receivedDate),t.xp6(4),t.s9C("value",a.scheduledDate),t.xp6(4),t.s9C("value",a.buildingNo),t.xp6(4),t.s9C("value",a.loadType),t.xp6(4),t.s9C("value",a.receiptType),t.xp6(4),t.s9C("value",a.seal1Or2Broken),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(31),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(7),t.Q6J("ngIf",void 0!==a.totalHandling)("ngIfElse",u),t.xp6(5),t.Q6J("ngIf",void 0!==a.storage)("ngIfElse",r),t.xp6(5),t.Q6J("ngIf",void 0!==a.special)("ngIfElse",s),t.xp6(5),t.Q6J("ngIf",void 0!==a.wrTotal)("ngIfElse",p),t.xp6(3),t.Q6J("pageSizeOptions",t.DdM(28,lt))}},dependencies:[d.m,I.O5,c._Y,c.JL,c.sg,h.NW,q.Hw,v.lW,f.KE,f.hX,A.Nt,m.a8,m.dk,m.dn,m.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,I.JJ]}),e})()}}]);