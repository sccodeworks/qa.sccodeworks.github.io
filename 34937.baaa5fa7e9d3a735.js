"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[34937],{34937:(U,m,o)=>{o.r(m),o.d(m,{LocationAuditComponent:()=>L});var h=o(35226),c=o.n(h),g=o(48529),p=o(70879),t=o(94650),n=o(24006),E=o(19132),A=o(5475),C=o(36895),D=o(97392),M=o(4859),_=o(59549),O=o(44144),l=o(73546);function v(s,r){1&s&&(t.TgZ(0,"mat-form-field",7)(1,"mat-label"),t._uU(2,"Lots"),t.qZA(),t._UZ(3,"input",13),t.qZA())}let L=(()=>{class s{constructor(e,a,i){this.fb=e,this.router=a,this.loadCountsService=i,this.user=localStorage.getItem("userName"),this.building=localStorage.getItem("building"),this.storer=localStorage.getItem("storer"),this.storerSuffix=localStorage.getItem("storerSuffix"),this.status=localStorage.getItem("status")}ngOnInit(){this.element=history.state,console.log("Element from state:",this.element),this.form=this.fb.group({location:[{value:this.element?.location||"",disabled:!0}],itemDesc:[{value:this.element?.itemDesc||"",disabled:!0}],lots:[{value:this.element?.lots||"",disabled:!0}],count:""})}get hasLotsValue(){return!(!this.element?.lots||""===this.element.lots.trim())}ngOnDestroy(){this.locationAuditSubscription&&this.locationAuditSubscription.unsubscribe()}count(){const e=this.form.value;this.storer=localStorage.getItem("storer");const a=this.storer?+this.storer:null;this.locationAuditSubscription&&this.locationAuditSubscription.unsubscribe(),this.locationAuditSubscription=this.loadCountsService.onDemandLocationAudit2(a,this.storerSuffix??"",this.element?.item||"",this.element?.lot1||"",this.element?.lot2||"",this.element?.lot3||"",this.building||"",this.element?.floor??0,this.element?.aisle||"",this.element?.slot||"",e.count||"").subscribe(i=>{const d=i[0]?.data,f=d?.length,u=f?d[f-1]?.value:void 0;u?.toUpperCase()===g.R.countPostMsg.toUpperCase()?this.successMessage(u):this.failureMessage(u)})}successMessage(e){c().fire(e,"","success")}failureMessage(e){c().fire(e,"","error")}onBack(){this.router.navigateByUrl("/main-nav/on-demand-location-audit/read")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(n.qu),t.Y36(E.F0),t.Y36(A.e))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-location-audit"]],standalone:!0,features:[t.jDz],decls:26,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","location"],["matInput","","formControlName","itemDesc"],["appearance","outline","class","full-width",4,"ngIf"],["matInput","","formControlName","count"],["mat-raised-button","",1,"buttons","addButton",3,"click"],["matInput","","formControlName","lots"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return a.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Location Audit "),t.qZA()(),t.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"Location"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"mat-form-field",7)(16,"mat-label"),t._uU(17,"Item Description"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.YNc(19,v,4,0,"mat-form-field",10),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Count"),t.qZA(),t._UZ(23,"input",11),t.qZA()()(),t.TgZ(24,"button",12),t.NdJ("click",function(){return a.count()}),t._uU(25," Update "),t.qZA()()()()),2&e&&(t.xp6(8),t.Q6J("formGroup",a.form),t.xp6(11),t.Q6J("ngIf",a.hasLotsValue))},dependencies:[p.m,C.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,D.Hw,M.lW,_.KE,_.hX,O.Nt,l.a8,l.dk,l.dn,l.n5]}),s})()}}]);