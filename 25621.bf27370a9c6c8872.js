"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[25621],{25621:(M,Z,c)=>{c.r(Z),c.d(Z,{ReceivablesInvoiceInquiryRIComponent:()=>z});var b=c(98739),u=c(7155),_=c(70879),e=c(94650),P=c(19132),v=c(24006),q=c(81543),A=c(36895),R=c(97392),U=c(4859),t=c(59549),n=c(44144),r=c(99602),l=c(73546),p=c(10266);function h(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(a);const m=e.oxw();return e.KtG(m.searchAccessInvInq())}),e.TgZ(1,"mat-icon"),e._uU(2,"clear"),e.qZA(),e.TgZ(3,"span"),e._uU(4," Filter"),e.qZA()()}}function I(i,o){if(1&i){const a=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(a);const m=e.oxw();return e.KtG(m.searchAccessInvInq())}),e._UZ(1,"img",48),e.TgZ(2,"span"),e._uU(3," Filter"),e.qZA()()}}function g(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Date"),e.qZA())}function T(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WDATE)}}function C(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Tally"),e.qZA())}function y(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WTALLY)}}function E(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Reference Number"),e.qZA())}function O(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WREFNO)}}function S(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Pieces"),e.qZA())}function x(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WPIECE)}}function W(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Weight"),e.qZA())}function B(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WWEIGH)}}function K(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Type"),e.qZA())}function $(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WTYPE)}}function L(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Return Payment Type"),e.qZA())}function Y(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WRTNTP)}}function Q(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Consignee"),e.qZA())}function k(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WCONS)}}function G(i,o){1&i&&(e.TgZ(0,"th",49),e._uU(1,"Min"),e.qZA())}function J(i,o){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const a=o.$implicit;e.xp6(1),e.Oqu(a.WMIN)}}function F(i,o){1&i&&e._UZ(0,"tr",51)}function j(i,o){1&i&&e._UZ(0,"tr",52)}const w=function(){return[8,16,24]};let z=(()=>{class i{constructor(a,s,m){this.router=a,this.fb=s,this.RecvSvc=m,this.dataSource=new u.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.displayedColumns=["Date","Tally","ReferenceNo","Pieces","Weight","Type","RtnPayTp","Consignee","Min"],this.period="",this.totalAmountDue=0,this.StorerName="",this.receivablesUrl="/main-nav/receivables/read"}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({invoiceNumber:{value:this.element.WKINV,disabled:!0},date:[new Date],time:[this.formatCurrentTime()],GENDT:"",GENTM:"",pageOf:"1"}),this.getInvInquiryRI(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}ngOnDestroy(){this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe()}formatCurrentTime(){const a=new Date;return`${String(a.getHours()).padStart(2,"0")}:${String(a.getMinutes()).padStart(2,"0")}`}createFilter(){return(a,s)=>{const m=JSON.parse(s);return Object.keys(m).every(d=>{const D=a[d]?.toString().toLowerCase()||"",f=m[d].toLowerCase();return D.includes(f)})}}resetSearch(){this.form.reset(),this.currentFilters=null,this.paginator.firstPage(),this.getInvInquiryRI(this.pageSize,1)}getInvInquiryRI(a,s){const m=this.currentFilters||{},{WKINVN:d=`${this.element.WKINV}`}=m;this.invoiceInquirySubscription&&this.invoiceInquirySubscription.unsubscribe(),this.invoiceInquirySubscription=this.RecvSvc.FreightInv(this.user,d,a,s).subscribe(D=>{var f=JSON.parse(D[0].data[1]?.value),N=f.returnedData;this.dataSource.data=N,this.period=f.Period,this.totalAmountDue=f["Total Amount Due"],this.loadGeneratedDateTime(N[0].WKGEND),this.StorerName=f.StorerName,this.totalRecords=f.TotalRecords})}loadGeneratedDateTime(a){const s=a.replace('WKGEND":"',"").replace(/"/g,""),m="20"+s.substring(1,3),d=s.substring(3,5),D=s.substring(5,7),f=s.substring(7,9),N=s.substring(9,11);this.form.patchValue({GENDT:new Date(`${m}-${d}-${D}`),GENTM:`${f}:${N}`})}getBySearch(a){this.currentFilters=a,this.paginator.firstPage(),this.getInvInquiryRI(this.pageSize,1)}searchAccessInvInq(){this.searchTextDisplay=1!=this.searchTextDisplay}onPaginateChange(a){this.pageSize=a.pageSize,this.getInvInquiryRI(a.pageSize,a.pageIndex+1)}onBack(){this.router.navigate([this.receivablesUrl])}}return i.\u0275fac=function(a){return new(a||i)(e.Y36(P.F0),e.Y36(v.qu),e.Y36(q.Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-receivables-invoice-inquiry-ri"]],viewQuery:function(a,s){if(1&a&&e.Gf(b.NW,5),2&a){let m;e.iGM(m=e.CRH())&&(s.paginator=m.first)}},standalone:!0,features:[e.jDz],decls:94,vars:20,consts:[[1,"over-Flow"],[1,"mat-card-head"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["mat-button","","mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","search AccessInvInq",3,"click",4,"ngIf"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","invoiceNumber"],["appearance","outline",1,"full-width2"],["readonly","","matInput","","readonly","",3,"value"],["readonly","","matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["datePicker",""],["readonly","","matInput","","type","Time","formControlName","time","placeholder","HH:mm","id","generatedtime"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["readonly","","matInput","","formControlName","GENDT",3,"matDatepicker"],["GeneratedDatePicker",""],["readonly","","matInput","","type","time","formControlName","GENTM","placeholder","HH:mm","id","generatedtime","required",""],["matInput","","formControlName","pageOf"],["readonly","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Date"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tally"],["matColumnDef","ReferenceNo"],["matColumnDef","Pieces"],["matColumnDef","Weight"],["matColumnDef","Type"],["matColumnDef","RtnPayTp"],["matColumnDef","Consignee"],["matColumnDef","Min"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"summary-container","info"],[1,"summary-row","align-between"],[1,"summary-pill"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","","mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","search AccessInvInq",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,s){if(1&a&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2)(3,"button",3),e.NdJ("click",function(){return s.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6,"Receiving Invoice Worksheet Inquiry "),e.qZA(),e.TgZ(7,"div",4),e.YNc(8,h,5,0,"button",5),e.YNc(9,I,4,0,"button",6),e.qZA()(),e.TgZ(10,"mat-card-content",7)(11,"form",8)(12,"div",9)(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),e._uU(16," Invoice Number "),e.qZA(),e._UZ(17,"input",12),e.qZA(),e.TgZ(18,"mat-form-field",13)(19,"mat-label"),e._uU(20,"Period"),e.qZA(),e._UZ(21,"input",14),e.qZA(),e.TgZ(22,"mat-form-field",11)(23,"mat-label"),e._uU(24,"date "),e.qZA(),e._UZ(25,"input",15)(26,"mat-datepicker-toggle",16)(27,"mat-datepicker",null,17),e.qZA(),e.TgZ(29,"mat-form-field",11)(30,"mat-label"),e._uU(31,"Time"),e.qZA(),e._UZ(32,"input",18),e.qZA(),e.TgZ(33,"div",19)(34,"label",20),e._uU(35,"Generated"),e.qZA(),e.TgZ(36,"div",21)(37,"mat-form-field",11)(38,"mat-label"),e._uU(39,"Generated Date "),e.qZA(),e._UZ(40,"input",22)(41,"mat-datepicker-toggle",16)(42,"mat-datepicker",null,23),e.qZA(),e.TgZ(44,"mat-form-field",11)(45,"mat-label"),e._uU(46,"Generated Time"),e.qZA(),e._UZ(47,"input",24),e.qZA()()(),e.TgZ(48,"mat-form-field",11)(49,"mat-label"),e._uU(50," Page Of "),e.qZA(),e._UZ(51,"input",25),e.qZA(),e.TgZ(52,"mat-form-field",13)(53,"mat-label"),e._uU(54," Storer "),e.qZA(),e._UZ(55,"input",26),e.qZA()()()()(),e._UZ(56,"br"),e.TgZ(57,"table",27),e.ynx(58,28),e.YNc(59,g,2,0,"th",29),e.YNc(60,T,2,1,"td",30),e.BQk(),e.ynx(61,31),e.YNc(62,C,2,0,"th",29),e.YNc(63,y,2,1,"td",30),e.BQk(),e.ynx(64,32),e.YNc(65,E,2,0,"th",29),e.YNc(66,O,2,1,"td",30),e.BQk(),e.ynx(67,33),e.YNc(68,S,2,0,"th",29),e.YNc(69,x,2,1,"td",30),e.BQk(),e.ynx(70,34),e.YNc(71,W,2,0,"th",29),e.YNc(72,B,2,1,"td",30),e.BQk(),e.ynx(73,35),e.YNc(74,K,2,0,"th",29),e.YNc(75,$,2,1,"td",30),e.BQk(),e.ynx(76,36),e.YNc(77,L,2,0,"th",29),e.YNc(78,Y,2,1,"td",30),e.BQk(),e.ynx(79,37),e.YNc(80,Q,2,0,"th",29),e.YNc(81,k,2,1,"td",30),e.BQk(),e.ynx(82,38),e.YNc(83,G,2,0,"th",29),e.YNc(84,J,2,1,"td",30),e.BQk(),e.YNc(85,F,1,0,"tr",39),e.YNc(86,j,1,0,"tr",40),e.qZA(),e.TgZ(87,"div",41)(88,"div",42)(89,"div",43),e._uU(90),e.ALo(91,"number"),e.qZA()()(),e.TgZ(92,"mat-paginator",44,45),e.NdJ("page",function(d){return s.onPaginateChange(d)}),e.qZA()()),2&a){const m=e.MAs(28),d=e.MAs(43);e.xp6(8),e.Q6J("ngIf",s.searchTextDisplay),e.xp6(1),e.Q6J("ngIf",!s.searchTextDisplay),e.xp6(2),e.Q6J("formGroup",s.form),e.xp6(10),e.Q6J("value",s.period),e.xp6(4),e.Q6J("matDatepicker",m),e.xp6(1),e.Q6J("for",m),e.xp6(14),e.Q6J("matDatepicker",d),e.xp6(1),e.Q6J("for",d),e.xp6(14),e.Q6J("value",s.StorerName),e.xp6(2),e.Q6J("dataSource",s.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns),e.xp6(4),e.hij(" Total Amount : $",e.xi3(91,16,s.totalAmountDue,"1.2-2")," "),e.xp6(2),e.Q6J("length",s.totalRecords)("pageSizeOptions",e.DdM(19,w))("pageSize",s.pageSize)}},dependencies:[_.m,A.O5,v._Y,v.Fj,v.JJ,v.JL,v.Q7,v.sg,v.u,b.NW,R.Hw,U.lW,t.KE,t.hX,t.R9,n.Nt,r.Mq,r.hl,r.nW,l.a8,l.dk,l.dn,l.n5,u.BZ,u.fO,u.as,u.w1,u.Dz,u.nj,u.ge,u.ev,u.XQ,u.Gk,p.gM,A.JJ]}),i})()},81543:(M,Z,c)=>{c.d(Z,{Z:()=>A});var b=c(80529),u=c(75625),_=c(70262),e=c(54004),P=c(62843),v=c(92340),q=c(94650);let A=(()=>{class R{constructor(t){this.httpClient=t,this.url=v.N.API_BASE_URL,this.recal="/Receivables/Recalculate",this.httpHeader={headers:new b.WM({"Content-Type":"application/json"})}}getReceivables(t,n,r,l,p,h,I,g,T,C,y,E,O){return this.httpClient.get(this.url+"/Receivables/read?",{params:{user:t,invoice:n??"",customerNumber:r??"",customerSuffix:l??"",customerSecondSuffix:p??"",refNumber:h??"",startDate:I??"",endDate:g??"",building:T??"",status:C??"",type:y??"",recordsPerPage:E??"",pageNo:O??""}})}getReceivablesDetails(t,n,r){return this.httpClient.get(this.url+`/Receivables/details/read?user=${t}&invoice=${n}&seqNum=${r}`)}getReceivableInquiry(t,n){return this.httpClient.get(this.url+`/Receivables/read/inquiry?user=${t}&invoice=${n}`)}getInvoiceInquiry(t,n,r){return this.httpClient.get(this.url+`/Receivables/read/invoiceInquiry?user=${t}&HGCTL=${n}&invoice=${r}`)}getReceivablesAdjustInvoice(){return this.httpClient.get(this.url+"/Receivables/invoiceinquiry")}getAll(t){return this.httpClient.get(this.url+`/Receivables/readAll?user=${t}`)}getAdjustmentInquiry(t,n,r,l){return this.httpClient.get(this.url+"/Receivables/read/adjInquiry??",{params:{user:t,invoice:n??"",recordsPerPage:r??"",pageNo:l??""}})}adjustInvoiceRead(t,n,r,l){return this.httpClient.get(this.url+"/Receivables/adjust/read?",{params:{user:t,invoice:n??"",recordsPerPage:r??"",pageNo:l??""}})}adjustInvoiceUpdate(t,n,r,l,p,h,I,g,T,C,y,E){return this.httpClient.put(this.url+"/Receivables/adjust/update",{user:t,invoice:n,sequence:r,date:l,amount:p,description:h,ledgerCode:I,ledgerSubCode:g,customer:T,suffix1:C,suffix2:y,status:E}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}creditinvoice(t,n,r,l,p,h,I,g,T,C){return this.httpClient.put(this.url+"/Receivables/update/credit",{invoiceNumber:t,building:n,date:r,type:l,description:p,customer:h,reference:I,amount:g,balance:T,reason:C}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}getComment(t,n,r,l){return this.httpClient.get(this.url+`/Receivables/comments/read?user=${t}&key=${n}&recordsPerPage=${r}&pageNo=${l}`)}updateComment(t,n,r,l,p,h){return this.httpClient.put(this.url+"/Receivables/comments/update",{user:t,fileID:n,key:r,sub:l,seq:p,comment:h}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}createComment(t,n,r,l,p){return this.httpClient.post(this.url+"/Receivables/comments/create",{user:t,fileID:n,key:r,sub:l,comment:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}deleteComment(t,n,r,l,p){return this.httpClient.delete(this.url+`/Receivables/comments/delete?user=${t}&fileID=${n}&key=${r}&sub=${l}&seq=${p}`)}Print(t,n,r,l,p){return this.httpClient.put(this.url+"/Receivables/Print",{InvoiceNumber:t,ReportType:n,FileExtension:r,EmailAddress:l,user:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}UpdateLedgerCode(t,n,r,l,p,h,I,g){return this.httpClient.put(this.url+"/Receivables/UpdateLedgerCode",{InvoiceNumber:t,SequenceNumber:n,InvoiceDate:r,LineAmount:l,LedgerCode:p,LedgerSubCode:h,BuildingNumber:I,user:g}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}EmailDetail(t,n){return this.httpClient.put(this.url+"/Receivables/Email/Details",{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}EmailDetailsNew(t,n){return this.httpClient.put(this.url+"/Receivables/EmailDetailsNew",{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}Recalculate(t,n){return this.httpClient.put(this.url+this.recal,{user:t,InvoiceNumber:n}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}ReceivingCover(t,n,r){return this.httpClient.put(this.url+"/Receivables/ReceivingCover",{user:t,InvoiceNumber:n,ReturnCode:r}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}MicCover(t,n,r,l,p){return this.httpClient.put(this.url+"/Receivables/MicCover",{user:t,InvoiceNumber:n,StorerNumber:r,StorerSuffix:l,ReturnCode:p}).pipe((0,u.X)(1),(0,_.K)(this.httpError))}deleteReceivables(t,n){return this.httpClient.delete(this.url+`/Receivables/delete/receivable?invoice=${t}&description=${n}`)}FreightInv(t,n,r,l){return this.httpClient.get(this.url+"/Receivables/read/invoiceInquiry?",{params:{user:t,WKINVN:n??"",recordsPerPage:r??"",pageNo:l??""}})}readReceivablesTallyInquiryService(t,n){return this.httpClient.get(this.url+`/ihcrud/tallyinquiry?user=${t}&tally=${n}`).pipe((0,e.U)(r=>r[0]))}httpError(t){let n="";return n=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(n),(0,P._)(()=>new Error(n))}}return R.\u0275fac=function(t){return new(t||R)(q.LFG(b.eN))},R.\u0275prov=q.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()}}]);