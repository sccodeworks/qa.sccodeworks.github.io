"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[16987,11790,38754,85645],{11790:(N,v,s)=>{s.d(v,{y:()=>D});var p=s(65412),c=s(94650),g=s(97392),w=s(4859);let U=(()=>{class f{constructor(d,b){this.dialogRef=d,this.data=b}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return f.\u0275fac=function(d){return new(d||f)(c.Y36(p.so),c.Y36(p.WI))},f.\u0275cmp=c.Xpm({type:f,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(d,b){1&d&&(c.TgZ(0,"div",0)(1,"div",1)(2,"button",2),c.NdJ("click",function(){return b.closeDialog()}),c.TgZ(3,"mat-icon"),c._uU(4,"close"),c.qZA()(),c.TgZ(5,"div",3),c._UZ(6,"img",4),c.qZA(),c.TgZ(7,"h2",5),c._uU(8,"Confirmation"),c.qZA(),c.TgZ(9,"span",6),c._uU(10),c.qZA()(),c.TgZ(11,"div",7)(12,"button",8),c._uU(13,"Cancel"),c.qZA(),c.TgZ(14,"button",9),c._uU(15,"Delete"),c.qZA()()()),2&d&&(c.xp6(10),c.Oqu(b.data.message),c.xp6(2),c.Q6J("mat-dialog-close",!1),c.xp6(2),c.Q6J("mat-dialog-close",!0))},dependencies:[g.Hw,w.lW,p.ZT]}),f})(),D=(()=>{class f{constructor(d){this.dialog=d}openCustomAlert(d){return this.dialog.open(U,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:d}})}}return f.\u0275fac=function(d){return new(d||f)(c.LFG(p.uw))},f.\u0275prov=c.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},16987:(N,v,s)=>{s.r(v),s.d(v,{PutawaylocationComponent:()=>ht});var p=s(7155),c=s(35226),g=s.n(c),w=s(98739),U=s(77579),D=s(78372),f=s(71884),y=s(70879),d=s(65412),b=s(48529),t=s(94650),T=s(19132),C=s(15013),u=s(24006),S=s(97392),A=s(4859),_=s(59549),P=s(44144),h=s(73546);let x=(()=>{class a{constructor(e,o,n,l,i,m){this.router=e,this.TallyDetailWorkService=o,this.data=n,this.fb=l,this.route=i,this.dialogRef=m,this.user=localStorage.getItem("userName")}ngOnInit(){this.anyvariable=this.data[0],console.log("this.anyvariable:",this.anyvariable),this.form=this.fb.group({Tally:this.anyvariable.Tally,Line:this.anyvariable.Line,Item:this.anyvariable.Item,PalletQuantity:this.anyvariable.PalletQuantity,Serial:"",Location:"",Quantity:this.anyvariable.Quantity,Bucket:"A"})}ngOnDestroy(){this.createServicePutawayLocSubscription&&this.createServicePutawayLocSubscription.unsubscribe()}createPutawayLoc(){const e=this.form.value;this.createServicePutawayLocSubscription&&this.createServicePutawayLocSubscription.unsubscribe(),this.createServicePutawayLocSubscription=this.TallyDetailWorkService.PutawayLocationcase2Create(this.user,e.Tally,e.Line,e.Item,e.PalletQuantity,"",e.Serial,e.Location,e.Quantity,e.Bucket).subscribe({next:o=>{try{this.result=o;const n=this.result[0]?.data,i=n?.[(n?.length||0)-1]?.value||"No message provided";i===b.R.createMsg?(this.successMessage(i),this.closeDialog(),this.router.navigateByUrl("/main-nav/putawayLocation-case2/read",{state:this.data[1]})):this.failureMessage(i)}catch(n){console.error("Parse error:",n),this.failureMessage("Unexpected response format.")}},error:o=>{console.error("HTTP error:",o),this.failureMessage("Network or server error.")}})}successMessage(e){g().fire(e,"","success")}failureMessage(e){g().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(C.J),t.Y36(d.WI),t.Y36(u.qu),t.Y36(T.gz),t.Y36(d.so))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-putaway-create"]],standalone:!0,features:[t.jDz],decls:47,vars:2,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Tally"],["matInput","","formControlName","Line"],["matInput","","formControlName","Item"],["matInput","","formControlName","PalletQuantity"],["matInput","","required","","formControlName","Serial"],["matInput","","formControlName","Location",2,"text-transform","uppercase"],["matInput","","formControlName","Quantity"],["matInput","","formControlName","Bucket"],[1,"footer"],["type","button","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Putaway Locations"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Tally"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Line"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Item"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Pallet Quantity"),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Serial"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Location"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Quantity"),t.qZA(),t._UZ(39,"input",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Bucket"),t.qZA(),t._UZ(43,"input",15),t.qZA()()()()(),t.TgZ(44,"div",16)(45,"button",17),t.NdJ("click",function(){return o.createPutawayLoc()}),t._uU(46," Create "),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(36),t.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[y.m,u._Y,u.Fj,u.JJ,u.JL,u.Q7,u.sg,u.u,S.Hw,A.lW,_.KE,_.hX,P.Nt,h.a8,h.dk,h.dn,h.n5]}),a})(),q=(()=>{class a{constructor(e,o,n,l,i,m){this.router=e,this.TallyDetailWorkService=o,this.data=n,this.fb=l,this.route=i,this.dialogRef=m,this.user=localStorage.getItem("userName")}ngOnInit(){this.anyvariable=this.data,console.log("this.anyvariable:",this.anyvariable),this.form=this.fb.group({Tally:this.anyvariable[0].Tally,Line:this.anyvariable[0].Line,Item:this.anyvariable[0].Item,PalletQuantity:this.anyvariable[0].PalletQuantity,Serial:this.anyvariable[2].WSRL,Location:this.anyvariable[2].WLOCN,Quantity:this.anyvariable[2].WQTY,Bucket:this.anyvariable[2].WITYP})}ngOnDestroy(){this.createServicePutawayLocSubscription&&this.createServicePutawayLocSubscription.unsubscribe()}UpdatePutawayLoc(){const e=this.form.value;this.createServicePutawayLocSubscription&&this.createServicePutawayLocSubscription.unsubscribe(),this.createServicePutawayLocSubscription=this.TallyDetailWorkService.PutawayLocationcase2Update(this.user,e.Tally,e.Line,e.Item,e.PalletQuantity,this.anyvariable[2].WSRL,e.Serial,e.Location,e.Quantity,e.Bucket).subscribe({next:o=>{try{this.result=o;const n=this.result[0]?.data,i=n?.[(n?.length||0)-1]?.value||"No message provided";i===b.R.updateMsg?(this.successMessage(i),this.closeDialog(),this.router.navigateByUrl("/main-nav/putawayLocation-case2/read",{state:this.data[1]})):this.failureMessage(i)}catch(n){console.error("Parse error:",n),this.failureMessage("Unexpected response format.")}},error:o=>{console.error("HTTP error:",o),this.failureMessage("Network or server error.")}})}successMessage(e){g().fire(e,"","success")}failureMessage(e){g().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(C.J),t.Y36(d.WI),t.Y36(u.qu),t.Y36(T.gz),t.Y36(d.so))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-putaway-update"]],standalone:!0,features:[t.jDz],decls:47,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Tally","readonly",""],["matInput","","formControlName","Line","readonly",""],["matInput","","formControlName","Item","readonly",""],["matInput","","formControlName","PalletQuantity","readonly",""],["matInput","","formControlName","Serial","readonly",""],["matInput","","formControlName","Location",2,"text-transform","uppercase"],["matInput","","formControlName","Quantity"],["matInput","","formControlName","Bucket"],[1,"footer"],["type","button","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Putaway Locations"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Tally"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Line"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Item"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Pallet Quantity"),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Serial"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Location"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Quantity"),t.qZA(),t._UZ(39,"input",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Bucket"),t.qZA(),t._UZ(43,"input",15),t.qZA()()()()(),t.TgZ(44,"div",16)(45,"button",17),t.NdJ("click",function(){return o.UpdatePutawayLoc()}),t._uU(46," Update "),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form))},dependencies:[y.m,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,S.Hw,A.lW,_.KE,_.hX,P.Nt,h.a8,h.dk,h.dn,h.n5]}),a})();var L=s(11790);let Q=(()=>{class a{constructor(e,o,n,l,i,m,Z){this.router=e,this.CustomAlertService=o,this.TallyDetailWorkService=n,this.data=l,this.fb=i,this.route=m,this.dialogRef=Z,this.user=localStorage.getItem("userName")}ngOnInit(){this.anyvariable=this.data,console.log("this.anyvariable:",this.anyvariable),this.form=this.fb.group({Tally:this.anyvariable[0].Tally,Line:this.anyvariable[0].Line,Item:this.anyvariable[0].Item,PalletQuantity:this.anyvariable[0].PalletQuantity,Serial:this.anyvariable[2].WSRL,Location:this.anyvariable[2].WLOCN,Quantity:this.anyvariable[2].WQTY,Bucket:this.anyvariable[2].WITYP}),this.form.disable()}ngOnDestroy(){this.PutawayLocSubscription&&this.PutawayLocSubscription.unsubscribe()}deletePutawayLocation(){const e=this.form.value;this.CustomAlertService.openCustomAlert("Are you sure want to delete Putaway Delete with serial No: "+e.Serial+" ?").afterClosed().subscribe(n=>{n&&(this.PutawayLocSubscription&&this.PutawayLocSubscription.unsubscribe(),this.PutawayLocSubscription=this.TallyDetailWorkService.PutawayLocationcase2Delete(this.user,e.Tally,e.Line,e.Serial).subscribe({next:l=>{try{this.result=l;const i=this.result[0]?.data,Z=i?.[(i?.length||0)-1]?.value||"No message provided";Z===b.R.Deletemessage?(this.successMessage(Z),this.closeDialog(),this.router.navigateByUrl("/main-nav/putawayLocation-case2/read",{state:this.anyvariable[1]})):this.failureMessage(Z)}catch(i){console.error("Parse error:",i),this.failureMessage("Unexpected response format.")}},error:l=>{console.error("HTTP error:",l),this.failureMessage("Network or server error.")}}))})}successMessage(e){g().fire(e,"","success"),this.router.navigate(["/main-nav/putawayLocation-case2/read"])}failureMessage(e){g().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(T.F0),t.Y36(L.y),t.Y36(C.J),t.Y36(d.WI),t.Y36(u.qu),t.Y36(T.gz),t.Y36(d.so))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-putaway-delete"]],standalone:!0,features:[t.jDz],decls:47,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","Tally"],["matInput","","formControlName","Line"],["matInput","","formControlName","Item"],["matInput","","formControlName","PalletQuantity"],["matInput","","formControlName","Serial"],["matInput","","formControlName","Location"],["matInput","","formControlName","Quantity"],["matInput","","formControlName","Bucket"],[1,"footer"],["mat-raised-button","","type","button",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Delete Putaway Location"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Tally"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"Line"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"Item"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26,"Pallet Quantity"),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Serial"),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Location"),t.qZA(),t._UZ(35,"input",13),t.qZA(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Quantity"),t.qZA(),t._UZ(39,"input",14),t.qZA(),t.TgZ(40,"mat-form-field",7)(41,"mat-label"),t._uU(42,"Bucket"),t.qZA(),t._UZ(43,"input",15),t.qZA()()()()(),t.TgZ(44,"div",16)(45,"button",17),t.NdJ("click",function(){return o.deletePutawayLocation()}),t._uU(46," Delete "),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form))},dependencies:[y.m,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,S.Hw,A.lW,_.KE,_.hX,P.Nt,h.a8,h.dk,h.dn,h.n5]}),a})();var k=s(15627),J=s(11240),Y=s(80529),I=s(36895),R=s(10266);function F(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchPutAwayLocation())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Filter"),t.qZA()()}}function M(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.searchPutAwayLocation())}),t._UZ(1,"img",30),t.TgZ(2,"span"),t._uU(3,"Filter"),t.qZA()()}}function B(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"form",31),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.getPutawayBySearch(n.form.value))}),t.TgZ(1,"div",32)(2,"div",33)(3,"mat-form-field",34)(4,"mat-label"),t._uU(5,"Tally"),t.qZA(),t._UZ(6,"input",35),t.qZA(),t.TgZ(7,"mat-form-field",34)(8,"mat-label"),t._uU(9,"Line"),t.qZA(),t._UZ(10,"input",36),t.qZA(),t.TgZ(11,"mat-form-field",34)(12,"mat-label"),t._uU(13,"Item"),t.qZA(),t._UZ(14,"input",37),t.qZA(),t.TgZ(15,"mat-form-field",34)(16,"mat-label"),t._uU(17,"Building"),t.qZA(),t._UZ(18,"input",38),t.qZA(),t.TgZ(19,"mat-form-field",34)(20,"mat-label"),t._uU(21,"Description"),t.qZA(),t._UZ(22,"input",39),t.qZA(),t.TgZ(23,"div",40)(24,"label",41),t._uU(25,"Lot Codes"),t.qZA(),t.TgZ(26,"div",42)(27,"mat-form-field",34)(28,"mat-label"),t._uU(29,"Lot 1"),t.qZA(),t._UZ(30,"input",43),t.qZA(),t.TgZ(31,"mat-form-field",34)(32,"mat-label"),t._uU(33,"Lot 2"),t.qZA(),t._UZ(34,"input",44),t.qZA(),t.TgZ(35,"mat-form-field",34)(36,"mat-label"),t._uU(37,"Lot 3"),t.qZA(),t._UZ(38,"input",45),t.qZA()()(),t.TgZ(39,"mat-form-field",34)(40,"mat-label"),t._uU(41,"Quantity"),t.qZA(),t._UZ(42,"input",46),t.qZA(),t.TgZ(43,"mat-form-field",34)(44,"mat-label"),t._uU(45,"Pallet Quantity"),t.qZA(),t._UZ(46,"input",47),t.qZA(),t.TgZ(47,"mat-form-field",34)(48,"mat-label"),t._uU(49,"Remaining"),t.qZA(),t._UZ(50,"input",48),t.qZA(),t.TgZ(51,"mat-form-field",34)(52,"mat-label"),t._uU(53,"Over"),t.qZA(),t._UZ(54,"input",49),t.qZA(),t.TgZ(55,"mat-form-field",34)(56,"mat-label"),t._uU(57,"Short"),t.qZA(),t._UZ(58,"input",50),t.qZA()()(),t.TgZ(59,"div",51)(60,"button",52),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.savePutawayDetails())}),t._uU(61," Search "),t.qZA()()()}if(2&a){const e=t.oxw();t.Q6J("formGroup",e.form)}}function O(a,r){1&a&&(t.TgZ(0,"th",53),t._uU(1,"Serial Number"),t.qZA())}function W(a,r){if(1&a&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e.WSRL)}}function H(a,r){1&a&&(t.TgZ(0,"th",53),t._uU(1,"Location"),t.qZA())}function z(a,r){if(1&a&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.hij("",e.WLOCN," ")}}function G(a,r){1&a&&(t.TgZ(0,"th",53),t._uU(1,"Type"),t.qZA())}function $(a,r){if(1&a&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e.WITYP)}}function j(a,r){1&a&&(t.TgZ(0,"th",53),t._uU(1,"Quantity"),t.qZA())}function E(a,r){if(1&a&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(0!==e.WQTY?e.WQTY:"")}}function K(a,r){1&a&&(t.TgZ(0,"th",53),t._uU(1,"Status"),t.qZA())}function X(a,r){if(1&a&&(t.TgZ(0,"td",54),t._uU(1),t.qZA()),2&a){const e=r.$implicit;t.xp6(1),t.Oqu(e.WSTAT)}}function V(a,r){1&a&&(t.TgZ(0,"th",55),t._uU(1,"Actions"),t.qZA())}function tt(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"li",76)(1,"button",77),t.NdJ("click",function(){const l=t.CHM(e).$implicit,i=t.oxw(2).$implicit,m=t.oxw();return t.KtG(m.handleRecentClick(l,i))}),t._uU(2),t.qZA()()}if(2&a){const e=r.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function et(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"li",69)(1,"div",70)(2,"span",71),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.clearRecentSearches())}),t.TgZ(5,"span",73),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",74),t.YNc(8,tt,3,1,"li",75),t.qZA()()}if(2&a){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function at(a,r){1&a&&(t.TgZ(0,"li",78)(1,"div",79)(2,"mat-icon",80),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",81),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",82),t._uU(7,"We couldn't find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function ot(a,r){if(1&a&&(t.ynx(0),t._UZ(1,"img",85),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function nt(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function it(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"li",83)(1,"button",77),t.NdJ("click",function(){const l=t.CHM(e).$implicit,i=t.oxw().$implicit,m=t.oxw();return t.KtG(m.handleItemClick(l,i))}),t.YNc(2,ot,2,2,"ng-container",84),t.YNc(3,nt,3,1,"ng-container",84),t._uU(4),t.qZA()()}if(2&a){const e=r.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function rt(a,r){if(1&a&&(t.ynx(0),t._UZ(1,"img",89),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function lt(a,r){if(1&a&&(t.ynx(0),t.TgZ(1,"mat-icon",90),t._uU(2),t.qZA(),t.BQk()),2&a){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function st(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"li",86)(1,"button",77),t.NdJ("click",function(){const l=t.CHM(e).$implicit,i=t.oxw().$implicit,m=t.oxw();return t.KtG(m.handleItemClick(l,i))}),t.TgZ(2,"div",87),t.YNc(3,rt,2,2,"ng-container",84),t.YNc(4,lt,3,1,"ng-container",84),t.TgZ(5,"span",88),t._uU(6),t.qZA()()()()}if(2&a){const e=r.$implicit,o=t.oxw(2);t.Q6J("hidden",o.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function ct(a,r){if(1&a){const e=t.EpF();t.TgZ(0,"td",54)(1,"div",56)(2,"button",57),t._UZ(3,"img",58),t.qZA(),t.TgZ(4,"ul",59)(5,"li",60)(6,"mat-form-field",61)(7,"input",62),t.NdJ("ngModelChange",function(n){t.CHM(e);const l=t.oxw();return t.KtG(l.searchDropdownText=n)})("input",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSearchChange())}),t.qZA()()(),t.YNc(8,et,9,1,"li",63),t.TgZ(9,"div",64),t._UZ(10,"hr",65),t.qZA(),t.YNc(11,at,8,0,"li",66),t.YNc(12,it,5,3,"li",67),t.YNc(13,st,7,4,"li",68),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function ut(a,r){1&a&&t._UZ(0,"tr",91)}function mt(a,r){1&a&&t._UZ(0,"tr",92)}function dt(a,r){1&a&&(t.TgZ(0,"div",93),t._UZ(1,"img",94),t.TgZ(2,"h3",95),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",96),t._uU(5," There's no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const pt=function(){return[8,16,24]};let ht=(()=>{class a{constructor(e,o,n,l,i,m,Z,ft){this.iHeaderSvc=e,this.storerService=o,this.TallyDetailWorkService=n,this.fb=l,this.router=i,this.matDialog=m,this.CustomAlertService=Z,this.http=ft,this.searchTextDisplay=!1,this.user=localStorage.getItem("userName")||"",this.pageNumber=1,this.pageSize=8,this.totalRecords=0,this.displayedColumns=["SerialNumber","Location","Type","Quantity","Status","Actions"],this.dataSource=new p.by([]),this.duplicateSource=[],this.subscriptions=[],this.isLoading=!0,this.noData=!1,this.searchInput$=new U.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.currentFilters=null,this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[]}ngOnInit(){this.historyState=history.state,console.log("History State:",this.historyState);const e=Number(this.historyState[0]?.IDTALY||0),o=Number(this.historyState[0]?.IDSEQ||0);this.form=this.fb.group({tally:[e],line:[o],Building:[""],Item:[this.historyState[0]?.IDITEM||""],Description:[""],LotCode1:[""],LotCode2:[""],LotCode3:[""],Quantity:[""],PalletQuantity:[""],over:[""],short:[""],Remaining:[""]}),this.loadPutawayLocation(this.pageSize,1),this.dataSource.filterPredicate=this.createFilter(),this.searchInput$.pipe((0,D.b)(500),(0,f.x)()).subscribe(l=>{this.handleSearch(l)}),this.http.get("assets/jsondata/putawaylocation.json").subscribe(l=>{this.headerActions=l.header,this.menuItems=l.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=l.search;const i=localStorage.getItem("putawayLocationRecentSearches");if(i){const m=JSON.parse(i);this.recentSearches=this.menuItems.filter(Z=>m.includes(Z.label))}this.filteredRecentSearches=[...this.recentSearches]})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}searchPutAwayLocation(){this.searchTextDisplay=1!=this.searchTextDisplay}loadPutawayLocation(e,o){this.isLoading=!0,this.noData=!1;const n=this.currentFilters||this.form.value;this.subscriptions.push(this.TallyDetailWorkService.PutAwayLocationCase(this.user,n.tally,n.line,e,o).subscribe({next:l=>{this.isLoading=!1;try{const i=JSON.parse(l[0].data[1]?.value);if(this.res1=i,Array.isArray(i.returnedData)){const m=i.returnedData;this.totalRecords=i.TotalRecords||m.length,this.allData=[...m],this.noData=0===m.length,this.dataSource=new p.by(m),this.dataSource.data=m,this.form.patchValue({Building:i.Building||"",Description:i.Description||"",LotCode1:i.LotCode1||"",LotCode2:i.LotCode2||"",LotCode3:i.LotCode3||"",Quantity:i.Quantity||"",PalletQuantity:i.PalletQuantity||"",over:0===i.Over?"":i.Over,short:0===i.Short?"":i.Short,Remaining:i.Remaining||""})}else this.handleNoData()}catch(i){console.error("Error parsing data:",i),this.handleNoData()}},error:()=>{this.handleNoData()}}))}handleNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new p.by([])}applyGlobalFilterInput(e){this.searchInput$.next(e)}handleSearch(e){return(e=e.trim().toLowerCase())?(this.isSearchMode=!0,0===this.allData.length?(this.loadPutawayLocation(1e3,1),void setTimeout(()=>this.applyManualFilter(e),500)):void this.applyManualFilter(e)):(this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.noData=!1,this.paginator&&this.paginator.firstPage(),void this.loadPutawayLocation(this.pageSize,1))}applyManualFilter(e){this.filteredData=this.allData.filter(o=>Object.values(o).some(n=>String(n).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const o=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(o,o+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}createFilter(){return(e,o)=>{const n=JSON.parse(o);return Object.keys(n).every(l=>e[l]?.toString().toLowerCase().includes(n[l]?.toLowerCase()??""))}}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):(this.pageNumber=e.pageIndex+1,this.loadPutawayLocation(this.pageSize,this.pageNumber))}savePutawayDetails(){const e=this.form.getRawValue(),o={user:this.user||"",tally:Number(e.tally)||0,sequence:Number(e.line)||0,over:Number(e.over)||0,short:Number(e.short)||0};console.log("Save Payload:",o),this.TallyDetailWorkService.updatePutawayLocation(o).subscribe({next:n=>{const l=JSON.parse(n[0].data[1]?.value);l.success?(this.form.patchValue({Remaining:l.Remaining??this.form.value.Remaining,over:l.Over??this.form.value.over,short:l.Short??this.form.value.short},{emitEvent:!1}),this.successMessage(l.returnedData?.message||"Updated Successfully"),this.searchTextDisplay=!0,this.router.navigate(["/main-nav/putawayLocation-case2/read"],{state:[{IDTALY:this.form.value.tally,IDSEQ:this.form.value.line,IDITEM:this.form.value.Item,WDQREM:this.form.value.Remaining,WDQOVR:this.form.value.over,WDQSHT:this.form.value.short}]})):this.failureMessage(l.returnedData?.message||"Update failed")},error:n=>{console.error("Save failed:",n),this.failureMessage("An error occurred while saving")}})}createPutawayLocation(){var e=history.state;this.matDialog.open(x,{panelClass:"right-dialog",data:[this.res1,e],autoFocus:!1})}updatePutawayLocation(e){const o=history.state;this.matDialog.open(q,{panelClass:"right-dialog",data:[this.res1,o,e],autoFocus:!1})}deletePutawayLocation(e){const o=history.state;this.matDialog.open(Q,{panelClass:"right-dialog",data:[this.res1,o,e],autoFocus:!1})}handleItemClick(e,o){this.executeAction(e,o),this.addToRecentSearches(e)}executeAction(e,o){"function"==typeof this[e.action]?this[e.action](o):console.warn("Action not implemented:",e.action)}handleRecentClick(e,o){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](o),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(o=>o.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("putawayLocationRecentSearches",JSON.stringify(this.recentSearches.map(o=>o.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("putawayLocationRecentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(o=>o.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}resetSearch(){this.form.reset(),this.currentFilters=null,this.dataSource.filter="",this.allData=[],this.paginator.firstPage(),this.loadPutawayLocation(this.pageSize,1)}getPutawayBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.loadPutawayLocation(this.pageSize,1)}successMessage(e){g().fire(e,"","success"),this.router.navigate(["/main-nav/putawayLocation-case2/read"])}failureMessage(e){g().fire(e,"","error")}onBack(){this.router.navigateByUrl("/main-nav/tallys/details",{state:this.historyState})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(k.X),t.Y36(J.h),t.Y36(C.J),t.Y36(u.qu),t.Y36(T.F0),t.Y36(d.uw),t.Y36(L.y),t.Y36(Y.eN))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-putawaylocation"]],viewQuery:function(e,o){if(1&e&&t.Gf(w.NW,5),2&e){let n;t.iGM(n=t.CRH())&&(o.paginator=n.first)}},standalone:!0,features:[t.jDz],decls:48,vars:11,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Putaway Location",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add Putaway Location",1,"addButton",3,"click"],["mat-button","","type","reset","value","Reset","matTooltip","Reset",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["id","myTable","mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","SerialNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Type"],["matColumnDef","Quantity"],["matColumnDef","Status"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Putaway Location",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tally"],["matInput","","formControlName","line"],["matInput","","formControlName","Item"],["matInput","","formControlName","Building"],["matInput","","formControlName","Description"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","LotCode1","readonly",""],["matInput","","formControlName","LotCode2","readonly",""],["matInput","","formControlName","LotCode3","readonly",""],["matInput","","formControlName","Quantity","readonly",""],["matInput","","formControlName","PalletQuantity","readonly",""],["matInput","","formControlName","Remaining","readonly",""],["matInput","","formControlName","over"],["matInput","","formControlName","short"],[1,"footer"],["mat-raised-button","","type","button",1,"buttons","addButton","new-tally-form-btn",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6," Maintain Putaway Locations "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-icon",5),t._uU(10,"search"),t.qZA(),t.TgZ(11,"input",6),t.NdJ("input",function(l){return o.applyGlobalFilterInput(l.target.value)}),t.qZA()(),t.YNc(12,F,5,0,"button",7),t.YNc(13,M,4,0,"button",8),t.TgZ(14,"button",9),t.NdJ("click",function(){return o.createPutawayLocation()}),t.TgZ(15,"mat-icon"),t._uU(16,"add"),t.qZA(),t.TgZ(17,"span"),t._uU(18,"Create Putaway Location"),t.qZA()(),t.TgZ(19,"button",10),t.NdJ("click",function(){return o.resetSearch()}),t.TgZ(20,"mat-icon"),t._uU(21,"loop"),t.qZA()()()(),t.TgZ(22,"mat-card-content",11),t.YNc(23,B,62,1,"form",12),t.qZA(),t.TgZ(24,"table",13),t.ynx(25,14),t.YNc(26,O,2,0,"th",15),t.YNc(27,W,2,1,"td",16),t.BQk(),t.ynx(28,17),t.YNc(29,H,2,0,"th",15),t.YNc(30,z,2,1,"td",16),t.BQk(),t.ynx(31,18),t.YNc(32,G,2,0,"th",15),t.YNc(33,$,2,1,"td",16),t.BQk(),t.ynx(34,19),t.YNc(35,j,2,0,"th",15),t.YNc(36,E,2,1,"td",16),t.BQk(),t.ynx(37,20),t.YNc(38,K,2,0,"th",15),t.YNc(39,X,2,1,"td",16),t.BQk(),t.ynx(40,21),t.YNc(41,V,2,0,"th",22),t.YNc(42,ct,14,5,"td",16),t.BQk(),t.YNc(43,ut,1,0,"tr",23),t.YNc(44,mt,1,0,"tr",24),t.qZA(),t.YNc(45,dt,6,0,"div",25),t.TgZ(46,"mat-paginator",26,27),t.NdJ("page",function(l){return o.onPaginateChange(l)}),t.qZA()()),2&e&&(t.xp6(12),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!o.searchTextDisplay),t.xp6(10),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("ngIf",!o.isLoading&&o.noData),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(10,pt))("pageSize",o.pageSize))},dependencies:[y.m,I.sg,I.O5,u._Y,u.Fj,u.JJ,u.JL,u.On,u.sg,u.u,w.NW,S.Hw,A.lW,_.KE,_.hX,_.qo,P.Nt,h.a8,h.dk,h.dn,h.n5,p.BZ,p.fO,p.as,p.w1,p.Dz,p.nj,p.ge,p.ev,p.XQ,p.Gk,R.gM]}),a})()}}]);