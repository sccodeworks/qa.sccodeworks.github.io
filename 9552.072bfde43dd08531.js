"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9552],{99552:(P,s,o)=>{o.r(s),o.d(s,{InquiryGeneralInvoiceComponent:()=>K});var l=o(7155),d=o(70879),t=o(94650),h=o(65412),f=o(19132),c=o(24006),g=o(20025),T=o(98739),I=o(97392),C=o(4859),_=o(59549),D=o(44144),m=o(73546);const v=["paginator"];function Z(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," Charge Description "),t.qZA())}function A(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.WKDESC," ")}}function q(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1,"Quantity"),t.qZA())}function y(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.DGQTY)}}function E(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1,"Rate"),t.qZA())}function U(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.DGRATE)}}function G(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," Basis "),t.qZA())}function M(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.DGBASE)}}function O(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1," Amount "),t.qZA())}function S(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.DGAMT)}}function b(e,a){1&e&&(t.TgZ(0,"th",29),t._uU(1,"Minimum Charges"),t.qZA())}function B(e,a){if(1&e&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Oqu(n.DGMINM)}}function N(e,a){1&e&&t._UZ(0,"tr",31)}function R(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"tr",32),t.NdJ("click",function(){const u=t.CHM(n).$implicit,p=t.oxw();return t.KtG(p.rowClick(u))}),t.qZA()}}const W=function(){return[8,16,24]};let K=(()=>{class e{constructor(n,i,r,u){this.matDialog=n,this.router=i,this.fb=r,this.GeneralInvoicesSvc=u,this.title="",this.header="",this.MailTo="",this.displayedColumns=["ChargeDescription","Quantity","Rate","Basis","Amount","MinimumCharges"],this.TotalDue=0,this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,console.log(this.element),this.form=this.fb.group({BillTo:{value:this.element.WKCUST,disabled:!0},AcctOf:{value:this.element.WKCUST,disabled:!0},RefNo:{value:this.element.WKREF,disabled:!0},CarTr:{value:this.element.WKCAR,disabled:!0},Date:{value:this.element.WKDATE,disabled:!0},Building:{value:this.element.HGBLDG,disabled:!0}}),this.getGeneralInvoiceInquiry()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getGeneralInvoiceInquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.GeneralInvoicesSvc.getGeneralInvoiceInquiry(this.user,this.element.WKCTRL,this.element.WKINV).subscribe(n=>{this.TotalDue=0;var r=JSON.parse(n[0].data[1].value);if(this.duplicateSource=r.returnedData,this.dataSource=new l.by(this.duplicateSource),this.MailTo=this.duplicateSource[0].SYNAME+this.duplicateSource[0].SYADD1+this.duplicateSource[0].SYADD2+this.duplicateSource[0].SYADD3,console.log(this.MailTo),"EN"===this.element.WKSTAT?(this.title=this.duplicateSource[0].WKHDG,this.header="Worksheet"):(this.title=this.duplicateSource[0].WKHDG,this.header="Invoice No:\xa0"+this.element.WKINV),console.log(this.dataSource),this.duplicateSource.length>0){this.dataSource.paginator=this.paginator;for(let u=0;u<this.duplicateSource.length;u++)this.TotalDue+=this.duplicateSource[u].DGAMT,console.log(this.TotalDue)}})}rowClick(n){this.selectedRow=n}onBack(){this.router.navigate(["/main-nav/generalInvoice/read"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.uw),t.Y36(f.F0),t.Y36(c.qu),t.Y36(g.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inquiry-general-invoice"]],viewQuery:function(n,i){if(1&n&&t.Gf(v,5),2&n){let r;t.iGM(r=t.CRH())&&(i.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:69,vars:10,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillTo"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","AcctOf"],["matInput","","formControlName","RefNo"],["matInput","","formControlName","CarTr"],["matInput","","formControlName","Date"],["matInput","","formControlName","Building"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ChargeDescription"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Quantity"],["matColumnDef","Rate"],["matColumnDef","Basis"],["matColumnDef","Amount"],["matColumnDef","MinimumCharges"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"left-side"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,i){1&n&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),t.NdJ("click",function(){return i.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"Bill To"),t.qZA(),t._UZ(14,"input",7),t.qZA(),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17,"AcctOf"),t.qZA(),t._UZ(18,"input",9),t.qZA(),t.TgZ(19,"mat-form-field",6)(20,"mat-label"),t._uU(21,"RefNo"),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",8)(24,"mat-label"),t._uU(25,"CarTr"),t.qZA(),t._UZ(26,"input",11),t.qZA(),t.TgZ(27,"mat-form-field",6)(28,"mat-label"),t._uU(29,"Date"),t.qZA(),t._UZ(30,"input",12),t.qZA(),t.TgZ(31,"mat-form-field",6)(32,"mat-label"),t._uU(33,"Building"),t.qZA(),t._UZ(34,"input",13),t.qZA()()()()(),t.TgZ(35,"table",14),t.ynx(36,15),t.YNc(37,Z,2,0,"th",16),t.YNc(38,A,2,1,"td",17),t.BQk(),t.ynx(39,18),t.YNc(40,q,2,0,"th",16),t.YNc(41,y,2,1,"td",17),t.BQk(),t.ynx(42,19),t.YNc(43,E,2,0,"th",16),t.YNc(44,U,2,1,"td",17),t.BQk(),t.ynx(45,20),t.YNc(46,G,2,0,"th",16),t.YNc(47,M,2,1,"td",17),t.BQk(),t.ynx(48,21),t.YNc(49,O,2,0,"th",16),t.YNc(50,S,2,1,"td",17),t.BQk(),t.ynx(51,22),t.YNc(52,b,2,0,"th",16),t.YNc(53,B,2,1,"td",17),t.BQk(),t.YNc(54,N,1,0,"tr",23),t.YNc(55,R,1,0,"tr",24),t.qZA(),t._UZ(56,"br"),t.TgZ(57,"div",25)(58,"button",26),t._UZ(59,"br"),t.TgZ(60,"b"),t._uU(61),t.qZA()()(),t.TgZ(62,"div",25)(63,"button",26),t._UZ(64,"br"),t.TgZ(65,"b"),t._uU(66),t.qZA()()(),t._UZ(67,"mat-paginator",27,28),t.qZA()),2&n&&(t.xp6(6),t.AsE(" ",i.title," \xa0",i.header,""),t.xp6(2),t.Q6J("formGroup",i.form),t.xp6(27),t.Q6J("dataSource",i.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(6),t.hij(" Mail Payment to : ",i.MailTo," "),t.xp6(5),t.hij(" Total Due :$ ",i.TotalDue,""),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(9,W)))},dependencies:[d.m,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,T.NW,I.Hw,C.lW,_.KE,_.hX,D.Nt,m.a8,m.dk,m.dn,m.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk]}),e})()}}]);