"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[54794,34894,26628,70096,49741],{34894:(A,d,a)=>{a.d(d,{e:()=>p});var o=a(94650),f=a(24006);let p=(()=>{class i{constructor(t,l){this.el=t,this.control=l}onInputChange(t){const l=this.el.nativeElement,s=l.value.toUpperCase();l.value=s,this.control&&this.control.control&&this.control.control.setValue(s,{emitEvent:!1})}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(o.SBq),o.Y36(f.a5))},i.\u0275dir=o.lG2({type:i,selectors:[["","appUppercase",""]],hostBindings:function(t,l){1&t&&o.NdJ("input",function(g){return l.onInputChange(g)})},standalone:!0}),i})()},54794:(A,d,a)=>{a.r(d),a.d(d,{AddWorkWithDockSchedulerComponent:()=>W});var o=a(24006),f=a(35226),p=a.n(f),i=a(70879),m=a(48529),t=a(94650),l=a(19132),s=a(65412),g=a(72122),E=a(97392),C=a(4859),D=a(59549),v=a(44144),O=a(84385),P=a(3238),_=a(73546),M=a(34894);let W=(()=>{class c{constructor(e,r,n,u){this.fb=e,this.router=r,this.matDialog=n,this.WorkWithDockSchedulerService=u,this.user=localStorage.getItem("userName"),this.dockSchedulerUrl="/main-nav/WorkWithDockScheduler/read",this.DOCK_URL="/main-nav/WorkWithDockScheduler/read"}ngOnInit(){this.element=history.state,this.form=this.fb.group({building:[this.element?.[0]||"",o.kI.required],inOut:[this.element?.[1]||""],scacCode:["",o.kI.required],requestDate:["",o.kI.required],requestTime:["",o.kI.required],appointmentType:"",loadType:"",expectedDuration:"",quantityExpected:"",weightExpected:"",trailerNumber:"",priority:"",contact:"",phone:"",email:""})}ngOnDestroy(){this.addDockSchedulerSubscription&&this.addDockSchedulerSubscription.unsubscribe()}dockSchedulerCreate(){const e=this.form.value;let r="0000";if(e.requestTime){const[n,u]=e.requestTime.split(":").map(h=>h.padStart(2,"0"));r=`${n}${u}`}this.addDockSchedulerSubscription=this.WorkWithDockSchedulerService.WDockSchedulerCreate(this.user,e.inOut,m.R.fullBuilding(e.building),e.scacCode,e.requestDate,r,e.appointmentType,e.loadType,e.expectedDuration,e.quantityExpected,e.weightExpected,e.trailerNumber,e.priority,e.contact,e.phone,e.email).subscribe(n=>{const u=n[0]?.data?.length,h=u?n[0]?.data[u-1]?.value:void 0,T=h?JSON.parse(h):void 0,Z=T?.returnedData?.message?.trim(),q=T?.ApptNumber;Z&&Z.toUpperCase()===m.R.createMsg.toUpperCase()?this.nextScreen(q):this.failureMessage(Z)})}nextScreen(e){this.router.navigateByUrl("/main-nav/dock-scheduler/comments/read",{state:{apptNumber:e,shouldHideBackButton:!0}})}successMessage(e){p().fire(e,"","success")}failureMessage(e){p().fire(e,"","error")}closeDialog(){this.matDialog.openDialogs.length>0&&this.matDialog.closeAll()}onBack(){this.router.navigate([this.DOCK_URL])}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(o.qu),t.Y36(l.F0),t.Y36(s.uw),t.Y36(g.A))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-add-work-with-dock-scheduler"]],standalone:!0,features:[t.jDz],decls:102,vars:2,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","building","appUppercase","","maxlength","3"],["matInput","","formControlName","inOut","appUppercase","","maxlength","1"],["matInput","","formControlName","scacCode","appUppercase",""],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","type","date","formControlName","requestDate"],["matInput","","type","time","formControlName","requestTime"],["formControlName","appointmentType"],["value","TR"],["value","PG"],["value","RC"],["value","DT"],["value","RT"],["value","SH"],["formControlName","loadType"],["value","S"],["value","F"],["value","C"],["value","P"],["value","K"],["matInput","","formControlName","expectedDuration"],["matInput","","formControlName","quantityExpected"],["matInput","","formControlName","weightExpected"],["matInput","","formControlName","trailerNumber","appUppercase",""],["matInput","","formControlName","priority"],["matInput","","formControlName","contact"],["matInput","","formControlName","phone"],["appearance","outline",1,"full-width","w-100"],["matInput","","formControlName","email"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Dock Schedule"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return r.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14,"Building"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18,"In/Out"),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22,"SCAC Code"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"div",11)(25,"label",12),t._uU(26,"Request"),t.qZA(),t.TgZ(27,"div",13)(28,"mat-form-field",7)(29,"mat-label"),t._uU(30,"Request Date"),t.qZA(),t._UZ(31,"input",14),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34,"Request Time"),t.qZA(),t._UZ(35,"input",15),t.qZA()()(),t.TgZ(36,"mat-form-field",7)(37,"mat-label"),t._uU(38,"Appointment Type"),t.qZA(),t.TgZ(39,"mat-select",16)(40,"mat-option",17),t._uU(41,"TR = Trailer"),t.qZA(),t.TgZ(42,"mat-option",18),t._uU(43,"PG = Piggyback"),t.qZA(),t.TgZ(44,"mat-option",19),t._uU(45,"RC = Railcar"),t.qZA(),t.TgZ(46,"mat-option",20),t._uU(47,"DT = Drop trailer"),t.qZA(),t.TgZ(48,"mat-option",21),t._uU(49,"RT = Return"),t.qZA(),t.TgZ(50,"mat-option",22),t._uU(51,"SH = Shuttle"),t.qZA()()(),t.TgZ(52,"mat-form-field",7)(53,"mat-label"),t._uU(54,"Load Type"),t.qZA(),t.TgZ(55,"mat-select",23)(56,"mat-option",24),t._uU(57,"S = Slip Sheet"),t.qZA(),t.TgZ(58,"mat-option",25),t._uU(59,"F = Floor unloaded"),t.qZA(),t.TgZ(60,"mat-option",26),t._uU(61,"C = Clamp"),t.qZA(),t.TgZ(62,"mat-option",27),t._uU(63,"P = Pallet"),t.qZA(),t.TgZ(64,"mat-option",28),t._uU(65,"K = Sack"),t.qZA()()(),t.TgZ(66,"mat-form-field",7)(67,"mat-label"),t._uU(68,"Expected Duration"),t.qZA(),t._UZ(69,"input",29),t.qZA(),t.TgZ(70,"mat-form-field",7)(71,"mat-label"),t._uU(72,"Quantity Expected"),t.qZA(),t._UZ(73,"input",30),t.qZA(),t.TgZ(74,"mat-form-field",7)(75,"mat-label"),t._uU(76,"Weight Expected"),t.qZA(),t._UZ(77,"input",31),t.qZA(),t.TgZ(78,"mat-form-field",7)(79,"mat-label"),t._uU(80,"Trailer Number"),t.qZA(),t._UZ(81,"input",32),t.qZA(),t.TgZ(82,"mat-form-field",7)(83,"mat-label"),t._uU(84,"Priority"),t.qZA(),t._UZ(85,"input",33),t.qZA(),t.TgZ(86,"mat-form-field",7)(87,"mat-label"),t._uU(88,"Contact"),t.qZA(),t._UZ(89,"input",34),t.qZA(),t.TgZ(90,"mat-form-field",7)(91,"mat-label"),t._uU(92,"Phone"),t.qZA(),t._UZ(93,"input",35),t.qZA(),t.TgZ(94,"mat-form-field",36)(95,"mat-label"),t._uU(96,"Email"),t.qZA(),t.TgZ(97,"textarea",37),t._uU(98,"Email"),t.qZA()()()(),t.TgZ(99,"div",38)(100,"button",39),t.NdJ("click",function(){return r.dockSchedulerCreate()}),t._uU(101,"Create"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",r.form),t.xp6(91),t.Q6J("disabled",!r.form.valid))},dependencies:[i.m,o._Y,o.Fj,o.JJ,o.JL,o.nD,o.sg,o.u,E.Hw,C.lW,D.KE,D.hX,v.Nt,O.gD,P.ey,_.a8,_.dk,_.dn,_.n5,M.e]}),c})()}}]);