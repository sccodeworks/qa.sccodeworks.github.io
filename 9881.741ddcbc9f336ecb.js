"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9881,3128],{23128:(K,W,r)=>{r.d(W,{v:()=>S});var v=r(80529),R=r(75625),b=r(70262),_=r(62843),P=r(92340),t=r(94650);let S=(()=>{class h{constructor(o){this.httpClient=o,this.url=P.N.API_BASE_URL,this.httpHeader={headers:new v.WM({"Content-Type":"application/json"})},this.update="/Customers/update",this.create="/Customers/create",this.consolidate="/Customers/consolidate"}getCustomers(o,u,s,m,l){return this.httpClient.get(this.url+"/Customers/read",{params:{customerCode:o??"",user:u,customerName:s??"",recordsPerPage:m??"",pageNo:l??""}})}CustomersCreate(o,u,s,m,l,d,A,f,g,T,C,D,Z,I,q,y,E,N,x){return this.httpClient.post(this.url+this.create,{CUST:o,CUSFX:u,CUSSFX:s,CUNAME:m,CUADD1:l,CUADD2:d,CUADD3:A,CUZIP:f,CUZSFX:g,CUPHAR:T,CUPHEX:C,CUPHNU:D,CUFXAR:Z,CUFXEX:I,CUFXNU:q,CUCPER:y,CUSORT:E,CUSTPR:N,user:x}).pipe((0,R.X)(1),(0,b.K)(this.httpError))}CustomersUpdate(o,u,s,m,l,d,A,f,g,T,C,D,Z,I,q,y,E,N,x){return this.httpClient.put(this.url+this.update,{CUST:o,CUSFX:u,CUSSFX:s,CUNAME:m,CUADD1:l,CUADD2:d,CUADD3:A,CUZIP:f,CUZSFX:g,CUPHAR:T,CUPHEX:C,CUPHNU:D,CUFXAR:Z,CUFXEX:I,CUFXNU:q,CUCPER:y,CUSORT:E,CUSTPR:N,user:x}).pipe((0,R.X)(1),(0,b.K)(this.httpError))}CustomersConsolidate(o,u,s,m,l,d){return this.httpClient.put(this.url+this.consolidate,{customerNumber:o,suffix1:u,suffix2:s,refCustNumber:m,refCustsfx1:l,refCustsfx2:d}).pipe((0,R.X)(1),(0,b.K)(this.httpError))}AccountAttributes(o,u,s,m,l,d){return this.httpClient.get(this.url+`/Customers/read/accountAttribute?customer=${o}&user=${u}&suffix1=${s}&suffix2=${m}&recordsPerPage=${l}&pageNo=${d}`)}AgingInquiryRead(o,u,s,m,l,d,A,f,g,T,C,D,Z,I,q,y,E){return this.httpClient.get(this.url+`/Customers/ARInquiry/read?user=${o}&customerNumber=${u}&suffix1=${s}&suffix2=${m}&agingDate=${l}&includeType1=${d}&includeType2=${A}&includeType3=${f}&includeType4=${g}&includeType5=${T}&omitType1=${C}&omitType2=${D}&omitType3=${Z}&omitType4=${I}&omitType5=${q}&recordsPerPage=${y}&pageNo=${E}`)}AgingInquiryInq(o,u,s,m){return this.httpClient.get(this.url+`/Customers/ARInquiry/inquiry?user=${o}&invoice=${u}&recordsPerPage=${s}&pageNo=${m}`)}httpError(o){let u="";return u=o.error instanceof ErrorEvent?o.error.message:`Error Code: ${o.status}\nMessage: ${o.message}`,console.log(u),(0,_._)(()=>new Error(u))}}return h.\u0275fac=function(o){return new(o||h)(t.LFG(v.eN))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},89881:(K,W,r)=>{r.d(W,{R:()=>et});var v=r(65412),R=r(98739),b=r(70879),_=r(7155),P=r(36895),t=r(94650),S=r(19132),h=r(23128),c=r(24006),o=r(97392),u=r(4859),s=r(59549),m=r(44144),l=r(73546);function d(e,i){1&e&&(t.TgZ(0,"th",43),t._uU(1," Originating Customer "),t.qZA())}function A(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",a.WKOCNAM,""),t.xp6(2),t.Oqu(a.WKOCAD1+""+a.WKOCAD2),t.xp6(2),t.hij("",a.WKOCAD3," ")}}function f(e,i){1&e&&(t.TgZ(0,"th",43),t._uU(1," Bill-to Customer "),t.qZA())}function g(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",a.WKBCNAM,""),t.xp6(2),t.Oqu(a.WKOCAD1+""+a.WKOCAD2),t.xp6(2),t.hij("",a.WKOCAD3," ")}}function T(e,i){1&e&&t._UZ(0,"tr",45)}function C(e,i){1&e&&t._UZ(0,"tr",46)}function D(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Status"),t.qZA())}function Z(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADSTAT)}}function I(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Sequence Number"),t.qZA())}function q(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADSEQ)}}function y(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Building Number"),t.qZA())}function E(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADBLDG)}}function N(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1," Ledger Description "),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.WKLGDSC)}}function H(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Paid Amount"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" $",t.xi3(2,1,a.WKDPAID,"1.2-2")," ")}}function J(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1," Adjustment Amount "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.WKCRDT)}}function j(e,i){1&e&&(t.TgZ(0,"th",47),t._uU(1,"Original Amount"),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",44),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" $",t.xi3(2,1,a.ADAMT,"1.2-2")," ")}}function z(e,i){1&e&&t._UZ(0,"tr",45)}function F(e,i){1&e&&t._UZ(0,"tr",46)}function G(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Paid :"),t.qZA(),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&e){const a=t.oxw();t.xp6(4),t.hij("$",t.xi3(5,1,a.totalPaid,"1.2-2"),"")}}function X(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"Paid :"),t.qZA(),t.TgZ(2,"b"),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e&&(t.xp6(3),t.hij("$",t.xi3(4,1,0,"1.2-2"),""))}function V(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Due :"),t.qZA(),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&e){const a=t.oxw();t.xp6(4),t.hij("$",t.xi3(5,1,a.totalDue,"1.2-2"),"")}}function k(e,i){1&e&&(t._uU(0,"Due :"),t.TgZ(1,"b"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&e&&(t.xp6(2),t.hij("$",t.xi3(3,1,0,"1.2-2"),""))}const tt=function(){return[8,16,24]};let et=(()=>{class e{constructor(a,n,p,U,Y,$,B,M){this.router=a,this.CustomerSvc=n,this.fb=p,this.route=U,this.matDialog=Y,this.data=$,this.dialogRef=B,this.decimalPipe=M,this.displayedColumns=["Originating Customer","Bill to Customer"],this.displayedColumns1=["St","Sequence No.","Bld No.","Description","Paid Amount","AJ","Original Amount"],this.user=localStorage.getItem("userName")||"",this.dataSource=new _.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.transactionDate="",this.transactionType="",this.dueDate="",this.totalDue=0,this.totalPaid=0,this.description="",this.Due=0,this.Paid=0,this.pageNumber=1}ngOnInit(){this.form=this.fb.group({AHINV:{value:this.data.AHINV,disabled:!0},AHSTAT:{value:this.data.AHSTAT,disabled:!0},AHDATE:{value:this.data.AHDATE,disabled:!0},AHREF:{value:this.data.AHREF,disabled:!0},AHTDAT:{value:this.data.AHTDAT,disabled:!0},TTDESC:{value:this.data.AHTYPE,disabled:!0},AHAMT:[{value:"$"+this.decimalPipe.transform(this.data.AHAMT,"1.2-2"),disabled:!0}],AHDDAT:{value:this.data.AHDDAT,disabled:!0},AJAMT:[{value:"$"+this.decimalPipe.transform(this.data.AHBALN,"1.2-2"),disabled:!0}],AHDESC:{value:this.data.AHDESC,disabled:!0}}),this.getInvoiceInquiry(this.pageSize,this.pageNumber)}ngOnDestroy(){this.inquirySubscription&&this.inquirySubscription.unsubscribe()}getInvoiceInquiry(a,n){var p=this.form.value;this.inquirySubscription&&this.inquirySubscription.unsubscribe(),this.inquirySubscription=this.CustomerSvc.AgingInquiryInq(this.user,p.AHINV,a,n).subscribe(U=>{var $=JSON.parse(U[0].data[1].value);this.duplicateSource=$.returnedData;var B=$.returnedData;if(this.duplicateSource.length>0){for(let M=0;M<B.length;M++){const O=B[M];this.description=O.AHDESC,this.transactionDate=O.AHTDAT,this.transactionType=O.TTDESC,this.dueDate=O.AHDDAT,this.Due+=O.ADAMT,this.Paid+=O.WKDPAID}this.totalDue=this.Due,this.totalPaid=this.Paid,this.dataSource=new _.by(this.duplicateSource),this.dataSource.paginator=this.paginator}})}onPaginateChange(a){this.pageSize=a.pageSize,this.getInvoiceInquiry(a.pageSize,a.pageIndex+1)}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(S.F0),t.Y36(h.v),t.Y36(c.qu),t.Y36(S.gz),t.Y36(v.uw),t.Y36(v.WI),t.Y36(v.so),t.Y36(P.JJ))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inquiry-read"]],viewQuery:function(a,n){if(1&a&&t.Gf(R.NW,5),2&a){let p;t.iGM(p=t.CRH())&&(n.paginator=p.first)}},standalone:!0,features:[t._Bn([P.JJ]),t.jDz],decls:103,vars:19,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"formDiv"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","AHINV"],["matInput","","formControlName","AHREF"],["matInput","","formControlName","AHSTAT"],["matInput","","formControlName","AHAMT"],["matInput","","formControlName","AJAMT"],["disabled","","matInput","",3,"value"],["matInput","","formControlName","AHDATE"],["appearance","outline",1,"full-width2"],["matInput","","disabled","",3,"value"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Originating Customer"],["mat-header-cell","","mat-header-cell","","width","20%",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Bill to Customer"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-table","",1,"mat-elevation-z8","tableCss",3,"dataSource"],["matColumnDef","St"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Sequence No."],["matColumnDef","Bld No."],["matColumnDef","Description"],["matColumnDef","Paid Amount"],["matColumnDef","AJ"],["matColumnDef","Original Amount"],[1,"Content-page-both-right"],[1,"right-side-content"],[1,"buttons","button3"],[4,"ngIf","ngIfElse"],["defaultPaid",""],["Due",""],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell","","width","20%"],["mat-cell",""],["mat-header-row",""],["mat-row",""],["mat-header-cell","","mat-header-cell",""]],template:function(a,n){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Receivables Transaction Inquiry"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return n.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"div",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Invoice Number"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Reference Number "),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.TgZ(21,"mat-form-field",9)(22,"mat-label"),t._uU(23,"Status"),t.qZA(),t._UZ(24,"input",12),t.qZA()(),t.TgZ(25,"div",8)(26,"mat-form-field",9)(27,"mat-label"),t._uU(28,"Invoice Amount"),t.qZA(),t._UZ(29,"input",13),t.qZA(),t.TgZ(30,"mat-form-field",9)(31,"mat-label"),t._uU(32,"Adjusted Amount"),t.qZA(),t._UZ(33,"input",14),t.qZA(),t.TgZ(34,"mat-form-field",9)(35,"mat-label"),t._uU(36,"Transaction Type"),t.qZA(),t._UZ(37,"input",15),t.qZA()(),t.TgZ(38,"div",8)(39,"mat-form-field",9)(40,"mat-label"),t._uU(41,"Invoice Date"),t.qZA(),t._UZ(42,"input",16),t.qZA(),t.TgZ(43,"mat-form-field",9)(44,"mat-label"),t._uU(45,"Transaction Date"),t.qZA(),t._UZ(46,"input",15),t.qZA(),t.TgZ(47,"mat-form-field",9)(48,"mat-label"),t._uU(49,"Due Date"),t.qZA(),t._UZ(50,"input",15),t.qZA()(),t.TgZ(51,"div",8)(52,"mat-form-field",17)(53,"mat-label"),t._uU(54,"Description"),t.qZA(),t._UZ(55,"input",18),t.qZA()()()()()(),t.TgZ(56,"table",19),t.ynx(57,20),t.YNc(58,d,2,0,"th",21),t.YNc(59,A,6,3,"td",22),t.BQk(),t.ynx(60,23),t.YNc(61,f,2,0,"th",21),t.YNc(62,g,6,3,"td",22),t.BQk(),t.YNc(63,T,1,0,"tr",24),t.YNc(64,C,1,0,"tr",25),t.qZA(),t._UZ(65,"br"),t.TgZ(66,"table",26),t.ynx(67,27),t.YNc(68,D,2,0,"th",28),t.YNc(69,Z,2,1,"td",22),t.BQk(),t.ynx(70,29),t.YNc(71,I,2,0,"th",28),t.YNc(72,q,2,1,"td",22),t.BQk(),t.ynx(73,30),t.YNc(74,y,2,0,"th",28),t.YNc(75,E,2,1,"td",22),t.BQk(),t.ynx(76,31),t.YNc(77,N,2,0,"th",28),t.YNc(78,x,2,1,"td",22),t.BQk(),t.ynx(79,32),t.YNc(80,H,2,0,"th",28),t.YNc(81,L,3,4,"td",22),t.BQk(),t.ynx(82,33),t.YNc(83,J,2,0,"th",28),t.YNc(84,Q,2,1,"td",22),t.BQk(),t.ynx(85,34),t.YNc(86,j,2,0,"th",28),t.YNc(87,w,3,4,"td",22),t.BQk(),t.YNc(88,z,1,0,"tr",24),t.YNc(89,F,1,0,"tr",25),t.qZA(),t.TgZ(90,"div",35)(91,"div",36)(92,"button",37),t.YNc(93,G,6,4,"span",38),t.YNc(94,X,5,4,"ng-template",null,39,t.W1O),t.qZA()(),t.TgZ(96,"div",36)(97,"button",37),t.YNc(98,V,6,4,"span",38),t.YNc(99,k,4,4,"ng-template",null,40,t.W1O),t.qZA()()(),t.TgZ(101,"mat-paginator",41,42),t.NdJ("page",function(U){return n.onPaginateChange(U)}),t.qZA()()),2&a){const p=t.MAs(95),U=t.MAs(100);t.xp6(10),t.Q6J("formGroup",n.form),t.xp6(27),t.s9C("value",n.transactionType),t.xp6(9),t.s9C("value",n.transactionDate),t.xp6(4),t.s9C("value",n.dueDate),t.xp6(5),t.s9C("value",n.description),t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns1),t.xp6(4),t.Q6J("ngIf",void 0!==n.totalPaid)("ngIfElse",p),t.xp6(5),t.Q6J("ngIf",void 0!==n.totalDue)("ngIfElse",U),t.xp6(3),t.Q6J("length",n.totalRecords)("pageSizeOptions",t.DdM(18,tt))("pageSize",n.pageSize)}},dependencies:[b.m,P.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,R.NW,o.Hw,u.lW,s.KE,s.hX,m.Nt,l.a8,l.dk,l.dn,l.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,P.JJ]}),e})()}}]);