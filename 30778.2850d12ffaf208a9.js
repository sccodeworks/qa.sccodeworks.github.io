"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[30778,34894,11790,26628,38754,85645,70096,49741],{34894:(y,Z,s)=>{s.d(Z,{e:()=>i});var D=s(94650),a=s(24006);let i=(()=>{class b{constructor(l,p){this.el=l,this.control=p}onInputChange(l){const p=this.el.nativeElement,C=p.value.toUpperCase();p.value=C,this.control&&this.control.control&&this.control.control.setValue(C,{emitEvent:!1})}}return b.\u0275fac=function(l){return new(l||b)(D.Y36(D.SBq),D.Y36(a.a5))},b.\u0275dir=D.lG2({type:b,selectors:[["","appUppercase",""]],hostBindings:function(l,p){1&l&&D.NdJ("input",function(h){return p.onInputChange(h)})},standalone:!0}),b})()},30778:(y,Z,s)=>{s.r(Z),s.d(Z,{DoorsComponent:()=>it});var D=s(98739),a=s(7155),i=s(24006),b=s(65412),T=s(35226),l=s.n(T),p=s(70879),C=s(86385),h=s(48529),t=s(94650),A=s(19132),S=s(49713),_=s(97392),O=s(4859),u=s(59549),g=s(44144),d=s(73546),B=s(34894),L=s(39505);let H=(()=>{class n{constructor(e,o,r,m,f){this.dialogRef=e,this.anyvariable=o,this.router=r,this.fb=m,this.iBldgSvc=f,this.user=localStorage.getItem("userName"),this.usageOptions=["I","O","B"],this.statusOptions=["AC","DL"],this.attributeOptions=[],this.createUrl="/main-nav/building-doors/read"}ngOnInit(){this.form=this.fb.group({DOBLDG:["",[i.kI.required,i.kI.maxLength(3),i.kI.pattern("^[\\d ]{1,3}$")]],DODOOR:["",[i.kI.required,i.kI.maxLength(5)]],DOUSAG:"",DOSTAT:"AC",DOHDL1:"",DOHDL2:"",DOHDL3:"",DOHDL4:"",DOHDL5:""}),this.fetchAttributes()}fetchAttributes(){this.attributeOptions=[],this.iBldgSvc.getAttributes().subscribe(e=>{this.result=e;for(const o of this.result)this.attributeOptions.push(o.MHLCDE)})}ngOnDestroy(){this.addDoorsSubscription&&this.addDoorsSubscription.unsubscribe()}addDoor(){const e=this.form.value,o=Number(e.DOHDL1)||0,r=Number(e.DOHDL2)||0,m=Number(e.DOHDL3)||0,f=Number(e.DOHDL4)||0,U=Number(e.DOHDL5)||0;this.result=this.iBldgSvc.createDoor(h.R.fullBuilding(e.DOBLDG),e.DODOOR,e.DOUSAG,e.DOSTAT,o,r,m,f,U).subscribe(N=>{const v=N[0].data[N[0].data.length-1].value;v.toUpperCase()===h.R.create.toUpperCase()?(this.successMessage(v),this.closeDialog(),this.router.navigateByUrl(this.createUrl,{state:this.anyvariable})):this.failureMessage(v)})}successMessage(e){l().fire(e,"","success")}failureMessage(e){l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.so),t.Y36(b.WI),t.Y36(A.F0),t.Y36(i.qu),t.Y36(S.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-door"]],standalone:!0,features:[t.jDz],decls:34,vars:9,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","DOBLDG","maxlength","3"],["matInput","","formControlName","DODOOR","appUppercase","","maxlength","5"],["appearance","outline","formControlName","DOUSAG","label","Door Usage*",1,"full-width",3,"options"],["appearance","outline","formControlName","DOSTAT","label","Status Code",1,"full-width",3,"options"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline","formControlName","DOHDL1","label","Special Attribute 1",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL2","label","Special Attribute 2",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL3","label","Special Attribute 3",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL4","label","Special Attribute 4",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL5","label","Special Attribute 5",1,"full-width",3,"options"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Doors"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Building Number"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Door Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t._UZ(20,"custom-input-autocomplete",11)(21,"custom-input-autocomplete",12),t.TgZ(22,"div",13)(23,"label",14),t._uU(24,"Special Attributes"),t.qZA(),t.TgZ(25,"div",15),t._UZ(26,"custom-input-autocomplete",16)(27,"custom-input-autocomplete",17)(28,"custom-input-autocomplete",18)(29,"custom-input-autocomplete",19)(30,"custom-input-autocomplete",20),t.qZA()(),t._UZ(31,"br"),t.qZA()(),t.TgZ(32,"button",21),t.NdJ("click",function(){return o.addDoor()}),t._uU(33,"Add"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("options",o.usageOptions),t.xp6(1),t.Q6J("options",o.statusOptions),t.xp6(5),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(2),t.Q6J("disabled",!o.form.valid))},dependencies:[p.m,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,_.Hw,O.lW,u.KE,u.hX,g.Nt,d.a8,d.dk,d.dn,d.n5,B.e,C.j,L.L]}),n})();var I=s(11790);let J=(()=>{class n{constructor(e,o,r,m,f,U){this.anyvariable=e,this.CustomAlertService=o,this.dialogRef=r,this.router=m,this.fb=f,this.IBldSvc=U,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({buildingNumber:this.anyvariable.DOBLDG,doorNumber:this.anyvariable.DODOOR,doorUsage:this.anyvariable.DOUSAG,handlingCodes:"",statusCode:this.anyvariable.DOSTAT}),this.form.disable()}ngOnDestroy(){this.deleteDoorsSubscription&&this.deleteDoorsSubscription.unsubscribe()}delete(){this.CustomAlertService.openCustomAlert("Are you sure you want to delete this Door Number : "+this.anyvariable.DODOOR+"?").afterClosed().subscribe(o=>{o&&(this.result=this.IBldSvc.deleteDoor(this.user).subscribe(r=>{this.result=r;var m=this.result.message;JSON.parse(this.result.success)?(this.successMessage("Door is\xa0"+m),this.closeDialog(),this.router.navigate(["/main-nav/building-doors/read"])):this.failureMessage(m)}))})}successMessage(e){l().fire(e,"","success")}failureMessage(e){l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.WI),t.Y36(I.y),t.Y36(b.so),t.Y36(A.F0),t.Y36(i.qu),t.Y36(S.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-door"]],standalone:!0,features:[t.jDz],decls:34,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","buildingNumber"],["matInput","","formControlName","doorNumber",2,"text-transform","uppercase"],["matInput","","formControlName","doorUsage",2,"text-transform","uppercase"],["matInput","","formControlName","handlingCodes",2,"text-transform","uppercase"],["matInput","","formControlName","statusCode",2,"text-transform","uppercase"],["mat-button","",1,"buttons","removeButton",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Delete a Door"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Building Number"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Door Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Door Usage"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Handling Codes"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Status Code"),t.qZA(),t._UZ(31,"input",13),t.qZA()()(),t.TgZ(32,"button",14),t.NdJ("click",function(){return o.delete()}),t._uU(33,"Delete"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form))},dependencies:[p.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.Hw,O.lW,u.KE,u.hX,g.Nt,d.a8,d.dk,d.dn,d.n5],styles:[".mat-form-field[_ngcontent-%COMP%]{padding-left:20px;width:250px}.mat-card-header[_ngcontent-%COMP%]{padding:10px}.mat-card-content[_ngcontent-%COMP%]{padding-top:20px}.deleteButton[_ngcontent-%COMP%]{background-color:red;color:#fff}"]}),n})(),E=(()=>{class n{constructor(e,o,r,m,f){this.anyvariable=e,this.dialogRef=o,this.router=r,this.fb=m,this.iBldgSvc=f,this.usageOptions=["I","O","B"],this.statusOptions=["AC","DL"],this.attributeOptions=[],this.updateUrl="/main-nav/building-doors/read"}ngOnInit(){this.form=this.fb.group({DOBLDG:[this.anyvariable[1].DOBLDG,[i.kI.required,i.kI.maxLength(3),i.kI.pattern("^[\\d ]{1,3}$")]],DODOOR:[this.anyvariable[1].DODOOR,[i.kI.required,i.kI.maxLength(5)]],DOUSAG:[this.anyvariable[1].DOUSAG,[i.kI.required]],DOSTAT:[this.anyvariable[1].DOSTAT,[i.kI.required]],DOHDL1:this.anyvariable[1].MHDESC1,DOHDL2:this.anyvariable[1].MHDESC2,DOHDL3:this.anyvariable[1].MHDESC3,DOHDL4:this.anyvariable[1].MHDESC4,DOHDL5:this.anyvariable[1].MHDESC5}),this.fetchAttributes()}fetchAttributes(){this.attributeOptions=[],this.iBldgSvc.getAttributes().subscribe(e=>{this.result=e;for(const o of this.result)this.attributeOptions.push(o.MHLCDE)})}ngOnDestroy(){this.updateDoorsSubscription&&this.updateDoorsSubscription.unsubscribe()}updateDoor(){var e=this.form.value;const o=Number(e.DOHDL1)||0,r=Number(e.DOHDL2)||0,m=Number(e.DOHDL3)||0,f=Number(e.DOHDL4)||0,U=Number(e.DOHDL5)||0;this.result=this.iBldgSvc.updateDoor(h.R.fullBuilding(e.DOBLDG),e.DODOOR,e.DOUSAG,e.DOSTAT,o,r,m,f,U).subscribe(N=>{const v=N[0].data[N[0].data.length-1].value;v.toUpperCase()===h.R.update.toUpperCase()?(this.successMessage(v),this.closeDialog(),this.router.navigateByUrl(this.updateUrl,{state:this.anyvariable[0]})):this.failureMessage(v)})}successMessage(e){l().fire(e,"","success")}failureMessage(e){l().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.WI),t.Y36(b.so),t.Y36(A.F0),t.Y36(i.qu),t.Y36(S.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-door"]],standalone:!0,features:[t.jDz],decls:34,vars:9,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","DOBLDG","maxlength","3"],["matInput","","formControlName","DODOOR","appUppercase","","maxlength","5"],["appearance","outline","formControlName","DOUSAG","label","Door Usage*",1,"full-width",3,"options"],["appearance","outline","formControlName","DOSTAT","label","Status Code",1,"full-width",3,"options"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["appearance","outline","formControlName","DOHDL1","label","Special Attribute 1",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL2","label","Special Attribute 2",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL3","label","Special Attribute 3",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL4","label","Special Attribute 4",1,"full-width",3,"options"],["appearance","outline","formControlName","DOHDL5","label","Special Attribute 5",1,"full-width",3,"options"],["mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Doors"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Building Number"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Door Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t._UZ(20,"custom-input-autocomplete",11)(21,"custom-input-autocomplete",12),t.TgZ(22,"div",13)(23,"label",14),t._uU(24,"Special Attributes"),t.qZA(),t.TgZ(25,"div",15),t._UZ(26,"custom-input-autocomplete",16)(27,"custom-input-autocomplete",17)(28,"custom-input-autocomplete",18)(29,"custom-input-autocomplete",19)(30,"custom-input-autocomplete",20),t.qZA()(),t._UZ(31,"br"),t.qZA()(),t.TgZ(32,"button",21),t.NdJ("click",function(){return o.updateDoor()}),t._uU(33,"Update"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.form),t.xp6(11),t.Q6J("options",o.usageOptions),t.xp6(1),t.Q6J("options",o.statusOptions),t.xp6(5),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(1),t.Q6J("options",o.attributeOptions),t.xp6(2),t.Q6J("disabled",!(o.form.valid&&o.form.dirty)))},dependencies:[p.m,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,_.Hw,O.lW,u.KE,u.hX,g.Nt,d.a8,d.dk,d.dn,d.n5,B.e,C.j,L.L]}),n})();var M=s(36895),w=s(10266);function R(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onBack())}),t.TgZ(1,"mat-icon"),t._uU(2,"navigate_before "),t.qZA()()}}function q(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchDoors())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function k(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.searchDoors())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function F(n,c){1&n&&(t.TgZ(0,"button",34),t._uU(1,"Search"),t.qZA())}function G(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"form",27),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.getBySearch(r.form.value))}),t.TgZ(1,"div",28)(2,"div",29)(3,"mat-form-field",30)(4,"mat-label"),t._uU(5,"Building Number"),t.qZA(),t._UZ(6,"input",31),t.qZA(),t.TgZ(7,"mat-form-field",30)(8,"mat-label"),t._uU(9,"Door Number"),t.qZA(),t._UZ(10,"input",32),t.qZA()()(),t.YNc(11,F,2,0,"button",33),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(11),t.Q6J("ngIf",e.searchTextDisplay)}}function Y(n,c){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Building Number"),t.qZA())}function Q(n,c){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e.DOBLDG)}}function P(n,c){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Door Number"),t.qZA())}function z(n,c){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e.DODOOR)}}function K(n,c){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Door Use"),t.qZA())}function W(n,c){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e.DOUSAG)}}function j(n,c){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Status"),t.qZA())}function X(n,c){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.Oqu(e.DOSTAT)}}function $(n,c){1&n&&(t.TgZ(0,"th",35),t._uU(1,"Special Attribute"),t.qZA())}function V(n,c){if(1&n&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.xp6(1),t.xDo("",e.MHDESC1," ",e.MHDESC2," ",e.MHDESC3," ",e.MHDESC4," ",e.MHDESC5," ")}}function tt(n,c){1&n&&t._UZ(0,"th",37)}function et(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"td",36)(1,"div",38)(2,"button",39)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",40)(6,"li")(7,"button",41),t.NdJ("click",function(){const m=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.updateDoors(m))}),t.TgZ(8,"mat-icon",42),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Edit"),t.qZA()()(),t.TgZ(12,"li")(13,"button",41),t.NdJ("click",function(){const m=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.deleteDoors(m))}),t.TgZ(14,"mat-icon",43),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()(),t.TgZ(18,"li")(19,"button",41),t.NdJ("click",function(){const m=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.doorUsage(m))}),t.TgZ(20,"mat-icon",42),t._uU(21,"analytics"),t.qZA(),t.TgZ(22,"mat-label"),t._uU(23,"Door Usage"),t.qZA()()(),t.TgZ(24,"li")(25,"button",41),t.NdJ("click",function(){const m=t.CHM(e).$implicit,f=t.oxw();return t.KtG(f.doorAttributes(m))}),t.TgZ(26,"mat-icon",42),t._uU(27,"view_list"),t.qZA(),t.TgZ(28,"mat-label"),t._uU(29,"Entity Attribute"),t.qZA()()()()()()}}function ot(n,c){1&n&&t._UZ(0,"tr",44)}function nt(n,c){1&n&&t._UZ(0,"tr",45)}const at=function(){return[8,16,24]};let it=(()=>{class n{constructor(e,o,r,m,f){this.router=e,this.iBldgSvc=o,this.fb=r,this.route=m,this.matDialog=f,this.user=localStorage.getItem("userName")||"",this.searchTextDisplay=!1,this.dataSource=new a.by,this.displayedColumns=["BuildingNumber","DoorNumber","DoorUse","Status","SpecialAttribute","Actions"],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.showBackButton=!1,this.buildingFromNav=""}searchDoors(){this.searchTextDisplay=1!=this.searchTextDisplay}ngOnInit(){this.element=history.state,this.buildingFromNav=this.element?.BUILD||"",this.form=this.fb.group({BLDG:[this.buildingFromNav],DOOR:[""]}),this.buildingFromNav&&(this.form.get("BLDG")?.disable(),this.showBackButton=!0),this.getDoors(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}ngOnDestroy(){this.doorsSubscription&&this.doorsSubscription.unsubscribe()}getDoors(e,o){const r=this.currentFilters||{};let m=r?.BLDG??this.buildingFromNav??"",f=r?.DOOR??"";const U="undefined"===m?"":m,N="undefined"===f?"":f;this.doorsSubscription&&this.doorsSubscription.unsubscribe(),this.doorsSubscription=this.iBldgSvc.getDoor(this.user,h.R.fullBuilding(U),N,e,o).subscribe(v=>{var x=JSON.parse(v[0].data[1]?.value);this.dataSource.data=x.returnedData,this.totalRecords=x.TotalRecords})}createFilter(){return(e,o)=>{const r=JSON.parse(o);return Object.keys(r).every(m=>e[m].toString().toLowerCase().includes(r[m].toLowerCase()))}}getBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getDoors(this.pageSize,this.pageNumber)}resetSearch(){const e=this.pageSize,o=this.pageNumber;this.form.reset({BLDG:this.buildingFromNav,DOOR:""}),this.buildingFromNav&&this.form.get("BLDG")?.disable(),this.currentFilters=null,this.paginator.firstPage(),this.getDoors(e,o)}onPaginateChange(e){this.pageSize=e.pageSize,this.getDoors(e.pageSize,e.pageIndex+1)}addDoors(){this.matDialog.open(H,{width:"1000px",maxHeight:"80vh",data:this.element,autoFocus:!1})}updateDoors(e){this.matDialog.open(E,{width:"1000px",maxHeight:"80vh",data:[this.element,e],autoFocus:!1})}deleteDoors(e){this.matDialog.open(J,{width:"1000px",maxHeight:"80vh",data:e,autoFocus:!1})}doorUsage(e){this.router.navigateByUrl("/main-nav/door/usage/read",{state:e})}doorAttributes(e){this.router.navigateByUrl("/main-nav/building-doors/attributes/read",{state:e})}onBack(){this.router.navigateByUrl("/main-nav/building/read")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.F0),t.Y36(S.z),t.Y36(i.qu),t.Y36(A.gz),t.Y36(b.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-doors"]],viewQuery:function(e,o){if(1&e&&t.Gf(D.NW,5),2&e){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first)}},standalone:!0,features:[t.jDz],decls:39,vars:11,consts:[[1,"over-Flow"],[1,"title"],["mat-button","","class","backButton go-back-btn",3,"click",4,"ngIf"],[1,"buttons"],["mat-button","","class","addButton","matTooltip","Search Doors",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add New Doors",1,"addButton",3,"click"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","type","reset","value","Reset","matTooltip","Reset door values",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","BuildingNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","DoorNumber"],["matColumnDef","DoorUse"],["matColumnDef","Status"],["matColumnDef","SpecialAttribute"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"backButton","go-back-btn",3,"click"],["mat-button","","matTooltip","Search Doors",1,"addButton",3,"click"],["mat-button","",1,"addButton",3,"click"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BLDG"],["matInput","","formControlName","DOOR",2,"text-transform","uppercase"],["class","buttons addButton tally-search-btn","mat-raised-button","","type","submit","placeholder","Search",4,"ngIf"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,o){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t.YNc(3,R,3,0,"button",2),t._uU(4,"\nWork With Doors"),t.qZA(),t.TgZ(5,"div",3),t.YNc(6,q,3,0,"button",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return o.addDoors()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA()(),t.YNc(10,k,3,0,"button",6),t.TgZ(11,"button",7),t.NdJ("click",function(){return o.resetSearch()}),t.TgZ(12,"mat-icon"),t._uU(13,"loop"),t.qZA()()()(),t.TgZ(14,"mat-card-content",8),t.YNc(15,G,12,2,"form",9),t.qZA(),t.TgZ(16,"table",10),t.ynx(17,11),t.YNc(18,Y,2,0,"th",12),t.YNc(19,Q,2,1,"td",13),t.BQk(),t.ynx(20,14),t.YNc(21,P,2,0,"th",12),t.YNc(22,z,2,1,"td",13),t.BQk(),t.ynx(23,15),t.YNc(24,K,2,0,"th",12),t.YNc(25,W,2,1,"td",13),t.BQk(),t.ynx(26,16),t.YNc(27,j,2,0,"th",12),t.YNc(28,X,2,1,"td",13),t.BQk(),t.ynx(29,17),t.YNc(30,$,2,0,"th",12),t.YNc(31,V,2,5,"td",13),t.BQk(),t.ynx(32,18),t.YNc(33,tt,1,0,"th",19),t.YNc(34,et,30,0,"td",13),t.BQk(),t.YNc(35,ot,1,0,"tr",20),t.YNc(36,nt,1,0,"tr",21),t.qZA(),t.TgZ(37,"mat-paginator",22,23),t.NdJ("page",function(m){return o.onPaginateChange(m)}),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.showBackButton),t.xp6(3),t.Q6J("ngIf",!o.searchTextDisplay),t.xp6(4),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(5),t.Q6J("ngIf",o.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(10,at))("pageSize",o.pageSize))},dependencies:[p.m,M.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,D.NW,_.Hw,O.lW,u.KE,u.hX,g.Nt,d.a8,d.dk,d.dn,d.n5,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,w.gM]}),n})()},11790:(y,Z,s)=>{s.d(Z,{y:()=>l});var D=s(65412),a=s(94650),i=s(97392),b=s(4859);let T=(()=>{class p{constructor(h,t){this.dialogRef=h,this.data=t}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return p.\u0275fac=function(h){return new(h||p)(a.Y36(D.so),a.Y36(D.WI))},p.\u0275cmp=a.Xpm({type:p,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(h,t){1&h&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return t.closeDialog()}),a.TgZ(3,"mat-icon"),a._uU(4,"close"),a.qZA()(),a.TgZ(5,"div",3),a._UZ(6,"img",4),a.qZA(),a.TgZ(7,"h2",5),a._uU(8,"Confirmation"),a.qZA(),a.TgZ(9,"span",6),a._uU(10),a.qZA()(),a.TgZ(11,"div",7)(12,"button",8),a._uU(13,"Cancel"),a.qZA(),a.TgZ(14,"button",9),a._uU(15,"Delete"),a.qZA()()()),2&h&&(a.xp6(10),a.Oqu(t.data.message),a.xp6(2),a.Q6J("mat-dialog-close",!1),a.xp6(2),a.Q6J("mat-dialog-close",!0))},dependencies:[i.Hw,b.lW,D.ZT]}),p})(),l=(()=>{class p{constructor(h){this.dialog=h}openCustomAlert(h){return this.dialog.open(T,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:h}})}}return p.\u0275fac=function(h){return new(h||p)(a.LFG(D.uw))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},39505:(y,Z,s)=>{s.d(Z,{L:()=>S});var D=s(24006),a=s(59549),i=s(69751),b=s(68675),T=s(54004),l=s(94650),p=s(36895),C=s(47957),h=s(3238),t=s(44144);function A(_,O){if(1&_&&(l.TgZ(0,"mat-option",4),l._uU(1),l.qZA()),2&_){const u=O.$implicit;l.Q6J("value",u),l.xp6(1),l.Oqu(u)}}let S=(()=>{class _{constructor(u){this.fb=u,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=g=>{},this.onChange=g=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new i.y,this.filteredOptions=this.control.valueChanges.pipe((0,b.O)(this.value),(0,T.U)(g=>this._filter(g)))}setDescribedByIds(u){}onContainerClick(u){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(u){null!=u&&(this.control.setValue(u),this.value=u)}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this.disabled=u}_filter(u){if(null==u||0==u.length)return this.options;const g=u.toLowerCase(),d=this.options.filter(B=>B.toLowerCase().includes(g));return!this.disabled&&1===d.length&&this.control.value!=d[0]&&u.length>=(this.previousValue?.length??0)&&this.control.setValue(d[0]),this.onChange(this.control.value),this.previousValue=this.control.value,d}}return _.\u0275fac=function(u){return new(u||_)(l.Y36(D.qu))},_.\u0275cmp=l.Xpm({type:_,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(u,g){2&u&&l.uIk("aria-describedby",g.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[l._Bn([{provide:D.JU,multi:!0,useExisting:_},{provide:a.Eo,useExisting:_}],[{provide:D.gN,useExisting:D.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(u,g){if(1&u&&(l.TgZ(0,"mat-form-field",0)(1,"mat-label"),l._uU(2),l.qZA(),l._UZ(3,"input",1),l.TgZ(4,"mat-autocomplete",null,2),l.YNc(6,A,2,2,"mat-option",3),l.ALo(7,"async"),l.qZA()()),2&u){const d=l.MAs(5);l.Q6J("appearance",g.appearance),l.xp6(2),l.Oqu(g.label),l.xp6(1),l.Q6J("id",g.id)("placeholder",g.placeholder)("formControl",g.control)("matAutocomplete",d),l.xp6(3),l.Q6J("ngForOf",l.lcZ(7,7,g.filteredOptions))}},dependencies:[p.sg,D.Fj,D.JJ,D.oH,C.XC,C.ZL,h.ey,a.KE,a.hX,t.Nt,p.Ov]}),_})()}}]);