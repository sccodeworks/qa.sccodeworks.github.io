"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[89872],{89872:(S,p,o)=>{o.r(p),o.d(p,{InboundStagePutawayLpComponent:()=>L});var r=o(24006),d=o(35226),_=o.n(d),g=o(48529),f=o(70879),y=o(42485),t=o(94650),b=o(65412),h=o(19132),I=o(54492),T=o(36895),v=o(4859),c=o(59549),E=o(44144),P=o(84385),C=o(3238),m=o(73546);function U(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Tally is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function Z(e,i){if(1&e&&(t.TgZ(0,"div",20),t._UZ(1,"br"),t.TgZ(2,"p"),t._uU(3),t.qZA()()),2&e){const a=t.oxw();t.xp6(3),t.hij("*",a.error,"")}}function D(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Item is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function A(e,i){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Quantity is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function M(e,i){1&e&&(t.TgZ(0,"mat-form-field",5)(1,"mat-label"),t._uU(2," Weight"),t.qZA(),t._UZ(3,"input",21),t.qZA())}function O(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(a);const l=t.oxw();return t.KtG(l.goNext())}),t._uU(1," Next "),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("disabled",!a.form.valid)}}function N(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(a);const l=t.oxw();return t.KtG(l.StagePutaway())}),t._uU(1," Submit "),t.qZA()}if(2&e){const a=t.oxw();t.Q6J("disabled",!a.form.valid)}}let L=(()=>{class e{constructor(a,n,l,u,s){this.matDialog=a,this.cd=n,this.router=l,this.fb=u,this.putawayLpService=s,this.user=localStorage.getItem("userName")||"",this.isNextClicked=!1,this.error="",this.URL="/main-nav/InboundStage/PutawayLp",this.serialUrl="/main-nav/inbound/serialnumlogin"}ngOnInit(){this.element=history.state;const a=history.state;console.log(a),this.form=this.fb.group({tallyNumber:[null,r.kI.required],item:[null,r.kI.required],Quantity:[null,r.kI.required],InventoryType:[null,r.kI.required],weight:""}),a&&a.tallyNumber&&(console.log("Auto-filled Tally Number:",a.tallyNumber),this.form.patchValue({tallyNumber:a.tallyNumber,item:this.element.item,InventoryType:this.element.inventoryType,weight:this.element.weight,Quantity:this.element.Quantity}))}goNext(){const{tallyNumber:a,item:n,Quantity:l,InventoryType:u}=this.form.value;a&&n&&l&&u?this.isNextClicked=!0:_().fire("Please fill all 4 fields first","","warning")}ngOnDestroy(){this.putawaySubscription&&this.putawaySubscription.unsubscribe()}StagePutaway(){var a=this.form.value;this.putawaySubscription&&this.putawaySubscription.unsubscribe(),this.putawaySubscription=this.putawayLpService.InboundStagePutaway(this.user,a.tallyNumber,a.item,a.Quantity,a.InventoryType,"","","",a.weight,0,"","",0,0,"",0,"","").subscribe(n=>{this.result=n;const u=n[0].data[n[0].data.length-1].value;let s="";try{s=JSON.parse(u)?.returnedData?.message||u}catch{s=u}s.toUpperCase()===g.R.insertmsg.toUpperCase()?(this.successMessage(s),this.router.navigateByUrl(this.serialUrl,{state:this.form.value})):this.failureMessage(s)})}successMessage(a){_().fire(a,"","success")}failureMessage(a){_().fire(a,"","error")}onBack(){this.router.navigateByUrl(this.URL)}SerialNumberLogin(a){this.router.navigateByUrl(this.serialUrl,{state:a})}confirmtally(a){this.matDialog.open(y.S,{width:"1000px",maxHeight:"80vh",data:{tallyNumber:this.form.get("tallyNumber")?.value},autoFocus:!1})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(b.uw),t.Y36(t.sBO),t.Y36(h.F0),t.Y36(r.qu),t.Y36(I.l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inbound-stage-putaway-lp"]],standalone:!0,features:[t.jDz],decls:42,vars:9,consts:[[1,"over-Flow"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","tallyNumber"],[4,"ngIf"],["style","color: red",4,"ngIf"],["matInput","","formControlName","item"],["matInput","","formControlName","Quantity"],["formControlName","InventoryType"],["value",""],["value","A"],["value","D"],["value","H"],["appearance","outline","class","full-width",4,"ngIf"],[1,"action-btn-container"],["mat-raised-button","","class","buttons addButton","type","button",3,"disabled","click",4,"ngIf"],["mat-raised-button","","type","button",1,"buttons","addButton",3,"disabled","click"],[2,"color","red"],["matInput","","formControlName","weight"]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3,"Inbound/Stage putaway"),t.qZA()(),t.TgZ(4,"mat-card-content",1)(5,"form",2)(6,"div",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),t._uU(10," Tally Number"),t.qZA(),t._UZ(11,"input",6),t.YNc(12,U,4,0,"mat-error",7),t.qZA(),t.YNc(13,Z,4,1,"div",8),t.TgZ(14,"mat-form-field",5)(15,"mat-label"),t._uU(16,"Item"),t.qZA(),t._UZ(17,"input",9),t.YNc(18,D,4,0,"mat-error",7),t.qZA(),t.TgZ(19,"mat-form-field",5)(20,"mat-label"),t._uU(21," Quantity "),t.qZA(),t._UZ(22,"input",10),t.YNc(23,A,4,0,"mat-error",7),t.qZA(),t.TgZ(24,"mat-form-field",5)(25,"mat-label"),t._uU(26," Inventory Type"),t.qZA(),t.TgZ(27,"mat-select",11)(28,"mat-option",12),t._uU(29,"--select--"),t.qZA(),t.TgZ(30,"mat-option",13),t._uU(31,"A - Available "),t.qZA(),t.TgZ(32,"mat-option",14),t._uU(33,"D - Damaged "),t.qZA(),t.TgZ(34,"mat-option",15),t._uU(35,"H - Held "),t.qZA()()(),t.YNc(36,M,4,0,"mat-form-field",16),t.qZA()(),t.TgZ(37,"div",17),t.YNc(38,O,2,1,"button",18),t.YNc(39,N,2,1,"button",18),t.TgZ(40,"button",19),t.NdJ("click",function(){return n.confirmtally(n.element)}),t._uU(41," Confirm Tally "),t.qZA()()()()()),2&a&&(t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(7),t.Q6J("ngIf",n.form.controls.tallyNumber.hasError("required")),t.xp6(1),t.Q6J("ngIf",n.error),t.xp6(5),t.Q6J("ngIf",n.form.controls.item.hasError("required")),t.xp6(5),t.Q6J("ngIf",n.form.controls.Quantity.hasError("required")),t.xp6(13),t.Q6J("ngIf",n.isNextClicked),t.xp6(2),t.Q6J("ngIf",!n.isNextClicked),t.xp6(1),t.Q6J("ngIf",n.isNextClicked),t.xp6(1),t.Q6J("disabled",!n.form.valid))},dependencies:[f.m,T.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,v.lW,c.TO,c.KE,c.hX,E.Nt,P.gD,C.ey,m.a8,m.dk,m.dn,m.n5],styles:[".action-btn-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}.action-btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}"]}),e})()}}]);