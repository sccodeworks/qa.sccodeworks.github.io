"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[1381],{39505:(A,c,n)=>{n.d(c,{L:()=>h});var r=n(24006),O=n(59549),E=n(69751),S=n(68675),g=n(54004),o=n(94650),m=n(36895),i=n(47957),_=n(3238),D=n(44144);function f(l,u){if(1&l&&(o.TgZ(0,"mat-option",4),o._uU(1),o.qZA()),2&l){const e=u.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}let h=(()=>{class l{constructor(e){this.fb=e,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=a=>{},this.onChange=a=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new E.y,this.filteredOptions=this.control.valueChanges.pipe((0,S.O)(this.value),(0,g.U)(a=>this._filter(a)))}setDescribedByIds(e){}onContainerClick(e){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(e){null!=e&&(this.control.setValue(e),this.value=e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}_filter(e){if(null==e||0==e.length)return this.options;const a=e.toLowerCase(),t=this.options.filter(s=>s.toLowerCase().includes(a));return!this.disabled&&1===t.length&&this.control.value!=t[0]&&e.length>=(this.previousValue?.length??0)&&this.control.setValue(t[0]),this.onChange(this.control.value),this.previousValue=this.control.value,t}}return l.\u0275fac=function(e){return new(e||l)(o.Y36(r.qu))},l.\u0275cmp=o.Xpm({type:l,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(e,a){2&e&&o.uIk("aria-describedby",a.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[o._Bn([{provide:r.JU,multi:!0,useExisting:l},{provide:O.Eo,useExisting:l}],[{provide:r.gN,useExisting:r.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,a){if(1&e&&(o.TgZ(0,"mat-form-field",0)(1,"mat-label"),o._uU(2),o.qZA(),o._UZ(3,"input",1),o.TgZ(4,"mat-autocomplete",null,2),o.YNc(6,f,2,2,"mat-option",3),o.ALo(7,"async"),o.qZA()()),2&e){const t=o.MAs(5);o.Q6J("appearance",a.appearance),o.xp6(2),o.Oqu(a.label),o.xp6(1),o.Q6J("id",a.id)("placeholder",a.placeholder)("formControl",a.control)("matAutocomplete",t),o.xp6(3),o.Q6J("ngForOf",o.lcZ(7,7,a.filteredOptions))}},dependencies:[m.sg,r.Fj,r.JJ,r.oH,i.XC,i.ZL,_.ey,O.KE,O.hX,D.Nt,m.Ov]}),l})()},21381:(A,c,n)=>{n.r(c),n.d(c,{OpenOrdersComponent:()=>u});var r=n(24006),O=n(86385),E=n(70879),S=n(35226),g=n.n(S),o=n(48529),m=n(71884),i=n(94650),_=n(19132),D=n(78568),f=n(4859),h=n(73546),l=n(39505);let u=(()=>{class e{constructor(t,s,d,p){this.fb=t,this.router=s,this.route=d,this.ReportsService=p,this.placeholder="MMDDYY",this.OpenOrdersRead="/main-nav/open-orders/read",this.StartDateOptions=["*ALL","*TODAY","*YESTR","*THISW","*LASTW","*THISM","*LASTM","*THISQ","*LASTQ","*THISY","*LASTY","*YTD"],this.EndDateOptions=["*START"],this.DateToUseOptions=["*AA","*SA","*AS","*SS"],this.StartingStorerOptions=["*FIRST"],this.EndingStorerOptions=["*LAST"],this.StartingBuildingNumberOptions=["*FIRST"],this.EndingBuildingNumberOptions=["*LAST"],this.OutputOptions=["*PRINT"],this.ReportOrderOptions=["*NONE","*DATE","*BUILDING","*STORER","*CARRIER"],this.ReportTitleOptions=["Pending Orders Report"],this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({StartDate:[this.StartDateOptions[0],[r.kI.required,this.dateOrPredefinedValidator()]],EndDate:[this.EndDateOptions[0],[r.kI.required,this.dateOrPredefinedValidator()]],Datetouse:[this.DateToUseOptions[3],r.kI.required],StartingStorer:[this.StartingStorerOptions[0]],EndingStorer:[this.EndingStorerOptions[0]],StartingBuildingNumber:[this.StartingBuildingNumberOptions[0]],EndingBuildingNumber:[this.EndingBuildingNumberOptions[0]],AdditionalStatus1:[{value:"EN",disabled:!0}],AdditionalStatus2:[{value:"CM",disabled:!0}],AdditionalStatus3:[{value:"PS",disabled:!0}],AdditionalStatus4:[{value:"BL",disabled:!0}],AdditionalStatus5:[{value:"EP",disabled:!0}],AdditionalStatus6:[{value:"EB",disabled:!0}],AdditionalStatus7:[{value:"SB",disabled:!0}],AdditionalStatus8:[{value:"SP",disabled:!0}],AdditionalStatus9:"",AdditionalStatus10:"",ReportType:[this.ReportOrderOptions[1]],ReportTitle:[this.ReportTitleOptions[0]],OutPut:[this.OutputOptions[0]],Email:[""]}),this.form.get("OutPut")?.valueChanges.subscribe(t=>{this.FileextensionContactype()||this.form.get("EMAIL")?.setValue("")}),this.form.get("StartDate")?.valueChanges.pipe((0,m.x)()).subscribe(()=>{this.form.get("StartDate")?.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}),this.form.get("EndDate")?.valueChanges.pipe((0,m.x)()).subscribe(()=>{this.form.get("EndDate")?.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}),this.form.get("Datetouse")?.valueChanges.pipe((0,m.x)()).subscribe(()=>{this.form.get("Datetouse")?.updateValueAndValidity({onlySelf:!0,emitEvent:!1})})}dateValidator(){throw new Error("Method not implemented.")}FileextensionContactype(){const t=this.form.get("OutPut")?.value;return"*EMAIL"===t||"*BOTH"===t}dateOrPredefinedValidator(){return t=>{const s=t.value?.trim();return[...this.StartDateOptions,...this.EndDateOptions,...this.DateToUseOptions].includes(s)||/^(0[1-9]|1[0-2])([0-2][0-9]|3[01])\d{2}$/.test(s)?null:{invalidDate:!0}}}convertMMDDYYtoYYYYMMDD(t){if(!t||[...this.StartDateOptions,...this.EndDateOptions,...this.DateToUseOptions].includes(t)||/^\d{4}-\d{2}-\d{2}$/.test(t)||!/^(0[1-9]|1[0-2])([0-2][0-9]|3[01])\d{2}$/.test(t))return t;const s=t.substring(0,2),d=t.substring(2,4);return`20${t.substring(4,6)}-${s}-${d}`}ngOnDestroy(){this.OpenOrdersSubscription&&this.OpenOrdersSubscription.unsubscribe()}OpenOrders(){if(this.OpenOrdersSubscription&&(this.OpenOrdersSubscription.unsubscribe(),this.OpenOrdersSubscription=null),this.form.invalid)return void this.form.markAllAsTouched();const t=this.form.getRawValue();t.StartDate=t.StartDate||this.StartDateOptions[0],t.EndDate=t.EndDate||this.EndDateOptions[0],t.Datetouse=t.Datetouse||this.DateToUseOptions[3],this.StartDateOptions.includes(t.StartDate)||(t.StartDate=this.convertMMDDYYtoYYYYMMDD(t.StartDate)),this.EndDateOptions.includes(t.EndDate)||(t.EndDate=this.convertMMDDYYtoYYYYMMDD(t.EndDate)),this.DateToUseOptions.includes(t.Datetouse)||(t.Datetouse=this.convertMMDDYYtoYYYYMMDD(t.Datetouse)),t.StartingStorer=t.StartingStorer||this.StartingStorerOptions[0],t.EndingStorer=t.EndingStorer||this.EndingStorerOptions[0],t.EndingBuildingNumber=t.EndingStorer||this.EndingBuildingNumberOptions[3],t.OutPut=t.OutPut||this.OutputOptions[0],t.ReportType=t.ReportType||this.ReportOrderOptions[1],t.ReportTitle=t.ReportTitle||this.ReportTitleOptions[0],"*FIRST"===t.StartingStorer&&(t.StartingStorer="0"),"*LAST"===t.EndingStorer&&(t.EndingStorer="9999"),"*FIRST"===t.StartingBuildingNumber&&(t.StartingBuildingNumber="0"),"*LAST"===t.EndingBuildingNumber&&(t.EndingBuildingNumber="999"),this.OpenOrdersSubscription&&this.OpenOrdersSubscription.unsubscribe(),this.OpenOrdersSubscription=this.ReportsService.OpenOrders(t.StartDate,t.EndDate,t.Datetouse,t.StartingStorer,t.EndingStorer,t.StartingBuildingNumber,t.EndingBuildingNumber,t.AdditionalStatus1,t.AdditionalStatus2,t.AdditionalStatus3,t.AdditionalStatus4,t.AdditionalStatus5,t.AdditionalStatus6,t.AdditionalStatus7,t.AdditionalStatus8,t.AdditionalStatus9,t.AdditionalStatus10,t.ReportType,t.ReportTitle,t.OutPut,t.Email).subscribe(s=>{const p=s[0].data[s[0].data.length-1].value;p===o.R.submit?(this.successMessage(p),this.router.navigate([this.OpenOrdersRead])):this.failureMessage(p)})}successMessage(t){g().fire(t,"","success")}failureMessage(t){g().fire(t,"","error")}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.qu),i.Y36(_.F0),i.Y36(_.gz),i.Y36(D.F))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-open-orders"]],inputs:{placeholder:"placeholder"},standalone:!0,features:[i.jDz],decls:16,vars:7,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline","formControlName","StartingStorer","label","Starting Storer",3,"options"],["appearance","outline","formControlName","EndingStorer","label","Ending Storer",3,"options"],["appearance","outline","formControlName","StartingBuildingNumber","label","Starting Building Number",3,"options"],["appearance","outline","formControlName","EndingBuildingNumber","label","Ending Building Number",3,"options"],["appearance","outline","formControlName","ReportType","label","Report Order",3,"options"],["appearance","outline","formControlName","ReportTitle","label","Report Title",3,"options"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,s){1&t&&(i.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),i._uU(3," Outbound Activity Report"),i.qZA()(),i.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5),i._UZ(8,"custom-input-autocomplete",6)(9,"custom-input-autocomplete",7)(10,"custom-input-autocomplete",8)(11,"custom-input-autocomplete",9)(12,"custom-input-autocomplete",10)(13,"custom-input-autocomplete",11),i.qZA()(),i.TgZ(14,"button",12),i.NdJ("click",function(){return s.OpenOrders()}),i._uU(15,"Submit"),i.qZA()()()()),2&t&&(i.xp6(5),i.Q6J("formGroup",s.form),i.xp6(3),i.Q6J("options",s.StartingStorerOptions),i.xp6(1),i.Q6J("options",s.EndingStorerOptions),i.xp6(1),i.Q6J("options",s.StartingBuildingNumberOptions),i.xp6(1),i.Q6J("options",s.EndingBuildingNumberOptions),i.xp6(1),i.Q6J("options",s.ReportOrderOptions),i.xp6(1),i.Q6J("options",s.ReportTitleOptions))},dependencies:[E.m,r._Y,r.JJ,r.JL,r.sg,r.u,f.lW,h.a8,h.dk,h.dn,h.n5,O.j,l.L]}),e})()}}]);