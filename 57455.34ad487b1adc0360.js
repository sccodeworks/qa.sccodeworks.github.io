"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[57455],{57455:(x,M,o)=>{o.r(M),o.d(M,{ScheduledMovesComponent:()=>O});var c=o(65412),y=o(35226),v=o.n(y),C=o(70879),t=o(94650),r=o(24006),g=o(19132),b=o(16082),T=o(36895),q=o(97392),U=o(4859),p=o(59549),A=o(44144),n=o(73546);function I(s,m){1&s&&(t.TgZ(0,"div",18)(1,"label",19),t._uU(2,"Lot Codes"),t.qZA(),t.TgZ(3,"div",20)(4,"mat-form-field",8)(5,"mat-label"),t._uU(6," Lot 1 "),t.qZA(),t._UZ(7,"input",21),t.qZA(),t.TgZ(8,"mat-form-field",8)(9,"mat-label"),t._uU(10," Lot 2 "),t.qZA(),t._UZ(11,"input",22),t.qZA(),t.TgZ(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Lot 3 "),t.qZA(),t._UZ(15,"input",23),t.qZA()()())}let F=(()=>{class s{constructor(a,e,i,l,u,d){this.anyvariable=a,this.fb=e,this.router=i,this.iMoveQueueSvc=l,this.dialogRef=u,this.matDialog=d,this.form=this.fb.group({to:"",quantity:"",from:"",item:"",lot1:"",lot2:"",lot3:""}),this.update=!1}ngOnInit(){this.FROM=this.anyvariable[7].value,this.TO=this.anyvariable[8].value,this.QTY=this.anyvariable[6].value,this.TYPE=this.anyvariable[9].value,this.BILL=this.anyvariable[2].value,this.ITEM=this.anyvariable[4].value,this.LOT=this.anyvariable[5].value,this.transaction=this.anyvariable[3].value,""!=this.LOT&&(this.update=!0)}successMessage(a){v().fire(a,"","success")}failureMessage(a){v().fire(a,"","error")}closeDialog(){this.dialogRef.close()}mixedpallet(){var a=this.form.value;this.result=this.iMoveQueueSvc.updateFullPalletCall(this.anyvariable[3].value,a.from,a.item,a.lot1,a.lot2,a.lot3,a.quantity,a.to).subscribe(e=>{this.result=e;var l=this.result[0].data[this.result[0].data.length-1].value;"Full Pallet Move Processed Successfully"===l?(this.successMessage(l),this.closeDialog()):this.failureMessage(l)})}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(c.WI),t.Y36(r.qu),t.Y36(g.F0),t.Y36(b.e),t.Y36(c.so),t.Y36(c.uw))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-inventory-move"]],standalone:!0,features:[t.jDz],decls:65,vars:10,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","placeholder","Transaction",3,"value"],["disabled","","matInput","",3,"value"],["appearance","outline"],["matInput","","formControlName","from"],["matInput","","formControlName","item"],["class","form-group1",4,"ngIf"],["matInput","","formControlName","quantity"],["matInput","","formControlName","to"],["mat-button","",1,"addButton","buttons",3,"click"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],["matInput","","formControlName","lot1"],["matInput","","formControlName","lot2"],["matInput","","formControlName","lot3"]],template:function(a,e){1&a&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Inventory One"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8),t._UZ(13,"input",9),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"mat-form-field",8)(16,"mat-label"),t._uU(17," From "),t.qZA(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"mat-form-field",8)(20,"mat-label"),t._uU(21," To "),t.qZA(),t._UZ(22,"input",10),t.qZA(),t.TgZ(23,"mat-form-field",8)(24,"mat-label"),t._uU(25," Quantity "),t.qZA(),t._UZ(26,"input",10),t.qZA(),t.TgZ(27,"mat-form-field",8)(28,"mat-label"),t._uU(29," Type "),t.qZA(),t._UZ(30,"input",10),t.qZA(),t.TgZ(31,"mat-form-field",8)(32,"mat-label"),t._uU(33," Bill "),t.qZA(),t._UZ(34,"input",10),t.qZA(),t.TgZ(35,"mat-form-field",8)(36,"mat-label"),t._uU(37," Item "),t.qZA(),t._UZ(38,"input",10),t.qZA(),t.TgZ(39,"mat-form-field",8)(40,"mat-label"),t._uU(41," Lot "),t.qZA(),t._UZ(42,"input",10),t.qZA(),t._UZ(43,"hr"),t.TgZ(44,"mat-form-field",11)(45,"mat-label"),t._uU(46," From Location "),t.qZA(),t._UZ(47,"input",12),t.qZA(),t.TgZ(48,"mat-form-field",11)(49,"mat-label"),t._uU(50," Item "),t.qZA(),t._UZ(51,"input",13),t.qZA(),t.YNc(52,I,16,0,"div",14),t.TgZ(53,"mat-form-field",11)(54,"mat-label"),t._uU(55," Quantity "),t.qZA(),t._UZ(56,"input",15),t.qZA(),t.TgZ(57,"mat-form-field",11)(58,"mat-label"),t._uU(59," To Location "),t.qZA(),t._UZ(60,"input",16),t.qZA(),t.TgZ(61,"div")(62,"button",17),t.NdJ("click",function(){return e.mixedpallet()}),t.TgZ(63,"span"),t._uU(64,"Next"),t.qZA()()()()()()()()),2&a&&(t.xp6(9),t.Q6J("formGroup",e.form),t.xp6(4),t.s9C("value",e.transaction),t.xp6(5),t.s9C("value",e.FROM),t.xp6(4),t.s9C("value",e.TO),t.xp6(4),t.s9C("value",e.QTY),t.xp6(4),t.s9C("value",e.TYPE),t.xp6(4),t.s9C("value",e.BILL),t.xp6(4),t.s9C("value",e.ITEM),t.xp6(4),t.s9C("value",e.LOT),t.xp6(10),t.Q6J("ngIf",e.update))},dependencies:[C.m,T.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,q.Hw,U.lW,p.KE,p.hX,A.Nt,n.a8,n.dk,n.dn,n.n5]}),s})();var N=o(85139),P=o(53330),S=o(10692),h=o(39870),D=o(30294);function L(s,m){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&s){const a=m.$implicit;t.xp6(2),t.hij(" ",a.WCCMNT," ")}}let Q=(()=>{class s{constructor(a,e,i,l,u,d,f){this.anyvariable=a,this.fb=e,this.iMoveQueueSvc=i,this.matDialog=l,this.router=u,this.dialogRef=d,this.loginSvc=f,this.form=this.fb.group({}),this.totalRecords=0,this.user=localStorage.getItem("userName"),this.building=localStorage.getItem("building"),this.lpFullPlalletMsg="Call MQU805RLP for Next Screen.",this.displayEquipMsg="Display Equipment screen"}ngOnInit(){this.loginSvc.getBuilding(this.user,this.building,8,1).subscribe(a=>{const e=JSON.parse(a[0].data[1].value);this.totalRecords=e.TotalRecords}),this.result=this.iMoveQueueSvc.readNotifications(this.user,this.anyvariable[2].value).subscribe(a=>{this.result=a;var e=this.result[0].data[1]?.value,i=JSON.parse(e);this.duplicateSource=i.returnedData,this.BillNo=this.duplicateSource[0].WHBILL,this.RefNo=this.duplicateSource[0].WSREF,this.LoadNo=this.duplicateSource[0].WTUPCC,this.Stop=this.duplicateSource[0].WTUPCC,this.Storer=this.duplicateSource[0].WTNAME,this.Consignee=this.duplicateSource[0].WNNAME,this.StageLocation=this.duplicateSource[0].WSLOCN,this.ApptDate=this.duplicateSource[0].WHACTS,this.ShipDate=this.duplicateSource[0].WHSCHS,this.Carrier=this.duplicateSource[0].WHCAR,this.Pieces=this.duplicateSource[0].WHHQTY,this.Weight=this.duplicateSource[0].WHGRSW,this.CHEP=this.duplicateSource[0].WCHEP,this.ASN=this.duplicateSource[0].WHF856,this.UCC128=this.duplicateSource[0].WHF128,this.add1=this.duplicateSource[0].WNADD1,this.add2=this.duplicateSource[0].WNADD2,this.add3=this.duplicateSource[0].WNADD3,this.EstimatedPallets="";for(var l=0;l<this.duplicateSource.length;l++)this.EstimatedPallets+=this.duplicateSource[l].WCCMNT+"\n"})}next(){this.processNextScreen()}processNextScreen(){const a=this.anyvariable,i=a[a.length-1]?.value?.trim();"Call MQI815CR for New Order Notificaton. Call MQU805R for Full Pallet Pick."!==i?"Call MQI815CR for New Order Notificaton. Call MQU811RC for Partial pallet select. Call MQU806CR for Partial pallet Pick."!==i&&"Call MQI815CR for New Order Notificaton. Call MQU811RC for Partial pallet select. Call MQU806CLR for LP Partialpallet Pick"!==i?"Call MQI815CR for New Order Notificaton. Call MQU805RLP for LP full Pallet Pick."!==i||this.handleLPFullPallet():this.matDialog.open(N.V,{width:"1000px",maxHeight:"90vh",data:a,autoFocus:!1}):this.matDialog.open(F,{width:"1000px",maxHeight:"90vh",data:a,autoFocus:!1})}handleLPFullPallet(){this.iMoveQueueSvc.LPfullPalletPicking(this.user,this.anyvariable.transaction).subscribe(a=>{const e=a?.[0]?.data||[],i=e[e.length-1]?.value?.trim()||"";"Display Equipment screen"!==i?i!==this.lpFullPlalletMsg?this.failureMessage(i):this.matDialog.open(P.w,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1}):this.openEquipmentSelection().subscribe(l=>{!0===l?this.handleLPFullPallet():this.showEquipmentError()})})}openEquipmentSelection(){return this.matDialog.open(S.o,{width:"500px",maxHeight:"80vh",autoFocus:!1,data:{source:"NEW_ORDER",transaction:this.anyvariable?.transaction}}).afterClosed()}showEquipmentError(){const a=new h.e("Confirm Action","","Equipment was not selected or found");this.matDialog.open(h.d,{maxWidth:"400px",data:a})}failureMessage(a){v().fire(a,"","error")}closeDialog(){this.dialogRef.close()}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(c.WI),t.Y36(r.qu),t.Y36(b.e),t.Y36(c.uw),t.Y36(g.F0),t.Y36(c.so),t.Y36(D.r))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-new-order"]],standalone:!0,features:[t.jDz],decls:96,vars:20,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["disabled","","matInput","",3,"value"],["appearance","outline",1,"full-width2"],[1,"form-group1"],["for","inputField",1,"form-heading"],[1,"form-input"],[1,"form-table"],[4,"ngFor","ngForOf"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(a,e){1&a&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"New Order Notification"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Bill No "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18," Ref No "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22," Load No "),t.qZA(),t._UZ(23,"input",9),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26," Stop "),t.qZA(),t._UZ(27,"input",9),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30," Storer "),t.qZA(),t._UZ(31,"input",9),t.qZA(),t.TgZ(32,"mat-form-field",10)(33,"mat-label"),t._uU(34," Consignee "),t.qZA(),t._UZ(35,"input",9),t.qZA(),t.TgZ(36,"div",11)(37,"label",12),t._uU(38,"Address "),t.qZA(),t.TgZ(39,"div",13)(40,"mat-form-field",10)(41,"mat-label"),t._uU(42," Address 1"),t.qZA(),t._UZ(43,"input",9),t.qZA(),t.TgZ(44,"mat-form-field",10)(45,"mat-label"),t._uU(46," Address 2"),t.qZA(),t._UZ(47,"input",9),t.qZA(),t.TgZ(48,"mat-form-field",10)(49,"mat-label"),t._uU(50," Address 3"),t.qZA(),t._UZ(51,"input",9),t.qZA()()(),t.TgZ(52,"mat-form-field",8)(53,"mat-label"),t._uU(54," Stage Location "),t.qZA(),t._UZ(55,"input",9),t.qZA(),t.TgZ(56,"mat-form-field",8)(57,"mat-label"),t._uU(58," Appt Date "),t.qZA(),t._UZ(59,"input",9),t.qZA(),t.TgZ(60,"mat-form-field",8)(61,"mat-label"),t._uU(62," Ship Date "),t.qZA(),t._UZ(63,"input",9),t.qZA(),t.TgZ(64,"mat-form-field",8)(65,"mat-label"),t._uU(66," Carrier "),t.qZA(),t._UZ(67,"input",9),t.qZA(),t.TgZ(68,"mat-form-field",8)(69,"mat-label"),t._uU(70," Pieces"),t.qZA(),t._UZ(71,"input",9),t.qZA(),t.TgZ(72,"mat-form-field",8)(73,"mat-label"),t._uU(74," Weight "),t.qZA(),t._UZ(75,"input",9),t.qZA(),t.TgZ(76,"mat-form-field",8)(77,"mat-label"),t._uU(78," CHEP "),t.qZA(),t._UZ(79,"input",9),t.qZA(),t.TgZ(80,"mat-form-field",8)(81,"mat-label"),t._uU(82," ASN "),t.qZA(),t._UZ(83,"input",9),t.qZA(),t.TgZ(84,"mat-form-field",8)(85,"mat-label"),t._uU(86," UCC128 "),t.qZA(),t._UZ(87,"input",9),t.qZA(),t._UZ(88,"br")(89,"br"),t.TgZ(90,"table",14),t.YNc(91,L,3,1,"tr",15),t.qZA(),t._UZ(92,"br"),t.qZA()(),t.TgZ(93,"div")(94,"button",16),t.NdJ("click",function(){return e.next()}),t._uU(95," Next "),t.qZA()()()()()),2&a&&(t.xp6(9),t.Q6J("formGroup",e.form),t.xp6(6),t.s9C("value",e.BillNo),t.xp6(4),t.s9C("value",e.RefNo),t.xp6(4),t.s9C("value",e.LoadNo),t.xp6(4),t.s9C("value",e.Stop),t.xp6(4),t.s9C("value",e.Storer),t.xp6(4),t.s9C("value",e.Consignee),t.xp6(8),t.s9C("value",e.add1),t.xp6(4),t.s9C("value",e.add2),t.xp6(4),t.s9C("value",e.add3),t.xp6(4),t.s9C("value",e.StageLocation),t.xp6(4),t.s9C("value",e.ApptDate),t.xp6(4),t.s9C("value",e.ShipDate),t.xp6(4),t.s9C("value",e.Carrier),t.xp6(4),t.s9C("value",e.Pieces),t.xp6(4),t.s9C("value",e.Weight),t.xp6(4),t.s9C("value",e.CHEP),t.xp6(4),t.s9C("value",e.ASN),t.xp6(4),t.s9C("value",e.UCC128),t.xp6(4),t.Q6J("ngForOf",e.duplicateSource))},dependencies:[C.m,T.sg,r._Y,r.JL,r.sg,q.Hw,U.lW,p.KE,p.hX,A.Nt,n.a8,n.dk,n.dn,n.n5],styles:[".form-table[_ngcontent-%COMP%], .form-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0px!important;background-color:#f0f0f0!important;margin-left:15px}"]}),s})();var R=o(48529),w=o(49713),_=o(11240);let O=(()=>{class s{constructor(a,e,i,l,u,d,f,Z){this.activeRouter=a,this.iBldSvc=e,this.storerService=i,this.iMoveQueueSvc=l,this.router=u,this.matDialog=d,this.fb=f,this.loginSvc=Z,this.totalRecords=0,this.user=localStorage.getItem("userName"),this.building=localStorage.getItem("building"),this.storer=localStorage.getItem("storer"),this.form=this.fb.group({Storer:"",Building:"",name:"",Message:""}),this.countMsg="Call MQCRUD,MQU830R for Cycle Count",this.lpFullPlalletMsg="Call MQU805RLP for Next Screen.",this.transactionNumber=0}checkTotalRecordsForEquipment(){this.loginSvc.getBuilding(this.user,R.R.fullBuilding(this.building),8,1).subscribe(a=>{const e=JSON.parse(a[0].data[1].value);this.totalRecords=e.TotalRecords,0===this.totalRecords&&this.matDialog.open(S.o,{width:"500px",maxHeight:"80vh",autoFocus:!1}).afterClosed().subscribe(i=>{if(i)localStorage.setItem("equipment",i);else{const l=new h.e("Confirm Action","","Equipment was not selected or found");this.matDialog.open(h.d,{maxWidth:"400px",data:l})}})})}ngOnInit(){this.name=localStorage.getItem("name"),this.result=this.iBldSvc.getBuilding(this.user,R.R.fullBuilding(this.building)).subscribe(a=>{this.result=a;var e=this.result[0].data[1]?.value,i=JSON.parse(e);this.buildingValue=[this.building,i.returnedData[0].BUNAME].join(" ")}),this.result1=this.storerService.storerSearch(this.user,"",this.storer,"","","").subscribe(a=>{this.result=a;var e=this.result[0].data[1]?.value,i=JSON.parse(e);this.storerValue=[this.storer,i.returnedData[0].STNAME].join(" ")}),this.result=this.iMoveQueueSvc.readMessage(this.user,this.building).subscribe(a=>{this.result=a;var e=this.result[0].data[1]?.value,i=JSON.parse(e);this.message=i.returnedData[0].MSMESG})}update(){this.result=this.iMoveQueueSvc.updateFirstCall("FIRST",this.user).subscribe(a=>{this.firstCall=a;const e=this.firstCall[0].data,i=e[e.length-1].value?.trim(),l=e[3].value?.trim();this.transactionNumber=l,["Call MQI815CR for New Order Notificaton. Call MQU805R for Full Pallet Pick.","Call MQI815CR for New Order Notificaton. Call MQU811RC for Partial pallet select. Call MQU806CR for Partial pallet Pick.","Call MQI815CR for New Order Notificaton. Call MQU811RC for Partial pallet select. Call MQU806CLR for LP Partialpallet Pick","Call MQI815CR for New Order Notificaton. Call MQU805RLP for LP full Pallet Pick."].some(d=>d.toUpperCase()===i.toUpperCase())?this.new():i.toUpperCase()!==this.countMsg.toUpperCase()?"Call MQU805RLP for LP full Pallet Pick."!==i?this.failureMessage(i):this.handleLPFullPick(l):this.iMoveQueueSvc.cycleCount(this.user,l).subscribe(d=>{var Z=JSON.parse(d[0].data[1]?.value).returnedData;Z.transaction=l,this.router.navigate(["/main-nav/schedMoves/locationAudit"],{state:[Z,e]})})})}handleLPFullPick(a){this.iMoveQueueSvc.LPfullPalletPicking(this.user,a).subscribe(e=>{const i=e?.[0]?.data||[],l=i[i.length-1]?.value?.trim()||"";"Display Equipment screen"!==l?l!==this.lpFullPlalletMsg?this.failureMessage(l):this.matDialog.open(P.w,{width:"1000px",maxHeight:"90vh",data:i,autoFocus:!1}):this.openEquipmentSelection().subscribe(u=>{!0===u?this.handleLPFullPick(a):this.showEquipmentError()})})}openEquipmentSelection(){return this.matDialog.open(S.o,{width:"500px",maxHeight:"80vh",autoFocus:!1}).afterClosed()}showEquipmentError(){const a=new h.e("Confirm Action","","Equipment was not selected or found");this.matDialog.open(h.d,{maxWidth:"400px",data:a})}failureMessage(a){v().fire(a,"","error")}new(){var a=this.firstCall[0].data;a.transaction=this.transactionNumber,this.matDialog.open(Q,{width:"1000px",maxHeight:"90vh",data:a,autoFocus:!1})}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(g.gz),t.Y36(w.z),t.Y36(_.h),t.Y36(b.e),t.Y36(g.F0),t.Y36(c.uw),t.Y36(r.qu),t.Y36(D.r))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-scheduled-moves"]],standalone:!0,features:[t.jDz],decls:26,vars:5,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["disabled","","matInput","",3,"value"],["appearance","outline",1,"full-width","w-100"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(a,e){1&a&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Initial Scheduled Move Processing"),t.qZA()(),t.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10," Storer "),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14," Building"),t.qZA(),t._UZ(15,"input",7),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18," Welcome"),t.qZA(),t._UZ(19,"input",7),t.qZA(),t.TgZ(20,"mat-form-field",8),t._UZ(21,"mat-label")(22,"textarea",7),t.qZA()()(),t.TgZ(23,"div")(24,"button",9),t.NdJ("click",function(){return e.update()}),t._uU(25," Next "),t.qZA()()()()()),2&a&&(t.xp6(5),t.Q6J("formGroup",e.form),t.xp6(6),t.s9C("value",e.storerValue),t.xp6(4),t.s9C("value",e.buildingValue),t.xp6(4),t.s9C("value",e.name),t.xp6(3),t.s9C("value",e.message))},dependencies:[C.m,r._Y,r.JL,r.sg,U.lW,p.KE,p.hX,A.Nt,n.a8,n.dk,n.dn,n.n5]}),s})()}}]);