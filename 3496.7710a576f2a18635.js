"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[3496],{55001:(R,M,r)=>{r.d(M,{O:()=>P});var C=r(65412),d=r(7155),A=r(70879),Z=r(36895),t=r(94650),f=r(19132),E=r(24006),T=r(46546),S=r(98739),e=r(97392),a=r(4859),n=r(59549),i=r(44144),u=r(73546);const l=["paginator"];function _(o,h){1&o&&(t.TgZ(0,"th",27),t._uU(1,"Sequence Number"),t.qZA())}function s(o,h){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const m=h.$implicit;t.xp6(1),t.Oqu(m.RASEQ)}}function c(o,h){1&o&&(t.TgZ(0,"th",27),t._uU(1,"Adjusted Date"),t.qZA())}function g(o,h){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const m=h.$implicit;t.xp6(1),t.Oqu(m.RADATE)}}function L(o,h){1&o&&(t.TgZ(0,"th",27),t._uU(1," Ledger Description "),t.qZA())}function D(o,h){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const m=h.$implicit;t.xp6(1),t.Oqu(m.WKLGDSC)}}function v(o,h){1&o&&(t.TgZ(0,"th",27),t._uU(1," Adjustment Amount "),t.qZA())}function I(o,h){if(1&o&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&o){const m=h.$implicit;t.xp6(1),t.hij(" $ ",m.RAAMT,"")}}function U(o,h){1&o&&t._UZ(0,"tr",29)}function b(o,h){1&o&&t._UZ(0,"tr",30)}const y=function(){return[8,16,24]};let P=(()=>{class o{constructor(m,p,O,N,K,W,B){this.data=m,this.matDialog=p,this.dialogRef=O,this.router=N,this.fb=K,this.LedgerCodes=W,this.decimalPipe=B,this.displayedColumns=["SequenceNumber","AdjustmentDate","LedgerDescription","AdjustmentAmount"],this.duplicateSource=[],this.user=localStorage.getItem("userName"),this.AdjustedValue=0}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}ngOnInit(){console.log(this.data),this.invoice=this.data.WKINV,this.form=this.fb.group({AHINV:{value:this.data.WKINV,disabled:!0}}),this.getAdjustmentinquiry()}getAdjustmentinquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.LedgerCodes.getLctAdjInquiry(this.user,this.data.WKINV).subscribe(m=>{var p=m[0].data[1].value;console.log(p);var O=JSON.parse(p);this.duplicateSource=O.returnedData,this.dataSource=new d.by(this.duplicateSource),console.log(this.duplicateSource),this.duplicateSource.length>0?(this.InvoiceDate=this.duplicateSource[0].AHDATE,this.Customer=this.duplicateSource[0].WKOCNAM,this.BilltoCustomerName=this.duplicateSource[0].WKBCNAM,this.Transactiontype=this.duplicateSource[0].TTDESC,this.Amount="$"+this.decimalPipe.transform(Math.abs(this.duplicateSource[0].RAAMT),"1.2-2"),this.AdjustedValue=this.duplicateSource[0].WKADJTO):(this.InvoiceDate=this.data.ADDATE,this.Customer=this.data.WKCSDSC,this.BilltoCustomerName=this.data.WKCSDSC,this.Transactiontype=this.data.AHTYPE,this.Amount="$"+this.decimalPipe.transform(Math.abs(this.data.ADAMT),"1.2-2"),this.AdjustedValue=this.data.ADAMT),this.dataSource.paginator=this.paginator})}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(m){return new(m||o)(t.Y36(C.WI),t.Y36(C.uw),t.Y36(C.so),t.Y36(f.F0),t.Y36(E.qu),t.Y36(T.f),t.Y36(Z.JJ))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-adj-inquiry-lc-transactions"]],viewQuery:function(m,p){if(1&m&&t.Gf(l,5),2&m){let O;t.iGM(O=t.CRH())&&(p.paginator=O.first)}},standalone:!0,features:[t._Bn([Z.JJ]),t.jDz],decls:61,vars:15,consts:[[1,"over-Flow"],[1,"main-header-title"],[1,"button"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","AHINV"],["appearance","outline",1,"full-width2"],["disabled","","matInput","",3,"value"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","SequenceNumber"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","AdjustmentDate"],["matColumnDef","LedgerDescription"],["matColumnDef","AdjustmentAmount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both-right"],[1,"right-side-content"],[1,"buttons","button3"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(m,p){1&m&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Invoice Adjustment Inquiry"),t.qZA()(),t.TgZ(5,"div",2)(6,"button",3),t.NdJ("click",function(){return p.closeDialog()}),t.TgZ(7,"mat-icon",4),t._uU(8,"close"),t.qZA()()()(),t.TgZ(9,"mat-card-content",5)(10,"form",6)(11,"div",7)(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Invoice"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"mat-form-field",11)(18,"mat-label"),t._uU(19,"Customer"),t.qZA(),t._UZ(20,"input",12),t.qZA(),t.TgZ(21,"mat-form-field",9)(22,"mat-label"),t._uU(23,"Date"),t.qZA(),t._UZ(24,"input",12),t.qZA(),t.TgZ(25,"mat-form-field",11)(26,"mat-label"),t._uU(27,"Bill-To"),t.qZA(),t._UZ(28,"input",12),t.qZA(),t.TgZ(29,"mat-form-field",9)(30,"mat-label"),t._uU(31,"Amount"),t.qZA(),t._UZ(32,"input",12),t.qZA(),t.TgZ(33,"mat-form-field",9)(34,"mat-label"),t._uU(35,"Type"),t.qZA(),t._UZ(36,"input",12),t.qZA()()()()(),t.TgZ(37,"table",13),t.ynx(38,14),t.YNc(39,_,2,0,"th",15),t.YNc(40,s,2,1,"td",16),t.BQk(),t.ynx(41,17),t.YNc(42,c,2,0,"th",15),t.YNc(43,g,2,1,"td",16),t.BQk(),t.ynx(44,18),t.YNc(45,L,2,0,"th",15),t.YNc(46,D,2,1,"td",16),t.BQk(),t.ynx(47,19),t.YNc(48,v,2,0,"th",15),t.YNc(49,I,2,1,"td",16),t.BQk(),t.YNc(50,U,1,0,"tr",20),t.YNc(51,b,1,0,"tr",21),t.qZA(),t.TgZ(52,"div",22)(53,"div",23)(54,"button",24),t._uU(55," Adjusted Value : "),t.TgZ(56,"b"),t._uU(57),t.ALo(58,"number"),t.qZA()()()(),t._UZ(59,"mat-paginator",25,26),t.qZA()),2&m&&(t.xp6(10),t.Q6J("formGroup",p.form),t.xp6(10),t.s9C("value",p.Customer),t.xp6(4),t.s9C("value",p.InvoiceDate),t.xp6(4),t.s9C("value",p.BilltoCustomerName),t.xp6(4),t.s9C("value",p.Amount),t.xp6(4),t.s9C("value",p.Transactiontype),t.xp6(1),t.Q6J("dataSource",p.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",p.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",p.displayedColumns),t.xp6(6),t.hij("$ ",t.xi3(58,11,p.AdjustedValue,"1.2-2"),""),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(14,y)))},dependencies:[A.m,E._Y,E.Fj,E.JJ,E.JL,E.sg,E.u,S.NW,e.Hw,a.lW,n.KE,n.hX,i.Nt,u.a8,u.dk,u.dn,u.n5,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,Z.JJ]}),o})()},5666:(R,M,r)=>{r.d(M,{i:()=>u});var C=r(65412),d=r(35226),A=r.n(d),Z=r(70879),t=r(94650),f=r(24006),E=r(19132),T=r(46546),S=r(97392),e=r(4859),a=r(59549),n=r(44144),i=r(73546);let u=(()=>{class l{constructor(s,c,g,L,D){this.anyvariable=s,this.fb=c,this.router=g,this.LedgerCodes=L,this.dialogRef=D,this.result=[],this.user=localStorage.getItem("userName")}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({InvoiceNumber:{value:this.anyvariable.WKINV,disabled:!0},SequenceNumber:{value:this.anyvariable.ADSEQ,disabled:!0},InvoiceDate:{value:this.anyvariable.ADDATE,disabled:!0},LineAmount:{value:this.anyvariable.ADAMT,disabled:!0},LedgerCode:this.anyvariable.WKLEGC,LedgerSubCode:this.anyvariable.WKLEGS,BuildingNumber:this.anyvariable.ADBLDG})}ngOnDestroy(){this.getLcTransactionSubscription&&this.getLcTransactionSubscription.unsubscribe()}UpdateLedgerCode(){var s=this.form.value;console.log(s),this.getLcTransactionSubscription&&this.getLcTransactionSubscription.unsubscribe(),this.getLcTransactionSubscription=this.LedgerCodes.updateLcTransactions(this.user,s.InvoiceNumber,s.SequenceNumber,s.InvoiceDate,s.LineAmount,s.LedgerCode,s.LedgerSubCode,s.BuildingNumber).subscribe(c=>{if(console.log(c),JSON.parse(c[0].data[1].value).success){const g=JSON.parse(c[0].data[1].value).returnedData.message;this.successMessage(g),this.closeDialog(),this.router.navigateByUrl("main-nav/ledgerCode/receivable-details")}else{const g=JSON.parse(c[0].data[1].value).returnedData.message;this.failureMessage(g)}})}successMessage(s){A().fire(s,"","success")}failureMessage(s){A().fire(s,"","error")}closeDialog(){this.dialogRef.close()}}return l.\u0275fac=function(s){return new(s||l)(t.Y36(C.WI),t.Y36(f.qu),t.Y36(E.F0),t.Y36(T.f),t.Y36(C.so))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-update-lc-transactions"]],standalone:!0,features:[t.jDz],decls:42,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["readonly","","matInput","","formControlName","InvoiceNumber"],["readonly","","matInput","","formControlName","SequenceNumber"],["readonly","","matInput","","formControlName","InvoiceDate"],["readonly","","matInput","","formControlName","LineAmount"],["matInput","","formControlName","LedgerCode"],["matInput","","formControlName","LedgerSubCode"],["matInput","","formControlName","BuildingNumber"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(s,c){1&s&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Receivable Ledger Details"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return c.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14," Invoice Number "),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Sequence Number "),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Invoice Date "),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Line Amount "),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Ledger Code "),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Ledger Sub Code "),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38,"Building Number "),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"button",16),t.NdJ("click",function(){return c.UpdateLedgerCode()}),t._uU(41," Update "),t.qZA()()()()),2&s&&(t.xp6(9),t.Q6J("formGroup",c.form))},dependencies:[Z.m,f._Y,f.Fj,f.JJ,f.JL,f.sg,f.u,S.Hw,e.lW,a.KE,a.hX,n.Nt,i.a8,i.dk,i.dn,i.n5]}),l})()},46546:(R,M,r)=>{r.d(M,{f:()=>E});var C=r(80529),d=r(75625),A=r(70262),Z=r(62843),t=r(92340),f=r(94650);let E=(()=>{class T{constructor(e){this.httpClient=e,this.url=t.N.API_BASE_URL,this.httpHeader={headers:new C.WM({"Content-Type":"application/json"})}}getLedgerCodes(e,a,n,i){return this.httpClient.get(this.url+`/LedgerCodes/read?user=${e}&LedgerCode=${a}&recordsPerPage=${n}&pageNo=${i}`)}getAll(e){return this.httpClient.get(this.url+`/LedgerCodes/readAll?user=${e}`)}createLedgerCodes(e,a,n,i,u,l){return this.httpClient.post(this.url+"/LedgerCodes/create",{LELEGC:e,LELEGS:a,LEDESC:n,LECC:i,LECSFX:u,user:l}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}updateLedgerCodes(e,a,n,i,u,l){return this.httpClient.put(this.url+"/LedgerCodes/update",{LELEGC:e,LELEGS:a,LEDESC:n,LECC:i,LECSFX:u,user:l}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}deleteLedgerCodes(e,a,n){return this.httpClient.delete(this.url+`/LedgerCodes/delete?user=${e}&LedgerCode=${a}&LedgerSubCode=${n}`)}LedgerCodesConsolidate(e,a,n,i){return this.httpClient.put(this.url+"/LedgerCodes/consolidate",{LedgerCode1:e,LedgerSubCode1:a,LedgerCode2:n,LedgerSubCode2:i}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}getLCTransactions(e,a,n,i,u,l,_,s,c,g,L,D,v,I,U,b,y){const P=(new C.LE).set("user",e||"").set("ledgerCode",a||"").set("ledgerSubCode",n||"").set("startDate",i||"").set("endDate",u||"").set("startCust",l?l.toString():"0").set("startCustF",_||"").set("startCustF2",s||"").set("endCust",c?c.toString():"0").set("endCustF",g||"").set("endCustF2",L||"").set("startBldng",D||"").set("endBldng",v||"").set("output",I||"").set("emailAdd",U||"").set("recordsPerPage",b?b.toString():"10").set("pageNo",y?y.toString():"1");return this.httpClient.get(this.url+"/LedgerCodes/transactions/read",{params:P})}updateLcTransactions(e,a,n,i,u,l,_,s){return this.httpClient.put(this.url+"/LedgerCodes/transactions/update",{user:e,InvoiceNum:a,SequenceNum:n,InvoiceDate:i,LineAmount:u,LedgerCode:l,LedgerSubCode:_,Building:s}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}getLctInvInquiry(e,a){return this.httpClient.get(this.url+`/LedgerCodes/transactions/InvInquiry/read?user=${e}&InvoiceNum=${a}`)}getLctAdjInquiry(e,a){return this.httpClient.get(this.url+`/LedgerCodes/transactions/AdjInquiry/read?user=${e}&InvoiceNum=${a}`)}getLCAttributes(e,a,n,i){return this.httpClient.get(this.url+`/LedgerCodes/attributes/read?user=${e}&key=${a}&recordsPerPage=${n}&pageNo=${i}`)}LCAttributesCreate(e,a,n,i,u,l,_,s){return this.httpClient.post(this.url+"/LedgerCodes/attributes/create",{user:e,EAFLID:a,EAKEY:n,EAATRB:i,EAVALU:u,EASTAT:l,EATMST:_,EAUSER:s}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}LCAttributesUpdate(e,a,n,i,u,l,_,s){return this.httpClient.put(this.url+"/LedgerCodes/attributes/update",{EAFLID:e,EAKEY:a,EAATRB:n,EAVALU:i,EASTAT:u,EATMST:l,EAUSER:_,user:s}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}LCAttributesDelete(e,a){return this.httpClient.delete(this.url+`/LedgerCodes/attributes/delete?key=${e}&attribute=${a}`)}RevenueDistReport(e,a,n,i,u,l,_,s,c,g,L,D,v,I){return this.httpClient.put(this.url+"/LedgerCodes/LedgerCodesRevReport/update",{LedgerCode:e,LedgerCodeSuffix:a,StartDate:n,EndDate:i,StartingCustomer:u,StartingCustomerSuffix:l,StartingCustomerSuffix2:_,EndingCustomer:s,EndingCustomerSuffix:c,EndingCustomerSuffix2:g,StartingBuildingNumber:L,EndingBuildingNumber:D,OutPut:v,Email:I}).pipe((0,d.X)(1),(0,A.K)(this.httpError))}LCRevInquiry(e,a,n,i,u){return this.httpClient.get(this.url+`/LedgerCodes/LCRevInquiry/read?user=${e}&LedgerCode=${a}&LedgerSubCode=${n}&recordsPerPage=${i}&pageNo=${u}`)}ReceivableDetailsRevInquiryForm(e,a,n,i,u,l,_,s,c,g,L,D,v,I,U){const b=(new C.LE).set("user",e||"").set("WKLEGC",a).set("WKLEGS",n).set("StDate",i).set("EndDate",u).set("Stcust",l||"0000").set("Stcustf",_||" ").set("Stcustf2",s||" ").set("Endcust",c||"9999").set("Ecustsuf",g||" ").set("Endcstf2",L||" ").set("Stbldng",D||"").set("Endbldng",v||"999").set("Output",I).set("Emailadd",U||" ");return this.httpClient.get(`${this.url}/LedgerCodes/ReceivableDetailsRevInquiry/read`,{params:b})}LedgercodeRevReport(e,a,n,i,u,l,_,s,c,g,L,D,v,I,U){const b=(new C.LE).set("user",e||"").set("WKLEGC",a).set("WKLEGS",n).set("StDate",i).set("EndDate",u).set("Stcust",l||"0000").set("Stcustf",_||" ").set("Stcustf2",s||" ").set("Endcust",c||"9999").set("Ecustsuf",g||" ").set("Endcstf2",L||" ").set("Stbldng",D||" ").set("Endbldng",v||"999").set("Output",I||"*DISPLAY").set("Emailadd",U||" ");return this.httpClient.get(`${this.url}/LedgerCodes/LedgercodeRevReport/read`,{params:b})}ReceivableDetailsRevInquiry(e,a,n,i,u){const l=(new C.LE).set("user",e||"").set("WKLEGC",a).set("WKLEGS",n).set("StDate",i).set("EndDate",u);return this.httpClient.get(`${this.url}/LedgerCodes/ReceivableDetailsRevInquiry/read`,{params:l})}httpError(e){let a="";return a=e.error instanceof ErrorEvent?e.error.message:`Error Code: ${e.status}\nMessage: ${e.message}`,console.log(a),(0,Z._)(()=>new Error(a))}}return T.\u0275fac=function(e){return new(e||T)(f.LFG(C.eN))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()}}]);