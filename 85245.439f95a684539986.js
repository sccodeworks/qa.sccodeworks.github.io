"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[85245],{4379:(R,y,o)=>{o.d(y,{B:()=>Z});var C=o(80529),O=o(61135),c=o(75625),v=o(70262),E=o(62843),d=o(92340),N=o(94650);let Z=(()=>{class e{constructor(a){this.httpClient=a,this.url=d.N.API_BASE_URL,this.consigneeDataSource=new O.X([]),this.httpHeader={headers:new C.WM({"Content-Type":"application/json"})}}updateconsigneeDataSource(a){let r=this.consigneeDataSource.getValue();r.unshift(...a),this.consigneeDataSource.next(r)}getConsignee(a,r,s){return this.httpClient.get(this.url+`/consignee/read?user=${a}&consCode=${r}&name=${s}`)}getAll(a){return this.httpClient.get(this.url+`/consignee/readAll?user=${a}`)}getAllrecords(a,r,s){return this.httpClient.get(this.url+`/consignee/readAll?user=${a}&pageNum=${r}&recordsPerPage=${s}`)}createConsignee(a,r,s,h,i,g,f,T,A,b,S,U,I,P){return this.httpClient.post(this.url+"/consignee/create",{CONSCD:a,CONAME:r,COADD1:s,COADD2:h,COADD3:i,COADD4:g,COZIP:f,COZSFX:T,COZONE:A,COPHAR:b,COPHEX:S,COPHNU:U,CODEST:I,user:P}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}updateConsignee(a,r,s,h,i,g,f,T,A,b,S,U,I,P){return this.httpClient.put(this.url+"/consignee/update",{CONSCD:a,CONAME:r,COADD1:s,COADD2:h,COADD3:i,COADD4:g,COZIP:f,COZSFX:T,COZONE:A,COPHAR:b,COPHEX:S,COPHNU:U,CODEST:I,user:P}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}deleteConsignee(a,r){return this.httpClient.delete(this.url+`/consignee/delete?user=${a}&consCode=${r}`)}getConsigneeXrefService(a,r,s,h){return this.httpClient.get(this.url+`/consigneeCrossRef/read?user=${a}&consigneeCode=${r}&pageNo=${s}&recordsPerPage=${h}`)}createConsigneeXrefService(a,r,s){return this.httpClient.post(this.url+"/consigneeCrossRef/create",{consigneeCode:a,parentConsignee:r,user:s}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}updateConsigneeXrefService(a,r,s){return this.httpClient.put(this.url+"/consigneeCrossRef/update",{consigneeCode:a,parentConsignee:r,user:s}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}deleteConsigneeXrefService(a,r){return this.httpClient.delete(this.url+`/consigneeCrossRef/delete?user=${a}&consigneeCode=${r}`)}getConsigneeComments(a,r,s,h){return this.httpClient.get(this.url+`/consignee/commentRead?user=${a}&consigneeCode=${r}&subType=${s}&sequence=${h}`)}createConsigneeCommentService(a,r,s,h,i){return this.httpClient.post(this.url+"/consignee/commentCreate",{consigneeCode:a,subType:r,sequence:s,comment:h,user:i}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}updateConsigneeCommentService(a,r,s,h,i){return this.httpClient.put(this.url+"/consignee/commentUpdate ",{consigneeCode:a,subType:r,sequence:s,comment:h,user:i}).pipe((0,c.X)(1),(0,v.K)(this.httpError))}deleteconsigneeCommentService(a,r,s,h){return this.httpClient.delete(this.url+`/consignee/commentDelete?user=${a}&consigneeCode=${r}&subType=${s}&sequence=${h}`).pipe((0,c.X)(1),(0,v.K)(this.httpError))}httpError(a){let r="";return r=a.error instanceof ErrorEvent?a.error.message:`Error Code: ${a.status}\nMessage: ${a.message}`,console.log(r),(0,E._)(()=>new Error(r))}}return e.\u0275fac=function(a){return new(a||e)(N.LFG(C.eN))},e.\u0275prov=N.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},39505:(R,y,o)=>{o.d(y,{L:()=>r});var C=o(24006),O=o(59549),c=o(69751),v=o(68675),E=o(54004),d=o(94650),N=o(36895),Z=o(47957),e=o(3238),M=o(44144);function a(s,h){if(1&s&&(d.TgZ(0,"mat-option",4),d._uU(1),d.qZA()),2&s){const i=h.$implicit;d.Q6J("value",i),d.xp6(1),d.Oqu(i)}}let r=(()=>{class s{constructor(i){this.fb=i,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=g=>{},this.onChange=g=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new c.y,this.filteredOptions=this.control.valueChanges.pipe((0,v.O)(this.value),(0,E.U)(g=>this._filter(g)))}setDescribedByIds(i){}onContainerClick(i){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(i){null!=i&&(this.control.setValue(i),this.value=i)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i}_filter(i){if(null==i||0==i.length)return this.options;const g=i.toLowerCase(),f=this.options.filter(T=>T.toLowerCase().includes(g));return!this.disabled&&1===f.length&&this.control.value!=f[0]&&i.length>=(this.previousValue?.length??0)&&this.control.setValue(f[0]),this.onChange(this.control.value),this.previousValue=this.control.value,f}}return s.\u0275fac=function(i){return new(i||s)(d.Y36(C.qu))},s.\u0275cmp=d.Xpm({type:s,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(i,g){2&i&&d.uIk("aria-describedby",g.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[d._Bn([{provide:C.JU,multi:!0,useExisting:s},{provide:O.Eo,useExisting:s}],[{provide:C.gN,useExisting:C.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(i,g){if(1&i&&(d.TgZ(0,"mat-form-field",0)(1,"mat-label"),d._uU(2),d.qZA(),d._UZ(3,"input",1),d.TgZ(4,"mat-autocomplete",null,2),d.YNc(6,a,2,2,"mat-option",3),d.ALo(7,"async"),d.qZA()()),2&i){const f=d.MAs(5);d.Q6J("appearance",g.appearance),d.xp6(2),d.Oqu(g.label),d.xp6(1),d.Q6J("id",g.id)("placeholder",g.placeholder)("formControl",g.control)("matAutocomplete",f),d.xp6(3),d.Q6J("ngForOf",d.lcZ(7,7,g.filteredOptions))}},dependencies:[N.sg,C.Fj,C.JJ,C.oH,Z.XC,Z.ZL,e.ey,O.KE,O.hX,M.Nt,N.Ov]}),s})()},85245:(R,y,o)=>{o.r(y),o.d(y,{NameandAddressComponent:()=>H});var C=o(98739),O=o(70879),c=o(7155),v=o(86385),E=o(35226),d=o.n(E),N=o(48529),Z=o(65412),e=o(94650),M=o(65105),a=o(4379),r=o(19132),s=o(24006),h=o(36895),i=o(97392),g=o(4859),f=o(59549),T=o(44144),A=o(73546),b=o(39505);function S(l,m){1&l&&(e.TgZ(0,"div"),e._uU(1," Code is required "),e.qZA())}function U(l,m){1&l&&(e.TgZ(0,"div"),e._uU(1," City and State is required "),e.qZA())}let I=(()=>{class l{constructor(t,n,u,p,_,D,B){this.anyvariable=t,this.matDialog=n,this.Orderservice=u,this.consigneeSrvc=p,this.dialogRef=_,this.router=D,this.fb=B,this.user=localStorage.getItem("userName"),this.isDropdownClicked=!1,this.showDropdown=!1,this.ZipCodeOptions=[],this.CityStateOptions=[],this.orderUrl="/main-nav/orders/read"}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({BillOfLading:this.anyvariable[0]?.OHBILL,OMTYPE:this.anyvariable[1]?.OMTYPE,OMNAME:this.anyvariable[1]?.OMNAME,OMADD1:this.anyvariable[1]?.OMADD1||"",OMADD2:this.anyvariable[1]?.OMADD2||"",OMADD3:this.anyvariable[1]?.OMADD3||"",OMADD4:this.anyvariable[1]?.OMADD4||"",ZipCode:this.anyvariable[1]?.OMZIP?.toString()||"",ZipSuffix:this.anyvariable[1]?.OMZSFX||"",City:this.anyvariable[1].WCTST||""}),this.ZipCode(),this.CityState()}toggleDropdown(){this.showDropdown=!0}ZipCode(){this.Orderservice.getZipCodes().subscribe(t=>{this.result=t,this.ZipCodeOptions=t.map(n=>n.ZIPCOD),this.CityStateOptions=t.map(n=>`${n.ZICITY}, ${n.ZISTAT}`),this.setupZipCodeAutoFill()})}setupZipCodeAutoFill(){this.form.get("ZipCode")?.valueChanges.subscribe(t=>{const n=this.result.find(u=>u.ZIPCOD===t);if(n){const u=n.ZICITY||"",p=n.ZISTAT||"";this.form.patchValue({City:u&&p?`${u}, ${p}`:u||p,ZipSuffix:n.ZIPSUF||""})}else this.form.patchValue({City:"",ZipSuffix:""})})}CityState(){this.Orderservice.getZipCodes().subscribe(t=>{this.result=t;for(const n of this.result)this.CityStateOptions.push(`${n.ZICITY}, ${n.ZISTAT}`)})}get fullAddress(){return[this.form.get("OMADD1")?.value||"",this.form.get("OMADD2")?.value||"",this.form.get("OMADD3")?.value||"",this.form.get("OMADD4")?.value||""].join("\n")}onAddressChange(t){const n=(t.target.value||"").split("\n");this.form.patchValue({OMADD1:(n[0]||"").slice(0,30),OMADD2:(n[1]||"").slice(0,30),OMADD3:(n[2]||"").slice(0,30),OMADD4:(n[3]||"").slice(0,30)})}ngOnDestroy(){this.nameAddressSubscription&&this.nameAddressSubscription.unsubscribe()}NameAddressChange(){var t=this.form.value;const n=t.City?.split(",")||[],u=n.length>1?n[1].trim():"";this.nameAddressSubscription&&this.nameAddressSubscription.unsubscribe(),this.nameAddressSubscription=this.Orderservice.NameAddressChange(this.user,t.BillOfLading,t.OMTYPE,t.OMNAME,t.OMADD1,t.OMADD2,t.OMADD3,t.OMADD4,t.ZipCode,t.ZipSuffix,u).subscribe(p=>{this.result=p,console.log(this.result);const _=this.result[0]?.data?.[1]?.value;let D="";try{D=JSON.parse(_)?.returnedData?.message}catch(B){console.error("Failed to parse response:",B)}D===N.R.updateMsg.trim()?(this.successMessage(D),this.closeDialog(),this.router.navigate([this.orderUrl])):this.failureMessage(D)})}successMessage(t){d().fire(t,"","success")}failureMessage(t){d().fire(t,"","error")}closeDialog(){this.dialogRef.close()}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(Z.WI),e.Y36(Z.uw),e.Y36(M.p),e.Y36(a.B),e.Y36(Z.so),e.Y36(r.F0),e.Y36(s.qu))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-name-and-address-change"]],viewQuery:function(t,n){if(1&t&&e.Gf(C.NW,5),2&t){let u;e.iGM(u=e.CRH())&&(n.paginator=u.first)}},standalone:!0,features:[e.jDz],decls:38,vars:6,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillOfLading"],["matInput","","formControlName","OMTYPE"],["matInput","","formControlName","OMNAME"],["appearance","outline",1,"full-width","w-100"],["matInput","","rows","4",3,"value","input"],["formControlName","ZipCode","label","Zip Code","appearance","outline","required","",1,"full-width2",3,"options"],[4,"ngIf"],["matInput","","formControlName","ZipSuffix"],["formControlName","City","label","City and State","appearance","outline","required","",1,"full-width2",3,"options"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4,"Order Address Maintenance "),e.qZA()(),e.TgZ(5,"button",2),e.NdJ("click",function(){return n.closeDialog()}),e.TgZ(6,"mat-icon",3),e._uU(7,"close"),e.qZA()()(),e.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Bill"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Address Type"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",8)(21,"mat-label"),e._uU(22,"Name"),e.qZA(),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"mat-form-field",12)(25,"mat-label"),e._uU(26,"Address "),e.qZA(),e.TgZ(27,"textarea",13),e.NdJ("input",function(p){return n.onAddressChange(p)}),e.qZA()(),e.TgZ(28,"custom-input-autocomplete",14),e.YNc(29,S,2,0,"div",15),e.qZA(),e.TgZ(30,"mat-form-field",8)(31,"mat-label"),e._uU(32,"Zip Code Suffix"),e.qZA(),e._UZ(33,"input",16),e.qZA(),e.TgZ(34,"custom-input-autocomplete",17),e.YNc(35,U,2,0,"div",15),e.qZA()()(),e.TgZ(36,"button",18),e.NdJ("click",function(){return n.NameAddressChange()}),e._uU(37," Update "),e.qZA()()()()),2&t){let u,p;e.xp6(9),e.Q6J("formGroup",n.form),e.xp6(18),e.Q6J("value",n.fullAddress),e.xp6(1),e.Q6J("options",n.ZipCodeOptions),e.xp6(1),e.Q6J("ngIf",(null==(u=n.form.get("ZipCode"))?null:u.touched)&&(null==(u=n.form.get("ZipCode"))?null:u.hasError("required"))),e.xp6(5),e.Q6J("options",n.CityStateOptions),e.xp6(1),e.Q6J("ngIf",(null==(p=n.form.get("City"))?null:p.touched)&&(null==(p=n.form.get("City"))?null:p.hasError("required")))}},dependencies:[O.m,h.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,i.Hw,g.lW,f.KE,f.hX,T.Nt,A.a8,A.dk,A.dn,A.n5,v.j,b.L]}),l})();var P=o(84696);function L(l,m){1&l&&(e.TgZ(0,"th",21),e._uU(1,"Type"),e.qZA())}function x(l,m){if(1&l&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&l){const t=m.$implicit;e.xp6(1),e.Oqu(t.TNADTP)}}function Y(l,m){1&l&&(e.TgZ(0,"th",21),e._uU(1,"Name"),e.qZA())}function $(l,m){if(1&l&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&l){const t=m.$implicit;e.xp6(1),e.Oqu(t.TNADD1)}}function J(l,m){1&l&&(e.TgZ(0,"th",21),e._uU(1,"Country"),e.qZA())}function K(l,m){if(1&l&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&l){const t=m.$implicit;e.xp6(1),e.Oqu(t.TNCTRY)}}function w(l,m){1&l&&(e.TgZ(0,"th",23),e._uU(1," Actions "),e.qZA())}function F(l,m){if(1&l){const t=e.EpF();e.TgZ(0,"td",22)(1,"div",24)(2,"button",25)(3,"mat-icon"),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"ul",26)(6,"li")(7,"button",27),e.NdJ("click",function(){const p=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.UpdateNameandAddress(p))}),e.TgZ(8,"mat-icon",28),e._uU(9,"edit"),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Update"),e.qZA()()()()()()}}function W(l,m){1&l&&e._UZ(0,"tr",29)}function Q(l,m){1&l&&e._UZ(0,"tr",30)}const X=function(){return[8,16,24]};let H=(()=>{class l{constructor(t,n,u,p){this.matDialog=t,this.Orderservice=n,this.router=u,this.fb=p,this.searchTextDisplay=!1,this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.columnShowHideList=[],this.displayedColumns=["Type","Name","Country"],this.dataSource=new c.by,this.user=localStorage.getItem("userName")||""}ngOnInit(){this.element=history.state,this.form=this.fb.group({BillNumber:"ORDER\xa0"+this.element.OHBILL}),this.NameAndAddress(this.pageSize,1)}formatZip(t){if(null==t)return"";const n=t.toString();return isNaN(Number(n))?n:n.padStart(5,"0")}onPaginateChange(t){this.pageSize=t.pageSize,this.NameAndAddress(t.pageSize,t.pageIndex+1)}ngOnDestroy(){this.NameandAddressSubscription&&this.NameandAddressSubscription.unsubscribe()}NameAndAddress(t,n){this.NameandAddressSubscription&&this.NameandAddressSubscription.unsubscribe(),this.NameandAddressSubscription=this.Orderservice.nameAddress(this.user,this.element.OHBILL,t,n).subscribe(p=>{var _=JSON.parse(p[0].data[1]?.value);this.dataSource.data=_.returnedData,this.totalRecords=_.TotalRecords})}UpdateNameandAddress(t){this.matDialog.open(I,{width:"1000px",maxHeight:"80vh",data:[this.element,t],autoFocus:!1})}onBack(){this.router.navigateByUrl("/main-nav/orders/read")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(Z.uw),e.Y36(P.b),e.Y36(r.F0),e.Y36(s.qu))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-nameand-address"]],viewQuery:function(t,n){if(1&t&&e.Gf(C.NW,5),2&t){let u;e.iGM(u=e.CRH())&&(n.paginator=u.first)}},standalone:!0,features:[e.jDz],decls:32,vars:8,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BillNumber","readonly",""],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Type"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Country"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),e.NdJ("click",function(){return n.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6," Work With Transaction Addresses "),e.qZA()(),e.TgZ(7,"mat-card-content",3)(8,"form",4)(9,"div",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),e._uU(13,"Document Type/Number "),e.qZA(),e._UZ(14,"input",8),e.qZA()()()()(),e.TgZ(15,"table",9),e.ynx(16,10),e.YNc(17,L,2,0,"th",11),e.YNc(18,x,2,1,"td",12),e.BQk(),e.ynx(19,13),e.YNc(20,Y,2,0,"th",11),e.YNc(21,$,2,1,"td",12),e.BQk(),e.ynx(22,14),e.YNc(23,J,2,0,"th",11),e.YNc(24,K,2,1,"td",12),e.BQk(),e.ynx(25,15),e.YNc(26,w,2,0,"th",16),e.YNc(27,F,12,0,"td",12),e.BQk(),e.YNc(28,W,1,0,"tr",17),e.YNc(29,Q,1,0,"tr",18),e.qZA(),e.TgZ(30,"mat-paginator",19,20),e.NdJ("page",function(p){return n.onPaginateChange(p)}),e.qZA()()),2&t&&(e.xp6(8),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("length",n.totalRecords)("pageSizeOptions",e.DdM(7,X))("pageSize",n.pageSize))},dependencies:[O.m,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,C.NW,i.Hw,g.lW,f.KE,f.hX,T.Nt,A.a8,A.dk,A.dn,A.n5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk]}),l})()}}]);