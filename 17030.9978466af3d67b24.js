"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[17030],{17030:(p,u,e)=>{e.r(u),e.d(u,{OnDemandLocationAuditComponent:()=>v});var f=e(35226),m=e.n(f),C=e(70879),t=e(94650),i=e(24006),D=e(19132),g=e(5475),E=e(4859),c=e(59549),O=e(44144),l=e(73546);let v=(()=>{class n{constructor(o,s,r){this.fb=o,this.router=s,this.loadCountsService=r,this.user=localStorage.getItem("userName"),this.building=localStorage.getItem("building"),this.storer=localStorage.getItem("storer"),this.storerSuffix=localStorage.getItem("storerSuffix"),this.status=localStorage.getItem("status"),this.itemDesc="",this.location="",this.serial="",this.lots="",this.lot1="",this.lot2="",this.lot3="",this.building1="",this.floor="",this.aisle="",this.slot=""}ngOnInit(){this.form=this.fb.group({storer:localStorage.getItem("storer"),item:"",location:""})}ngOnDestroy(){this.onDemandCycleCountSubscription&&this.onDemandCycleCountSubscription.unsubscribe()}OnDemandCycleCount(){const o=this.form.value;this.onDemandCycleCountSubscription&&this.onDemandCycleCountSubscription.unsubscribe(),this.onDemandCycleCountSubscription=this.loadCountsService.onDemandLocationAudit1(o.storer,this.storerSuffix??"",this.building,o.item.toUpperCase(),"",o.location,"","","","","","",0,"","").subscribe(r=>{const a=r[0]?.data;this.itemDesc=a[5]?.value||"",this.location=a[6]?.value||"",this.serial=a[7]?.value||"",this.lots=a[8]?.value||"",this.lot1=a[9]?.value||"",this.lot2=a[10]?.value||"",this.lot3=a[11]?.value||"",this.building1=a[12]?.value||"",this.floor=a[13]?.value||"",this.aisle=a[14]?.value||"",this.slot=a[15]?.value||"";const _=a?.length,h=_?a[_-1]?.value:void 0;"Call MQU830R."===h?this.router.navigateByUrl("/main-nav/on-demand-location-audit/location-audit/read",{state:{item:o.item,itemDesc:this.itemDesc,location:this.location,serial:this.serial,lots:this.lots,lot1:this.lot1,lot2:this.lot2,lot3:this.lot3,building1:this.building1,floor:this.floor,aisle:this.aisle,slot:this.slot}}):this.failureMessage(h)})}successMessage(o){m().fire(o,"","success")}failureMessage(o){m().fire(o,"","error")}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(i.qu),t.Y36(D.F0),t.Y36(g.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-on-demand-location-audit"]],standalone:!0,features:[t.jDz],decls:22,vars:1,consts:[[1,"over-Flow"],[1,"title"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","storer"],["matInput","","formControlName","item",2,"text-transform","uppercase"],["matInput","","formControlName","location"],["mat-raised-button","",1,"buttons","addButton",3,"click"]],template:function(o,s){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," On-Demand Cycle Count "),t.qZA()(),t.TgZ(4,"mat-card-content",2)(5,"form",3)(6,"div",4)(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),t._uU(10,"Storer"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"mat-form-field",6)(13,"mat-label"),t._uU(14,"Item"),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",6)(17,"mat-label"),t._uU(18,"Location"),t.qZA(),t._UZ(19,"input",9),t.qZA()()(),t.TgZ(20,"button",10),t.NdJ("click",function(){return s.OnDemandCycleCount()}),t._uU(21," Enter "),t.qZA()()()()),2&o&&(t.xp6(5),t.Q6J("formGroup",s.form))},dependencies:[C.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,E.lW,c.KE,c.hX,O.Nt,l.a8,l.dk,l.dn,l.n5]}),n})()}}]);