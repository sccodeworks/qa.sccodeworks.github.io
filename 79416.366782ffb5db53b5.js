"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[79416],{79416:(w,u,a)=>{a.r(u),a.d(u,{EventSynopsisWorkWithDockSchedulerComponent:()=>Y});var r=a(7155),g=a(70879),p=a(98739),t=a(94650),S=a(19132),l=a(24006),E=a(72122),f=a(36895),D=a(97392),d=a(28255),C=a(4859),h=a(59549),W=a(44144),m=a(73546),v=a(10266),T=a(90455);function k(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"div",29)(3,"span",30),t.NdJ("click",function(s){return s.stopPropagation()}),t.TgZ(4,"mat-slide-toggle",31),t.NdJ("ngModelChange",function(s){const _=t.CHM(e).$implicit;return t.KtG(_.isActive=s)})("change",function(){const c=t.CHM(e).$implicit,_=t.oxw();return t.KtG(_.toggleColumn(c))}),t._uU(5),t.qZA()()()(),t.BQk()}if(2&n){const e=i.$implicit;t.xp6(4),t.Q6J("ngModel",e.isActive),t.xp6(1),t.hij(" ",e.name," ")}}function y(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Date/Time "),t.qZA())}function A(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.AsE("",e.WVEVDT," ",e.WTIME,"")}}function M(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Event Description "),t.qZA())}function O(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WDESC)}}function Z(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"User"),t.qZA())}function U(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WVUSER)}}function P(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Received"),t.qZA())}function R(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.AsE("",e.WVENDT,"",e.WTIME1,"")}}function x(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Status"),t.qZA())}function B(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WSTAT)}}function N(n,i){1&n&&(t.TgZ(0,"th",32),t._uU(1,"Comments"),t.qZA())}function L(n,i){if(1&n&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.WCMNT)}}function I(n,i){1&n&&t._UZ(0,"tr",34)}function K(n,i){1&n&&t._UZ(0,"tr",35)}const b=function(){return[8,16,24]};let Y=(()=>{class n{constructor(e,o,s){this.router=e,this.fb=o,this.WorkWithDockSchedulerService=s,this.user=localStorage.getItem("userName")||"",this.dataSource=new r.by,this.duplicateSource=[],this.displayedColumns=["Date/Time","EventDescription","User","Received","Status"],this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.columnShowHideList=[]}ngOnInit(){this.element=history.state,this.form=this.fb.group({appointment:this.element.DSAPPT}),this.initializeColumnProperties(),this.editedRows=[];const e=this.pageSize,o=this.pageNumber;setTimeout(()=>{this.getEventSynopsis(e,o)},0)}ngOnDestroy(){this.eventSynopsisSubscription&&this.eventSynopsisSubscription.unsubscribe()}toggleColumn(e){if(e.isActive){if(!this.displayedColumns.includes(e.name)){const o=this.displayedColumns.indexOf("Actions");o>-1?this.displayedColumns.splice(o,0,e.name):this.displayedColumns.push(e.name)}}else{const o=this.displayedColumns.indexOf(e.name);o>-1&&this.displayedColumns.splice(o,1)}}initializeColumnProperties(){this.displayedColumns.forEach((e,o)=>{"Actions"!=e&&this.columnShowHideList.push({position:o,name:e,isActive:!0})}),this.columnShowHideList.push({position:this.columnShowHideList.length,name:"Comments",isActive:!1})}getEventSynopsis(e,o){this.WorkWithDockSchedulerService.getEventSynopsis(this.user,this.element.DSAPPT,e,o).subscribe(s=>{var c=JSON.parse(s[0].data[1]?.value);this.dataSource.data=c.returnedData,this.totalRecords=c.TotalRecords})}onPaginateChange(e){this.pageSize=e.pageSize,this.getEventSynopsis(e.pageSize,e.pageIndex+1)}onBack(){this.router.navigateByUrl("/main-nav/WorkWithDockScheduler/read")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.F0),t.Y36(l.qu),t.Y36(E.A))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-synopsis-work-with-dock-scheduler"]],viewQuery:function(e,o){if(1&e&&t.Gf(p.NW,5),2&e){let s;t.iGM(s=t.CRH())&&(o.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:47,vars:10,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"buttons"],[1,"menu-container"],["mainMenuButton","matMenu"],[1,"grid-container"],[4,"ngFor","ngForOf"],["mat-button","","matTooltip","Hide/Show Columns",1,"mat-focus-indicator","addButton","mat-button","mat-button-base","tally-toltip-btn",3,"matMenuTriggerFor"],["menuTrigger","matMenuTrigger"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","appointment","readonly",""],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Date/Time"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","EventDescription"],["matColumnDef","User"],["matColumnDef","Received"],["matColumnDef","Status"],["matColumnDef","Comments"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],[1,"grid-item"],[3,"click"],[2,"color","blue",3,"ngModel","ngModelChange","change"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,o){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),t.NdJ("click",function(){return o.onBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"navigate_before "),t.qZA()(),t._uU(6,"\nDock Scheduler Event Synopsis "),t.qZA(),t.TgZ(7,"div",3)(8,"mat-menu",4,5)(10,"div",6),t.YNc(11,k,6,2,"ng-container",7),t.qZA()(),t.TgZ(12,"button",8,9)(14,"mat-icon"),t._uU(15,"visibility_off"),t.qZA()()()(),t.TgZ(16,"mat-card-content",10)(17,"form",11)(18,"div",12)(19,"div",13)(20,"mat-form-field",14)(21,"mat-label"),t._uU(22,"Appointment"),t.qZA(),t._UZ(23,"input",15),t.qZA()()()()(),t.TgZ(24,"table",16),t.ynx(25,17),t.YNc(26,y,2,0,"th",18),t.YNc(27,A,2,2,"td",19),t.BQk(),t.ynx(28,20),t.YNc(29,M,2,0,"th",18),t.YNc(30,O,2,1,"td",19),t.BQk(),t.ynx(31,21),t.YNc(32,Z,2,0,"th",18),t.YNc(33,U,2,1,"td",19),t.BQk(),t.ynx(34,22),t.YNc(35,P,2,0,"th",18),t.YNc(36,R,2,2,"td",19),t.BQk(),t.ynx(37,23),t.YNc(38,x,2,0,"th",18),t.YNc(39,B,2,1,"td",19),t.BQk(),t.ynx(40,24),t.YNc(41,N,2,0,"th",18),t.YNc(42,L,2,1,"td",19),t.BQk(),t.YNc(43,I,1,0,"tr",25),t.YNc(44,K,1,0,"tr",26),t.qZA(),t.TgZ(45,"mat-paginator",27,28),t.NdJ("page",function(c){return o.onPaginateChange(c)}),t.qZA()()),2&e){const s=t.MAs(9);t.xp6(11),t.Q6J("ngForOf",o.columnShowHideList),t.xp6(1),t.Q6J("matMenuTriggerFor",s),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(7),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(9,b))("pageSize",o.pageSize)}},dependencies:[g.m,f.sg,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,p.NW,D.Hw,d.VK,d.p6,C.lW,h.KE,h.hX,W.Nt,m.a8,m.dk,m.dn,m.n5,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,v.gM,T.Rr]}),n})()}}]);