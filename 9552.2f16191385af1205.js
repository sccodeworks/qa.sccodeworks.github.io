"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[9552],{99552:(Y,s,l)=>{l.r(s),l.d(s,{InquiryGeneralInvoiceComponent:()=>x});var o=l(7155),d=l(70879),e=l(94650),h=l(65412),f=l(19132),u=l(24006),T=l(20025),_=l(36895),g=l(98739),A=l(97392),C=l(4859),p=l(59549),I=l(44144),c=l(73546);const D=["paginator"];function v(t,i){1&t&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Invoice Number"),e.qZA(),e._UZ(3,"input",31),e.qZA())}function Z(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1," Charge Description "),e.qZA())}function E(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.AsE(" ",n.WKDESC,"\xa0",n.CGCMNT," ")}}function q(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1,"Quantity"),e.qZA())}function O(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,n.DGQTY,"1.2-2"))}}function y(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1,"Rate"),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,n.DGRATE,"1.4-4"))}}function M(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1," Basis "),e.qZA())}function G(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.DGBASE)}}function S(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1," Amount "),e.qZA())}function b(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"number"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,n.DGAMT,"1.2-2"))}}function B(t,i){1&t&&(e.TgZ(0,"th",32),e._uU(1,"Minimum Charges"),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.DGMINM)}}function W(t,i){1&t&&e._UZ(0,"tr",34)}function K(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"tr",35),e.NdJ("click",function(){const m=e.CHM(n).$implicit,P=e.oxw();return e.KtG(P.rowClick(m))}),e.qZA()}}const R=function(){return[8,16,24]};let x=(()=>{class t{constructor(n,a,r,m){this.matDialog=n,this.router=a,this.fb=r,this.GeneralInvoicesSvc=m,this.title="",this.header="",this.MailTo="",this.displayedColumns=["ChargeDescription","Quantity","Rate","Basis","Amount","MinimumCharges"],this.TotalDue=0,this.user=localStorage.getItem("userName")}ngOnInit(){this.element=history.state,this.element&&(this.WKSTAT=this.element.WKSTAT,console.log(this.element)),console.log(this.element),this.form=this.fb.group({BillTo:{value:"",disabled:!0},AcctOf:{value:"",disabled:!0},RefNo:{value:this.element.WKREF,disabled:!0},CarTr:{value:this.element.WKCAR,disabled:!0},Date:{value:this.element.WKDATE,disabled:!0},Building:{value:this.element.HGBLDG,disabled:!0},invoice:{value:this.element.WKINV,disabled:!0}}),this.getGeneralInvoiceInquiry()}ngOnDestroy(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe()}getGeneralInvoiceInquiry(){this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.GeneralInvoicesSvc.getGeneralInvoiceInquiry(this.user,this.element.WKCTRL,this.element.WKINV).subscribe(n=>{this.TotalDue=0;var r=JSON.parse(n[0].data[1].value);this.duplicateSource=r.returnedData,this.dataSource=new o.by(this.duplicateSource),this.MailTo=this.duplicateSource[0].SYNAME+this.duplicateSource[0].SYADD1+this.duplicateSource[0].SYADD2+this.duplicateSource[0].SYADD3,console.log(this.MailTo),this.TotalDue=this.duplicateSource[0].HGAMT,"EN"===this.element.WKSTAT?(this.title=this.duplicateSource[0].WKHDG,this.header="Worksheet"):this.title=this.duplicateSource[0].WKHDG,console.log(this.duplicateSource),this.duplicateSource.length>0?(this.BillTO=this.duplicateSource[0].WKSNAME+"\xa0"+this.duplicateSource[0].WKADDR1+"\xa0"+this.duplicateSource[0].WKADDR2+"\xa0"+this.duplicateSource[0].WKADDR3,console.log(this.BillTO)):this.BillTO=this.element.WKCUST,this.duplicateSource.length>0?(this.AcctOf=this.duplicateSource[0].WKACTOF,console.log(this.AcctOf)):this.AcctOf=this.element.WKCUST})}rowClick(n){this.selectedRow=n}onBack(){this.router.navigate(["/main-nav/generalInvoice/read"])}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.uw),e.Y36(f.F0),e.Y36(u.qu),e.Y36(T.m))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-inquiry-general-invoice"]],viewQuery:function(n,a){if(1&n&&e.Gf(D,5),2&n){let r;e.iGM(r=e.CRH())&&(a.paginator=r.first)}},standalone:!0,features:[e.jDz],decls:68,vars:16,consts:[[1,"over-Flow"],["mat-button","",1,"backButton","go-back-btn",3,"click"],[1,"tally-serach-form"],[1,"over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline","class","full-width",4,"ngIf"],["appearance","outline",1,"full-width2"],["matInput","","disabled","",3,"value"],["appearance","outline",1,"full-width"],["matInput","","formControlName","RefNo"],["matInput","","formControlName","CarTr"],["matInput","","formControlName","Date"],["matInput","","formControlName","Building"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","ChargeDescription"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Quantity"],["matColumnDef","Rate"],["matColumnDef","Basis"],["matColumnDef","Amount"],["matColumnDef","MinimumCharges"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"Content-page-both"],[1,"left-side"],[1,"buttons","button3"],[1,"left-side1"],["showFirstLastButtons","",1,"tally-table-pagination",3,"pageSizeOptions"],["paginator",""],["matInput","","formControlName","invoice"],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title")(3,"button",1),e.NdJ("click",function(){return a.onBack()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before "),e.qZA()(),e._uU(6),e.qZA()(),e.TgZ(7,"mat-card-content",2)(8,"form",3)(9,"div",4)(10,"div",5),e.YNc(11,v,4,0,"mat-form-field",6),e.TgZ(12,"mat-form-field",7)(13,"mat-label"),e._uU(14,"Bill To"),e.qZA(),e._UZ(15,"input",8),e.qZA(),e.TgZ(16,"mat-form-field",7)(17,"mat-label"),e._uU(18,"Account Of"),e.qZA(),e._UZ(19,"input",8),e.qZA(),e.TgZ(20,"mat-form-field",9)(21,"mat-label"),e._uU(22,"Reference Number "),e.qZA(),e._UZ(23,"input",10),e.qZA(),e.TgZ(24,"mat-form-field",7)(25,"mat-label"),e._uU(26,"Car / Trailer Number "),e.qZA(),e._UZ(27,"input",11),e.qZA(),e.TgZ(28,"mat-form-field",9)(29,"mat-label"),e._uU(30,"Date"),e.qZA(),e._UZ(31,"input",12),e.qZA(),e.TgZ(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Building"),e.qZA(),e._UZ(35,"input",13),e.qZA()()()()(),e.TgZ(36,"table",14),e.ynx(37,15),e.YNc(38,Z,2,0,"th",16),e.YNc(39,E,2,2,"td",17),e.BQk(),e.ynx(40,18),e.YNc(41,q,2,0,"th",16),e.YNc(42,O,3,4,"td",17),e.BQk(),e.ynx(43,19),e.YNc(44,y,2,0,"th",16),e.YNc(45,U,3,4,"td",17),e.BQk(),e.ynx(46,20),e.YNc(47,M,2,0,"th",16),e.YNc(48,G,2,1,"td",17),e.BQk(),e.ynx(49,21),e.YNc(50,S,2,0,"th",16),e.YNc(51,b,3,4,"td",17),e.BQk(),e.ynx(52,22),e.YNc(53,B,2,0,"th",16),e.YNc(54,N,2,1,"td",17),e.BQk(),e.YNc(55,W,1,0,"tr",23),e.YNc(56,K,1,0,"tr",24),e.qZA(),e._UZ(57,"br"),e.TgZ(58,"div",25)(59,"div",26)(60,"button",27),e._uU(61),e.qZA()(),e.TgZ(62,"div",28)(63,"button",27),e._uU(64),e.ALo(65,"number"),e.qZA()()(),e._UZ(66,"mat-paginator",29,30),e.qZA()),2&n&&(e.xp6(6),e.AsE(" ",a.title," \xa0",a.header,""),e.xp6(2),e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("ngIf","AR"===a.WKSTAT),e.xp6(4),e.s9C("value",a.BillTO),e.xp6(4),e.s9C("value",a.AcctOf),e.xp6(17),e.Q6J("dataSource",a.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",a.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",a.displayedColumns),e.xp6(5),e.hij(" Mail Payment to : ",a.MailTo," "),e.xp6(3),e.hij(" Total Due :$ ",e.xi3(65,12,a.TotalDue,"1.2-2")," "),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(15,R)))},dependencies:[d.m,_.O5,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,g.NW,A.Hw,C.lW,p.KE,p.hX,I.Nt,c.a8,c.dk,c.dn,c.n5,o.BZ,o.fO,o.as,o.w1,o.Dz,o.nj,o.ge,o.ev,o.XQ,o.Gk,_.JJ]}),t})()}}]);