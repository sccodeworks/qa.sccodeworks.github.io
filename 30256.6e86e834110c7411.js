"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[30256],{16082:(K,f,n)=>{n.d(f,{e:()=>U});var P=n(80529),p=n(75625),a=n(70262),O=n(62843),r=n(92340),v=n(94650);let U=(()=>{class C{constructor(t){this.httpClient=t,this.url=r.N.API_BASE_URL,this.httpHeader={headers:new P.WM({"Content-Type":"application/json"})}}readAllMoveService(t,e){return this.httpClient.get(this.url+`/movequeue/read?user=${t}&storer=${e}`)}readPartialPicking(t,e,i){return this.httpClient.get(this.url+`/movequeuepicking/readPartialPick?user=${t}&documentNum=${e}&transcationNumber=${i}`)}readNotifications(t,e){return this.httpClient.get(this.url+`/movequeuepicking/read/notifications?user=${t}&billNumber=${e}`)}readMessage(t,e){return this.httpClient.get(this.url+`/messageDisp/read?userName=${t}&building=${e}`)}deleteMessage(t,e,i){return this.httpClient.get(this.url+`/messageDisp/delete/?userName=${t}&building=${e}&storer=${i}`)}createMessage(t,e,i,o){return this.httpClient.put(this.url+"/messageDisp/create/",{userName:t,building:e,storer:i,message:o}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updateMessage(t,e,i,o){return this.httpClient.put(this.url+"/messageDisp/update",{userName:t,building:e,storer:i,message:o}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updateFirstCall(t,e){return this.httpClient.put(this.url+"/movequeuepicking/callFullPallPick",{option:t,username:e}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updateFullPalletCall(t,e,i,o,u,c,h,l){return this.httpClient.put(this.url+"/movequeuepicking/update/full",{transNum:t,from:e,item:i,lot1:o,lot2:u,lot3:c,quantity:h,to:l}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updatePartialPalletCall(t,e,i,o,u,c,h,l){return this.httpClient.put(this.url+"/movequeuepicking/update/partial",{transcationNumber:t,from:e,item:i,lotCode1:o,lotCode2:u,lotCode3:c,quantity:h,to:l}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}deleteMapZone(t,e,i){return this.httpClient.delete(this.url+`/mapzone/delete?user=${t}&building=${e}&zone=${i}`)}readMoveInquiry(t,e){return this.httpClient.get(this.url+`/movequeue/moveInquiry?user=${t}&transNum=${e}`)}updateMoveAssignment(t,e,i,o){return this.httpClient.put(this.url+"/movequeue/moveAssignment",{user:t,transNum:e,operatorId:i,priority:o}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updateMoveStagingLoc(t,e,i,o,u){return this.httpClient.put(this.url+"/movequeue/update/moveStageLocation",{user:t,transNum:e,location:i,changeThisMove:o,changeAllMoves:u}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}readOneMoveService(t,e,i,o,u,c,h,l,_,s){return this.httpClient.get(this.url+`/movequeue/readOne?user=${t}&priority=${e}&item=${i}&type=${o}&document=${u}&building=${c}&storer=${h}&suffix=${l}&operator=${_}&status=${s}`)}updateMovePriorityService(t,e,i,o,u,c,h,l){return this.httpClient.put(this.url+"/movequeue/update/movePriority",{user:t,transNum:e,updatePriorityBy:i,changeThisMove:o,changeAllForDoc:u,changeAllForItem:c,changeAllForFromLoc:h,changeAllForToLoc:l}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}resolveMoveProblemService(t,e,i,o){return this.httpClient.put(this.url+"/movequeue/update/resolve",{user:t,transNum:e,value:i,resolutionText:o}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}noPickService(t){return this.httpClient.put(this.url+"/movequeue/nopick",{transNum:t}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}updateMoveCompleteService(t){return this.httpClient.put(this.url+"/movequeue/moveCompletion",{transNum:t}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}redirect1Service(t,e,i,o,u){return this.httpClient.put(this.url+"/movequeue/redirectForm1",{transNumber:t,location:e,lot1:i,lot2:o,lot3:u}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}redirect2Service(t,e,i,o,u){return this.httpClient.put(this.url+"/movequeue/redirectForm2",{transcationNumber:t,location:e,lotCode1:i,lotCode2:o,lotCode3:u}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}deAssignmentService(t){return this.httpClient.put(this.url+"/movequeue/MoveDeAssignment",{transNum:t}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}deleteMoveService(t){return this.httpClient.delete(this.url+`/movequeue/delete?transNumber=${t}`)}sendToItemLocations(t,e,i,o,u,c,h,l){return this.httpClient.get(this.url+`/movequeue/sendToItemLocWW?user=${t}&storer=${e}&suffix=${i}&item=${o}&lot1=${u}&lot2=${c}&lot3=${h}&loc=${l}`)}recordSerials(t,e,i,o,u){return this.httpClient.put(this.url+"/movequeuepicking/recordSerials",{username:t,transaction:e,item:i,quantity:o,serial:u}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}mixedSerial(t,e,i,o,u,c,h,l,_,s,m){return this.httpClient.put(this.url+"/movequeuepicking/mixedSerial",{option:t,username:e,transaction:i,serial:o,quantity:u,location:c,didone:h,scan:l,pickSerial:_,flipped:s,flippedSerial:m}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}cycleCount(t,e){return this.httpClient.get(this.url+`/movequeuepicking/cycleCount?user=${t}&MQTRAN=${e}`)}locationAudit(t,e,i,o,u,c,h,l,_,s,m,d,g,M,A,T,D,E,L,$,I,b,R,B,q){return this.httpClient.put(this.url+"/movequeuepicking/locationAudit",{option:t,mqStor:e,mqSsfx:i,mqItem:o,mqLot1:u,mqLot2:c,mqLot3:h,mqBldg:l,flor:_,mqFraI:s,mqFrSl:m,mqDocn:d,mqDseq:g,dtyp:M,fsix:A,wcqTy:T,maxTries:D,id:E,password:L,diff:$,lmove:I,user:b,econt:R,scont:B,reas:q}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}countSuccess(t,e){return this.httpClient.put(this.url+"/movequeuepicking/countSuccess",{transaction:t,returnValue:e}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}LPfullPalletPicking(t,e){return this.httpClient.put(this.url+"/movequeuepicking/LPfullPalletPicking",{user:t,transaction:e}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}serialPick(t,e,i,o,u,c,h,l,_){return this.httpClient.put(this.url+"/movequeuepicking/serialPick",{option:t,user:e,transaction:i,serial:o,lot1:u,lot2:c,lot3:h,quantity:l,location:_}).pipe((0,p.X)(1),(0,a.K)(this.httpError))}httpError(t){let e="";return e=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,(0,O._)(()=>new Error(e))}}return C.\u0275fac=function(t){return new(t||C)(v.LFG(P.eN))},C.\u0275prov=v.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},30256:(K,f,n)=>{n.r(f),n.d(f,{CountScheduledMoveComponent:()=>h});var P=n(48529),p=n(35226),a=n.n(p),O=n(70879),r=n(94650),v=n(24006),U=n(19132),C=n(16082),S=n(36895),t=n(97392),e=n(4859),i=n(59549),o=n(44144),u=n(73546);function c(l,_){if(1&l){const s=r.EpF();r.TgZ(0,"div",15)(1,"button",16),r.NdJ("click",function(){r.CHM(s);const d=r.oxw();return r.KtG(d.add())}),r.TgZ(2,"mat-icon"),r._uU(3,"add"),r.qZA(),r.TgZ(4,"span"),r._uU(5,"New Location Audit"),r.qZA()()()}}let h=(()=>{class l{constructor(s,m,d){this.fb=s,this.router=m,this.movequeueSvc=d,this.user=localStorage.getItem("userName"),this.isFromOnDemand=!1,this.lastReturnValue="",this.recordMessage="Recorded Location Audit from Move queue",this.assignMessage="Assignment Released"}ngOnInit(){this.element=history.state,this.isFromOnDemand=!1===this.element?.fromCycleCount,this.form=this.fb.group({location:[{value:this.element[1]?.[7].value||"",disabled:!0}],itemDesc:[{value:this.element[1]?.[4].value||"",disabled:!0}],lots:[{value:this.element[1]?.[5].value||"",disabled:!0}],count:""})}ngOnDestroy(){this.locationAuditSubscription&&this.locationAuditSubscription.unsubscribe()}count(){const s=this.element[0][0],m=this.form.value,d=this.element?.fromCycleCount?"Y":"N";this.locationAuditSubscription&&this.locationAuditSubscription.unsubscribe(),this.locationAuditSubscription=this.movequeueSvc.locationAudit("",s.MQSTOR,s.MQSSFX,s.MQITEM,s.MQLOT1,s.MQLOT2,s.MQLOT3,s.MQBLDG,0,s.MQFRAI,s.MQFRSL,s.MQDOCN,s.MQDSEQ,"C",d,m.count,0,"","","","",this.user,"","","").subscribe(g=>{const M=g[0].data,A=M[M.length-1].value?.trim();this.lastReturnValue=M[16].value?.trim(),A?.toUpperCase()===P.R.countPostMsg.toUpperCase()?this.movequeueSvc.countSuccess(this.element[0].transaction,this.lastReturnValue).subscribe(T=>{const D=T[0].data,E=D[D.length-1].value?.trim();(E?.toUpperCase()===this.recordMessage.toUpperCase()||E?.toUpperCase()===this.assignMessage.toUpperCase())&&(this.successMessage(E),this.router.navigateByUrl("dashboard-rfmenu/read"))}):this.failureMessage(A)})}add(){this.router.navigateByUrl("/main-nav/on-demand-location-audit/read",{state:{...history.state,fromCycleCount:!0}})}successMessage(s){a().fire(s,"","success")}failureMessage(s){a().fire(s,"","error")}onBack(){this.movequeueSvc.countSuccess(this.element[0].transaction,this.lastReturnValue||"").subscribe(m=>{const d=m[0].data,g=d[d.length-1].value?.trim();(g?.toUpperCase()===this.recordMessage.toUpperCase()||g?.toUpperCase()===this.assignMessage.toUpperCase())&&(this.successMessage(g),this.router.navigateByUrl("dashboard-rfmenu/read"))})}}return l.\u0275fac=function(s){return new(s||l)(r.Y36(v.qu),r.Y36(U.F0),r.Y36(C.e))},l.\u0275cmp=r.Xpm({type:l,selectors:[["app-count-scheduled-move"]],standalone:!0,features:[r.jDz],decls:30,vars:2,consts:[[1,"over-Flow"],[1,"title"],["mat-button","",1,"backButton","go-back-btn",3,"click"],["class","buttons",4,"ngIf"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","location"],["appearance","outline",1,"full-width2"],["matInput","","formControlName","itemDesc"],["matInput","","formControlName","lots"],["matInput","","formControlName","count"],["mat-raised-button","",1,"buttons","addButton",3,"click"],[1,"buttons"],["mat-button","",1,"addButton",3,"click"]],template:function(s,m){1&s&&(r.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1)(3,"button",2),r.NdJ("click",function(){return m.onBack()}),r.TgZ(4,"mat-icon"),r._uU(5,"navigate_before "),r.qZA()(),r._uU(6," Location Audit "),r.qZA(),r.YNc(7,c,6,0,"div",3),r.qZA(),r.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),r._uU(14,"Location"),r.qZA(),r._UZ(15,"input",9),r.qZA(),r.TgZ(16,"mat-form-field",10)(17,"mat-label"),r._uU(18,"Item Description"),r.qZA(),r._UZ(19,"input",11),r.qZA(),r.TgZ(20,"mat-form-field",8)(21,"mat-label"),r._uU(22,"Lots"),r.qZA(),r._UZ(23,"input",12),r.qZA(),r.TgZ(24,"mat-form-field",8)(25,"mat-label"),r._uU(26,"Count"),r.qZA(),r._UZ(27,"input",13),r.qZA()()(),r.TgZ(28,"button",14),r.NdJ("click",function(){return m.count()}),r._uU(29," Update "),r.qZA()()()()),2&s&&(r.xp6(7),r.Q6J("ngIf",!m.isFromOnDemand),r.xp6(2),r.Q6J("formGroup",m.form))},dependencies:[O.m,S.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,t.Hw,e.lW,i.KE,i.hX,o.Nt,u.a8,u.dk,u.dn,u.n5]}),l})()}}]);