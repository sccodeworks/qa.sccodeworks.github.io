"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[89881,23128],{23128:(Y,W,r)=>{r.d(W,{v:()=>S});var R=r(80529),A=r(75625),P=r(70262),_=r(62843),O=r(92340),t=r(94650);let S=(()=>{class h{constructor(n){this.httpClient=n,this.url=O.N.API_BASE_URL,this.httpHeader={headers:new R.WM({"Content-Type":"application/json"})},this.update="/Customers/update",this.create="/Customers/create",this.consolidate="/Customers/consolidate",this.statement="/Customers/statement"}getCustomers(n,u,s,m,l){return this.httpClient.get(this.url+"/Customers/read",{params:{customerCode:n??"",user:u,customerName:s??"",recordsPerPage:m??"",pageNo:l??""}})}CustomersCreate(n,u,s,m,l,d,f,g,T,C,D,Z,I,q,y,E,U,N,x){return this.httpClient.post(this.url+this.create,{CUST:n,CUSFX:u,CUSSFX:s,CUNAME:m,CUADD1:l,CUADD2:d,CUADD3:f,CUZIP:g,CUZSFX:T,CUPHAR:C,CUPHEX:D,CUPHNU:Z,CUFXAR:I,CUFXEX:q,CUFXNU:y,CUCPER:E,CUSORT:U,CUSTPR:N,user:x}).pipe((0,A.X)(1),(0,P.K)(this.httpError))}CustomersUpdate(n,u,s,m,l,d,f,g,T,C,D,Z,I,q,y,E,U,N,x){return this.httpClient.put(this.url+this.update,{CUST:n,CUSFX:u,CUSSFX:s,CUNAME:m,CUADD1:l,CUADD2:d,CUADD3:f,CUZIP:g,CUZSFX:T,CUPHAR:C,CUPHEX:D,CUPHNU:Z,CUFXAR:I,CUFXEX:q,CUFXNU:y,CUCPER:E,CUSORT:U,CUSTPR:N,user:x}).pipe((0,A.X)(1),(0,P.K)(this.httpError))}CustomersConsolidate(n,u,s,m,l,d){return this.httpClient.put(this.url+this.consolidate,{customerNumber:n,suffix1:u,suffix2:s,refCustNumber:m,refCustsfx1:l,refCustsfx2:d}).pipe((0,A.X)(1),(0,P.K)(this.httpError))}AccountAttributes(n,u,s,m,l,d){return this.httpClient.get(this.url+`/Customers/read/accountAttribute?customer=${n}&user=${u}&suffix1=${s}&suffix2=${m}&recordsPerPage=${l}&pageNo=${d}`)}AgingInquiryRead(n,u,s,m,l,d,f,g,T,C,D,Z,I,q,y,E,U){return this.httpClient.get(this.url+`/Customers/ARInquiry/read?user=${n}&customerNumber=${u}&suffix1=${s}&suffix2=${m}&agingDate=${l}&includeType1=${d}&includeType2=${f}&includeType3=${g}&includeType4=${T}&includeType5=${C}&omitType1=${D}&omitType2=${Z}&omitType3=${I}&omitType4=${q}&omitType5=${y}&recordsPerPage=${E}&pageNo=${U}`)}AgingInquiryInq(n,u,s,m){return this.httpClient.get(this.url+`/Customers/ARInquiry/inquiry?user=${n}&invoice=${u}&recordsPerPage=${s}&pageNo=${m}`)}customerStatement(n,u,s,m,l,d){return this.httpClient.put(this.url+this.statement,{customerNumber:n,suffix1:u,suffix2:s,date:m,inn:l,om:d}).pipe((0,A.X)(1),(0,P.K)(this.httpError))}httpError(n){let u="";return u=n.error instanceof ErrorEvent?n.error.message:`Error Code: ${n.status}\nMessage: ${n.message}`,console.log(u),(0,_._)(()=>new Error(u))}}return h.\u0275fac=function(n){return new(n||h)(t.LFG(R.eN))},h.\u0275prov=t.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},89881:(Y,W,r)=>{r.d(W,{R:()=>et});var R=r(65412),A=r(98739),P=r(70879),_=r(7155),O=r(36895),t=r(94650),S=r(19132),h=r(23128),c=r(24006),n=r(97392),u=r(4859),s=r(59549),m=r(44144),l=r(73546);function d(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Originating Customer "),t.qZA())}function f(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",a.WKOCNAM,""),t.xp6(2),t.Oqu(a.WKOCAD1+""+a.WKOCAD2),t.xp6(2),t.hij("",a.WKOCAD3," ")}}function g(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Bill-to Customer "),t.qZA())}function T(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t._UZ(2,"br"),t._uU(3),t._UZ(4,"br"),t._uU(5),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" ",a.WKBCNAM,""),t.xp6(2),t.Oqu(a.WKOCAD1+""+a.WKOCAD2),t.xp6(2),t.hij("",a.WKOCAD3," ")}}function C(e,i){1&e&&t._UZ(0,"tr",44)}function D(e,i){1&e&&t._UZ(0,"tr",45)}function Z(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1,"Status"),t.qZA())}function I(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADSTAT)}}function q(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Sequence Number "),t.qZA())}function y(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADSEQ)}}function E(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Building Number "),t.qZA())}function U(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.ADBLDG)}}function N(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Ledger Description "),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.WKLGDSC)}}function H(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1,"Paid Amount"),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" $",t.xi3(2,1,a.WKDPAID,"1.2-2")," ")}}function J(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Adjustment Amount "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.Oqu(a.WKCRDT)}}function j(e,i){1&e&&(t.TgZ(0,"th",42),t._uU(1," Original Amount "),t.qZA())}function w(e,i){if(1&e&&(t.TgZ(0,"td",43),t._uU(1),t.ALo(2,"number"),t.qZA()),2&e){const a=i.$implicit;t.xp6(1),t.hij(" $",t.xi3(2,1,a.ADAMT,"1.2-2")," ")}}function z(e,i){1&e&&t._UZ(0,"tr",44)}function F(e,i){1&e&&t._UZ(0,"tr",45)}function G(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Paid :"),t.qZA(),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&e){const a=t.oxw();t.xp6(4),t.hij("$",t.xi3(5,1,a.totalPaid,"1.2-2"),"")}}function X(e,i){1&e&&(t.TgZ(0,"b"),t._uU(1,"Paid :"),t.qZA(),t.TgZ(2,"b"),t._uU(3),t.ALo(4,"number"),t.qZA()),2&e&&(t.xp6(3),t.hij("$",t.xi3(4,1,0,"1.2-2"),""))}function k(e,i){if(1&e&&(t.TgZ(0,"span")(1,"b"),t._uU(2,"Due :"),t.qZA(),t.TgZ(3,"b"),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&e){const a=t.oxw();t.xp6(4),t.hij("$",t.xi3(5,1,a.totalDue,"1.2-2"),"")}}function V(e,i){1&e&&(t._uU(0,"Due :"),t.TgZ(1,"b"),t._uU(2),t.ALo(3,"number"),t.qZA()),2&e&&(t.xp6(2),t.hij("$",t.xi3(3,1,0,"1.2-2"),""))}const tt=function(){return[8,16,24]};let et=(()=>{class e{constructor(a,o,p,v,K,$,B,M){this.router=a,this.CustomerSvc=o,this.fb=p,this.route=v,this.matDialog=K,this.data=$,this.dialogRef=B,this.decimalPipe=M,this.displayedColumns=["Originating Customer","Bill to Customer"],this.displayedColumns1=["St","Sequence No.","Bld No.","Description","Paid Amount","AJ","Original Amount"],this.user=localStorage.getItem("userName")||"",this.dataSource=new _.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.transactionDate="",this.transactionType="",this.dueDate="",this.totalDue=0,this.totalPaid=0,this.description="",this.Due=0,this.Paid=0,this.pageNumber=1}ngOnInit(){this.form=this.fb.group({AHINV:{value:this.data.AHINV,disabled:!0},AHSTAT:{value:this.data.AHSTAT,disabled:!0},AHDATE:{value:this.data.AHDATE,disabled:!0},AHREF:{value:this.data.AHREF,disabled:!0},AHTDAT:{value:this.data.AHTDAT,disabled:!0},TTDESC:{value:this.data.AHTYPE,disabled:!0},AHAMT:[{value:"$"+this.decimalPipe.transform(this.data.AHAMT,"1.2-2"),disabled:!0}],AHDDAT:{value:this.data.AHDDAT,disabled:!0},AJAMT:[{value:"$"+this.decimalPipe.transform(this.data.AHBALN,"1.2-2"),disabled:!0}],AHDESC:{value:this.data.AHDESC,disabled:!0}}),this.getInvoiceInquiry(this.pageSize,this.pageNumber)}ngOnDestroy(){this.inquirySubscription&&this.inquirySubscription.unsubscribe()}getInvoiceInquiry(a,o){var p=this.form.value;this.inquirySubscription&&this.inquirySubscription.unsubscribe(),this.inquirySubscription=this.CustomerSvc.AgingInquiryInq(this.user,p.AHINV,a,o).subscribe(v=>{var $=JSON.parse(v[0].data[1].value);this.duplicateSource=$.returnedData;var B=$.returnedData;if(this.duplicateSource.length>0){for(let M=0;M<B.length;M++){const b=B[M];this.description=b.AHDESC,this.transactionDate=b.AHTDAT,this.transactionType=b.TTDESC,this.dueDate=b.AHDDAT,this.Due+=b.ADAMT,this.Paid+=b.WKDPAID}this.totalDue=this.Due,this.totalPaid=this.Paid,this.dataSource=new _.by(this.duplicateSource),this.dataSource.paginator=this.paginator}})}onPaginateChange(a){this.pageSize=a.pageSize,this.getInvoiceInquiry(a.pageSize,a.pageIndex+1)}closeDialog(){this.dialogRef.close()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(S.F0),t.Y36(h.v),t.Y36(c.qu),t.Y36(S.gz),t.Y36(R.uw),t.Y36(R.WI),t.Y36(R.so),t.Y36(O.JJ))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-inquiry-read"]],viewQuery:function(a,o){if(1&a&&t.Gf(A.NW,5),2&a){let p;t.iGM(p=t.CRH())&&(o.paginator=p.first)}},standalone:!0,features:[t._Bn([O.JJ]),t.jDz],decls:104,vars:19,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow"],[3,"formGroup"],[1,"row"],[1,"col"],[1,"row-break"],["appearance","outline",1,"full-width"],["matInput","","formControlName","AHINV"],["matInput","","formControlName","AHREF"],["matInput","","formControlName","AHSTAT"],["matInput","","formControlName","AHAMT"],["matInput","","formControlName","AJAMT"],["disabled","","matInput","",3,"value"],["matInput","","formControlName","AHDATE"],["appearance","outline",1,"full-width2"],["matInput","","disabled","",3,"value"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","Originating Customer"],["mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Bill to Customer"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["matColumnDef","St"],["matColumnDef","Sequence No."],["matColumnDef","Bld No."],["matColumnDef","Description"],["matColumnDef","Paid Amount"],["matColumnDef","AJ"],["matColumnDef","Original Amount"],[1,"table-summary"],[1,"form-info-message","summary-buttons"],[1,"align-right"],["mat-raised-button","",1,"save-btn"],[4,"ngIf","ngIfElse"],["defaultPaid",""],["Due",""],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-header-cell","","mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(a,o){if(1&a&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Receivables Transaction Inquiry"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return o.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"div",4)(10,"form",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),t._uU(16,"Invoice Number"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"mat-form-field",9)(19,"mat-label"),t._uU(20,"Reference Number "),t.qZA(),t._UZ(21,"input",11),t.qZA(),t.TgZ(22,"mat-form-field",9)(23,"mat-label"),t._uU(24,"Status"),t.qZA(),t._UZ(25,"input",12),t.qZA()(),t.TgZ(26,"div",8)(27,"mat-form-field",9)(28,"mat-label"),t._uU(29,"Invoice Amount"),t.qZA(),t._UZ(30,"input",13),t.qZA(),t.TgZ(31,"mat-form-field",9)(32,"mat-label"),t._uU(33,"Adjusted Amount"),t.qZA(),t._UZ(34,"input",14),t.qZA(),t.TgZ(35,"mat-form-field",9)(36,"mat-label"),t._uU(37,"Transaction Type"),t.qZA(),t._UZ(38,"input",15),t.qZA()(),t.TgZ(39,"div",8)(40,"mat-form-field",9)(41,"mat-label"),t._uU(42,"Invoice Date"),t.qZA(),t._UZ(43,"input",16),t.qZA(),t.TgZ(44,"mat-form-field",9)(45,"mat-label"),t._uU(46,"Transaction Date"),t.qZA(),t._UZ(47,"input",15),t.qZA(),t.TgZ(48,"mat-form-field",9)(49,"mat-label"),t._uU(50,"Due Date"),t.qZA(),t._UZ(51,"input",15),t.qZA()(),t.TgZ(52,"div",8)(53,"mat-form-field",17)(54,"mat-label"),t._uU(55,"Description"),t.qZA(),t._UZ(56,"input",18),t.qZA()()()()()(),t.TgZ(57,"table",19),t.ynx(58,20),t.YNc(59,d,2,0,"th",21),t.YNc(60,f,6,3,"td",22),t.BQk(),t.ynx(61,23),t.YNc(62,g,2,0,"th",21),t.YNc(63,T,6,3,"td",22),t.BQk(),t.YNc(64,C,1,0,"tr",24),t.YNc(65,D,1,0,"tr",25),t.qZA(),t._UZ(66,"br"),t.TgZ(67,"table",19),t.ynx(68,26),t.YNc(69,Z,2,0,"th",21),t.YNc(70,I,2,1,"td",22),t.BQk(),t.ynx(71,27),t.YNc(72,q,2,0,"th",21),t.YNc(73,y,2,1,"td",22),t.BQk(),t.ynx(74,28),t.YNc(75,E,2,0,"th",21),t.YNc(76,U,2,1,"td",22),t.BQk(),t.ynx(77,29),t.YNc(78,N,2,0,"th",21),t.YNc(79,x,2,1,"td",22),t.BQk(),t.ynx(80,30),t.YNc(81,H,2,0,"th",21),t.YNc(82,L,3,4,"td",22),t.BQk(),t.ynx(83,31),t.YNc(84,J,2,0,"th",21),t.YNc(85,Q,2,1,"td",22),t.BQk(),t.ynx(86,32),t.YNc(87,j,2,0,"th",21),t.YNc(88,w,3,4,"td",22),t.BQk(),t.YNc(89,z,1,0,"tr",24),t.YNc(90,F,1,0,"tr",25),t.qZA(),t.TgZ(91,"div",33)(92,"div",34)(93,"div",35)(94,"button",36),t.YNc(95,G,6,4,"span",37),t.YNc(96,X,5,4,"ng-template",null,38,t.W1O),t.qZA(),t.TgZ(98,"button",36),t.YNc(99,k,6,4,"span",37),t.YNc(100,V,4,4,"ng-template",null,39,t.W1O),t.qZA()()()(),t.TgZ(102,"mat-paginator",40,41),t.NdJ("page",function(v){return o.onPaginateChange(v)}),t.qZA()()()),2&a){const p=t.MAs(97),v=t.MAs(101);t.xp6(10),t.Q6J("formGroup",o.form),t.xp6(28),t.s9C("value",o.transactionType),t.xp6(9),t.s9C("value",o.transactionDate),t.xp6(4),t.s9C("value",o.dueDate),t.xp6(5),t.s9C("value",o.description),t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("dataSource",o.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",o.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns1),t.xp6(5),t.Q6J("ngIf",void 0!==o.totalPaid)("ngIfElse",p),t.xp6(4),t.Q6J("ngIf",void 0!==o.totalDue)("ngIfElse",v),t.xp6(3),t.Q6J("length",o.totalRecords)("pageSizeOptions",t.DdM(18,tt))("pageSize",o.pageSize)}},dependencies:[P.m,O.O5,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,A.NW,n.Hw,u.lW,s.KE,s.hX,m.Nt,l.a8,l.dk,l.dn,l.n5,_.BZ,_.fO,_.as,_.w1,_.Dz,_.nj,_.ge,_.ev,_.XQ,_.Gk,O.JJ]}),e})()}}]);