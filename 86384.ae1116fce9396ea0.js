"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[86384,34894,11790,38754,85645,62313,26628,70096],{34894:(R,A,n)=>{n.d(A,{e:()=>S});var p=n(94650),l=n(24006);let S=(()=>{class i{constructor(r,d){this.el=r,this.control=d}onInputChange(r){const d=this.el.nativeElement,h=d.value.toUpperCase();d.value=h,this.control&&this.control.control&&this.control.control.setValue(h,{emitEvent:!1})}}return i.\u0275fac=function(r){return new(r||i)(p.Y36(p.SBq),p.Y36(l.a5))},i.\u0275dir=p.lG2({type:i,selectors:[["","appUppercase",""]],hostBindings:function(r,d){1&r&&p.NdJ("input",function(t){return d.onInputChange(t)})},standalone:!0}),i})()},11790:(R,A,n)=>{n.d(A,{y:()=>r});var p=n(65412),l=n(94650),S=n(97392),i=n(4859);let k=(()=>{class d{constructor(t,Z){this.dialogRef=t,this.data=Z}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return d.\u0275fac=function(t){return new(t||d)(l.Y36(p.so),l.Y36(p.WI))},d.\u0275cmp=l.Xpm({type:d,selectors:[["app-alert-dialog"]],decls:10,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["id","close-icon",3,"click"],[1,"content-span","full-width"],["mat-flat-button","","id","no-button",3,"mat-dialog-close"],["mat-flat-button","","id","yes-button",3,"mat-dialog-close"]],template:function(t,Z){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),l.NdJ("click",function(){return Z.closeDialog()}),l._uU(3,"close "),l.qZA(),l.TgZ(4,"span",3),l._uU(5),l.qZA()(),l.TgZ(6,"button",4),l._uU(7,"Cancel"),l.qZA(),l.TgZ(8,"button",5),l._uU(9,"Delete"),l.qZA()()),2&t&&(l.xp6(5),l.Oqu(Z.data.message),l.xp6(1),l.Q6J("mat-dialog-close",!1),l.xp6(2),l.Q6J("mat-dialog-close",!0))},dependencies:[S.Hw,i.lW,p.ZT]}),d})(),r=(()=>{class d{constructor(t){this.dialog=t}openCustomAlert(t){return this.dialog.open(k,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:t}})}}return d.\u0275fac=function(t){return new(t||d)(l.LFG(p.uw))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},39505:(R,A,n)=>{n.d(A,{L:()=>D});var p=n(24006),l=n(59549),S=n(69751),i=n(68675),k=n(54004),r=n(94650),d=n(36895),h=n(47957),t=n(3238),Z=n(44144);function W(_,v){if(1&_&&(r.TgZ(0,"mat-option",4),r._uU(1),r.qZA()),2&_){const c=v.$implicit;r.Q6J("value",c),r.xp6(1),r.Oqu(c)}}let D=(()=>{class _{constructor(c){this.fb=c,this.options=[],this.value="",this.placeholder="",this.id="",this.ngControl=null,this.label="",this.appearance="outline",this.describedBy="",this.touched=!1,this.focused=!1,this.empty=!1,this.required=!1,this.disabled=!1,this.shouldLabelFloat=!1,this.formControlName="",this.errorState=!1,this.previousValue="",this.onInput=f=>{},this.onChange=f=>{},this.onTouched=()=>{},this.control=this.fb.control(""),this.stateChanges=new S.y,this.filteredOptions=this.control.valueChanges.pipe((0,i.O)(this.value),(0,k.U)(f=>this._filter(f)))}setDescribedByIds(c){}onContainerClick(c){}markAsTouched(){this.touched||(this.touched=!0,this.onTouched())}writeValue(c){null!=c&&(this.control.setValue(c),this.value=c)}registerOnChange(c){this.onChange=c}registerOnTouched(c){this.onTouched=c}setDisabledState(c){this.disabled=c}_filter(c){if(null==c||0==c.length)return this.options;const f=c.toLowerCase(),U=this.options.filter(N=>N.toLowerCase().includes(f));return!this.disabled&&1===U.length&&this.control.value!=U[0]&&c.length>=(this.previousValue?.length??0)&&this.control.setValue(U[0]),this.onChange(this.control.value),this.previousValue=this.control.value,U}}return _.\u0275fac=function(c){return new(c||_)(r.Y36(p.qu))},_.\u0275cmp=r.Xpm({type:_,selectors:[["custom-input-autocomplete"]],hostVars:1,hostBindings:function(c,f){2&c&&r.uIk("aria-describedby",f.describedBy)},inputs:{options:"options",value:"value",placeholder:"placeholder",id:"id",ngControl:"ngControl",label:"label",appearance:"appearance"},features:[r._Bn([{provide:p.JU,multi:!0,useExisting:_},{provide:l.Eo,useExisting:_}],[{provide:p.gN,useExisting:p.sg}])],decls:8,vars:9,consts:[[3,"appearance"],["matInput","",3,"id","placeholder","formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(c,f){if(1&c&&(r.TgZ(0,"mat-form-field",0)(1,"mat-label"),r._uU(2),r.qZA(),r._UZ(3,"input",1),r.TgZ(4,"mat-autocomplete",null,2),r.YNc(6,W,2,2,"mat-option",3),r.ALo(7,"async"),r.qZA()()),2&c){const U=r.MAs(5);r.Q6J("appearance",f.appearance),r.xp6(2),r.Oqu(f.label),r.xp6(1),r.Q6J("id",f.id)("placeholder",f.placeholder)("formControl",f.control)("matAutocomplete",U),r.xp6(3),r.Q6J("ngForOf",r.lcZ(7,7,f.filteredOptions))}},dependencies:[d.sg,p.Fj,p.JJ,p.oH,h.XC,h.ZL,t.ey,l.KE,l.hX,Z.Nt,d.Ov]}),_})()},86384:(R,A,n)=>{n.r(A),n.d(A,{WwWorkScheduleComponent:()=>st});var p=n(98739),l=n(7155),S=n(70879),i=n(24006),k=n(35226),r=n.n(k),d=n(86385),h=n(48529),t=n(94650),Z=n(89513),W=n(65412),D=n(19132),_=n(97392),v=n(4859),c=n(59549),f=n(44144),U=n(84385),N=n(3238),T=n(73546),w=n(34894),H=n(39505);let O=(()=>{class o{constructor(e,a,s,m){this.WorkSchedule=e,this.dialogRef=a,this.fb=s,this.router=m,this.types=["APPT","SHF1","SHF2","SHF3"],this.daysOfWeek=["1","2","3","4","5","6","7"],this.user=localStorage.getItem("userName")||"",this.createUrl="/main-nav/workSchedule/errors",this.readUrl="/main-nav/workSchedule/read"}ngOnInit(){this.form=this.fb.group({HRTYPE:["",i.kI.required],HRBLDG:["",[i.kI.pattern(/^[A-Za-z0-9 ]*$/),i.kI.maxLength(3)]],HRACCT:["",[i.kI.pattern(/^[A-Za-z0-9 ]*$/),i.kI.maxLength(10)]],HRDOW:["",i.kI.required],INOU:"",STRT:"",ENDT:""})}addWorkSchedule(){const e=this.form.value,a=e.STRT?.replace(":",""),s=e.ENDT?.replace(":","");this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.createWorkSchedule(this.user,e.HRTYPE,h.R.fullBuilding(e.HRBLDG),e.HRACCT,e.HRDOW,e.INOU,a,s).subscribe(m=>{const C=JSON.parse(m[0].data[m[0].data.length-1].value).returnedData,b=C.message;b.toUpperCase()===h.R.createMsg.toUpperCase()?"APPT"===e.HRTYPE?this.successMessage(b).then(()=>{this.failureMessage(C.message1).then(()=>{this.closeDialog(),this.router.navigate([this.createUrl])})}):(this.closeDialog(),this.router.navigate([this.readUrl]).then(()=>{this.successMessage(b)})):this.failureMessage(b)})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return r().fire(e,"","success")}failureMessage(e){return r().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.U),t.Y36(W.so),t.Y36(i.qu),t.Y36(D.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-create"]],standalone:!0,features:[t.jDz],decls:43,vars:4,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline","formControlName","HRTYPE","label","Type Of Hours*",3,"options"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRBLDG","maxlength","3"],["matInput","","formControlName","HRACCT","appUppercase","","maxlength","10"],["appearance","outline","formControlName","HRDOW","label","Day Of The Week*",3,"options"],["formControlName","INOU"],["value",""],["value","I"],["value","O"],["type","time","matInput","","formControlName","STRT"],["type","time","matInput","","formControlName","ENDT"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7),t._UZ(12,"custom-input-autocomplete",8),t.TgZ(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Building Number"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Account Code"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t._UZ(21,"custom-input-autocomplete",12),t.TgZ(22,"mat-form-field",9)(23,"mat-label"),t._uU(24,"In/Out"),t.qZA(),t.TgZ(25,"mat-select",13)(26,"mat-option",14),t._uU(27,"-- Select --"),t.qZA(),t.TgZ(28,"mat-option",15),t._uU(29,"INBOUND"),t.qZA(),t.TgZ(30,"mat-option",16),t._uU(31,"OUTBOUND"),t.qZA()()(),t._UZ(32,"br"),t.TgZ(33,"mat-form-field",9)(34,"mat-label"),t._uU(35,"Start Time"),t.qZA(),t._UZ(36,"input",17),t.qZA(),t.TgZ(37,"mat-form-field",9)(38,"mat-label"),t._uU(39," End Time "),t.qZA(),t._UZ(40,"input",18),t.qZA()()(),t.TgZ(41,"button",19),t.NdJ("click",function(){return a.addWorkSchedule()}),t._uU(42," Add "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("options",a.types),t.xp6(9),t.Q6J("options",a.daysOfWeek),t.xp6(20),t.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[S.m,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,_.Hw,v.lW,c.KE,c.hX,f.Nt,U.gD,N.ey,T.a8,T.dk,T.dn,T.n5,w.e,d.j,H.L]}),o})();var E=n(11790);let B=(()=>{class o{constructor(e,a,s,m,g,C){this.WorkSchedule=e,this.fb=a,this.anyvariable=s,this.router=m,this.CustomAlertService=g,this.dialogRef=C,this.user=localStorage.getItem("userName")||"",this.deleteUrl="/main-nav/workSchedule/errors"}ngOnInit(){console.log(this.anyvariable),this.form=this.fb.group({HRTYPE:this.anyvariable.HRTYPE,HRBLDG:this.anyvariable.HRBLDG,HRACCT:this.anyvariable.HRACCT,HRDOW:this.anyvariable.HRDOW+"\xa0"+this.anyvariable.WDAY,HRSBTP:this.anyvariable.HRSBTP,STRT:this.anyvariable.HRSTRT,ENDT:this.anyvariable.HRENDT}),this.form.disable()}deleteWorkSchedule(){const e=this.CustomAlertService.openCustomAlert("Are you sure you want to delete this Work Schedule?"),a=this.anyvariable.HRSTRT?.replace(":","");e.afterClosed().subscribe(s=>{s&&(this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.deleteWorkSchedule(this.user,this.anyvariable.HRTYPE,h.R.fullBuilding(this.anyvariable.HRBLDG),this.anyvariable.HRACCT,this.anyvariable.HRDOW,this.anyvariable.HRSBTP,a).subscribe(m=>{const C=JSON.parse(m[0].data[m[0].data.length-1].value).returnedData,b=C.message;b.toUpperCase()===h.R.deleteMsg.toUpperCase()?this.successMessage(b).then(()=>{"APPT"===this.anyvariable.HRTYPE?this.failureMessage(C.message1).then(()=>{this.closeDialog(),this.router.navigate([this.deleteUrl])}):(this.closeDialog(),this.router.navigate([this.deleteUrl]))}):this.failureMessage(b)}))})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return r().fire(e,"","success")}failureMessage(e){return r().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.U),t.Y36(i.qu),t.Y36(W.WI),t.Y36(D.F0),t.Y36(E.y),t.Y36(W.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-delete"]],standalone:!0,features:[t.jDz],decls:42,vars:1,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRTYPE"],["matInput","","formControlName","HRBLDG"],["matInput","","formControlName","HRACCT"],["matInput","","formControlName","HRDOW"],["matInput","","formControlName","HRSBTP"],["matInput","","formControlName","STRT"],["matInput","","formControlName","ENDT"],["mat-button","",1,"buttons","removeButton",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Type Of Hours"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Building Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Account Code"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Day Of The Week"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"Subtype of Hours"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Start Time"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38," End Time "),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"button",16),t.NdJ("click",function(){return a.deleteWorkSchedule()}),t._uU(41,"Delete"),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form))},dependencies:[S.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.Hw,v.lW,c.KE,c.hX,f.Nt,T.a8,T.dk,T.dn,T.n5]}),o})(),I=(()=>{class o{constructor(e,a,s,m,g){this.fb=e,this.WorkSchedule=a,this.router=s,this.anyvariable=m,this.dialogRef=g,this.user=localStorage.getItem("userName")||"",this.updateUrl="/main-nav/workSchedule/errors",this.readUrl="/main-nav/workSchedule/read"}ngOnInit(){this.form=this.fb.group({HRTYPE:{value:this.anyvariable.HRTYPE,disabled:!0},HRBLDG:{value:this.anyvariable.HRBLDG,disabled:!0},HRACCT:{value:this.anyvariable.HRACCT,disabled:!0},HRDOW:{value:this.anyvariable.HRDOW,disabled:!0},INOU:{value:this.anyvariable.HRSBTP,disabled:!0},STRT:this.anyvariable.HRSTRT,ENDT:this.anyvariable.HRENDT})}updateWorkSchedule(){var e=this.form.value;const a=this.anyvariable.HRSTRT?.replace(":","");this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.updateWorkSchedule(this.user,this.anyvariable.HRTYPE,h.R.fullBuilding(this.anyvariable.HRBLDG),this.anyvariable.HRACCT,this.anyvariable.HRDOW,this.anyvariable.HRSBTP,a,e.STRT?.replace(":",""),e.ENDT?.replace(":","")).subscribe(s=>{const g=JSON.parse(s[0].data[s[0].data.length-1].value).returnedData,C=g.message;C.toUpperCase()===h.R.updateMsg.toUpperCase()?this.successMessage(C).then(()=>{"APPT"===this.anyvariable.HRTYPE?this.failureMessage(g.message1).then(()=>{this.closeDialog(),this.router.navigate([this.updateUrl])}):(this.closeDialog(),this.router.navigate([this.readUrl]).then(()=>{this.successMessage(C)}))}):this.failureMessage(C)})}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}successMessage(e){return r().fire(e,"","success")}failureMessage(e){return r().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(i.qu),t.Y36(Z.U),t.Y36(D.F0),t.Y36(W.WI),t.Y36(W.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-work-schedule-update"]],standalone:!0,features:[t.jDz],decls:42,vars:2,consts:[[1,"over-Flow"],[1,"main-header-title"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","primary"],[1,"tally-serach-form"],[3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","HRTYPE"],["matInput","","formControlName","HRBLDG"],["matInput","","formControlName","HRACCT"],["matInput","","formControlName","HRDOW"],["matInput","","formControlName","INOU"],["type","time","matInput","","formControlName","STRT"],["type","time","matInput","","formControlName","ENDT"],["mat-button","","mat-raised-button","",1,"buttons","addButton",3,"disabled","click"]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Hour Rules"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return a.closeDialog()}),t.TgZ(6,"mat-icon",3),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"Type Of Hours"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"Building Number"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22,"Account Code"),t.qZA(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Day Of The Week"),t.qZA(),t._UZ(27,"input",12),t.qZA(),t.TgZ(28,"mat-form-field",8)(29,"mat-label"),t._uU(30,"In/Out"),t.qZA(),t._UZ(31,"input",13),t.qZA(),t.TgZ(32,"mat-form-field",8)(33,"mat-label"),t._uU(34,"Start Time"),t.qZA(),t._UZ(35,"input",14),t.qZA(),t.TgZ(36,"mat-form-field",8)(37,"mat-label"),t._uU(38," End Time "),t.qZA(),t._UZ(39,"input",15),t.qZA()()(),t.TgZ(40,"button",16),t.NdJ("click",function(){return a.updateWorkSchedule()}),t._uU(41," Update "),t.qZA()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",a.form),t.xp6(31),t.Q6J("disabled",!(a.form.valid&&a.form.dirty)))},dependencies:[S.m,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,_.Hw,v.lW,c.KE,c.hX,f.Nt,T.a8,T.dk,T.dn,T.n5]}),o})();var x=n(36895),Y=n(10266);function P(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.searchWorkSchedule())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA()()}}function q(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.searchWorkSchedule())}),t.TgZ(1,"mat-icon"),t._uU(2,"search"),t.qZA()()}}function M(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"form",27),t.NdJ("ngSubmit",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.getBySearch(s.form.value))}),t.TgZ(1,"div",28)(2,"div",29),t._UZ(3,"custom-input-autocomplete",30),t.TgZ(4,"mat-form-field",31)(5,"mat-label"),t._uU(6,"Building"),t.qZA(),t._UZ(7,"input",32),t.qZA(),t.TgZ(8,"mat-form-field",31)(9,"mat-label"),t._uU(10,"Account Code"),t.qZA(),t._UZ(11,"input",33),t.qZA()()(),t.TgZ(12,"button",34),t._uU(13," Search "),t.qZA()()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("options",e.types)}}function J(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Type "),t.qZA())}function F(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRTYPE," ")}}function L(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Building "),t.qZA())}function G(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRBLDG)}}function Q(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Account "),t.qZA())}function z(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRACCT," ")}}function K(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Day of the Week "),t.qZA())}function j(o,u){if(1&o&&(t.TgZ(0,"td",36)(1,"div",37)(2,"span",38),t._uU(3),t.qZA(),t.TgZ(4,"span",39),t._uU(5),t.qZA()()()),2&o){const e=u.$implicit;t.xp6(3),t.Oqu(e.HRDOW),t.xp6(2),t.Oqu(e.WDAY)}}function X(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1," Sub Type "),t.qZA())}function $(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.hij(" ",e.HRSBTP," ")}}function V(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1,"Start Time"),t.qZA())}function tt(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRSTRT)}}function et(o,u){1&o&&(t.TgZ(0,"th",35),t._uU(1,"End Time"),t.qZA())}function ot(o,u){if(1&o&&(t.TgZ(0,"td",36),t._uU(1),t.qZA()),2&o){const e=u.$implicit;t.xp6(1),t.Oqu(e.HRENDT)}}function at(o,u){1&o&&t._UZ(0,"th",40)}function nt(o,u){if(1&o){const e=t.EpF();t.TgZ(0,"td",36)(1,"div",41)(2,"button",42)(3,"mat-icon"),t._uU(4,"more_vert"),t.qZA()(),t.TgZ(5,"ul",43)(6,"li")(7,"button",44),t.NdJ("click",function(){const m=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.updateWorkSchedule(m))}),t.TgZ(8,"mat-icon",45),t._uU(9,"edit"),t.qZA(),t.TgZ(10,"mat-label"),t._uU(11,"Update"),t.qZA()()(),t.TgZ(12,"li")(13,"button",46),t.NdJ("click",function(){const m=t.CHM(e).$implicit,g=t.oxw();return t.KtG(g.deleteWorkSchedule(m))}),t.TgZ(14,"mat-icon",47),t._uU(15,"delete"),t.qZA(),t.TgZ(16,"mat-label"),t._uU(17,"Delete"),t.qZA()()()()()()}}function it(o,u){1&o&&t._UZ(0,"tr",48)}function rt(o,u){1&o&&t._UZ(0,"tr",49)}const lt=function(){return[8,16,24]};let st=(()=>{class o{constructor(e,a,s,m,g){this.WorkSchedule=e,this.fb=a,this.router=s,this.route=m,this.matDialog=g,this.displayedColumns=["type","Build","Account","DayOfTheWeek","Type","StartTime","EndTime","Actions"],this.searchTextDisplay=!1,this.dataSource=new l.by,this.user=localStorage.getItem("userName")||"",this.pageSize=8,this.totalRecords=0,this.pageNumber=1,this.currentFilters=null,this.types=["APPT","SHF1","SHF2","SHF3"]}ngOnInit(){this.form=this.fb.group({TYPE:"",BLDG:"",ACCT:""}),this.getWorkSchedule(this.pageSize,this.pageNumber),this.dataSource.filterPredicate=this.createFilter()}getWorkSchedule(e,a){const s=this.currentFilters||{},{TYPE:m="",BLDG:g="",ACCT:C=""}=s;this.workSubscription&&this.workSubscription.unsubscribe(),this.workSubscription=this.WorkSchedule.getWorkSchedule(this.user,m,h.R.fullBuilding(g),C,e,a).subscribe(b=>{var y=JSON.parse(b[0].data[1]?.value);this.dataSource.data=y.returnedData,this.totalRecords=y.TotalRecords})}onPaginateChange(e){this.pageSize=e.pageSize,this.getWorkSchedule(e.pageSize,e.pageIndex+1)}getBySearch(e){this.currentFilters=e,this.paginator.firstPage(),this.getWorkSchedule(this.pageSize,this.pageNumber)}resetSearch(){this.form.reset();const e=this.pageSize,a=this.pageNumber;this.currentFilters=null,this.paginator.firstPage(),this.getWorkSchedule(e,a)}ngOnDestroy(){this.workSubscription&&this.workSubscription.unsubscribe()}createFilter(){return(e,a)=>{const s=JSON.parse(a);return Object.keys(s).every(m=>e[m].toString().toLowerCase().includes(s[m].toLowerCase()))}}addWorkSchedule(){this.matDialog.open(O,{width:"1000px",maxHeight:"90vh",autoFocus:!1})}updateWorkSchedule(e){this.matDialog.open(I,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1})}searchWorkSchedule(){this.searchTextDisplay=1!=this.searchTextDisplay}deleteWorkSchedule(e){this.matDialog.open(B,{width:"1000px",maxHeight:"90vh",data:e,autoFocus:!1})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(Z.U),t.Y36(i.qu),t.Y36(D.F0),t.Y36(D.gz),t.Y36(W.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-ww-work-schedule"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let s;t.iGM(s=t.CRH())&&(a.paginator=s.first)}},standalone:!0,features:[t.jDz],decls:44,vars:10,consts:[[1,"over-Flow"],[1,"title"],[1,"buttons"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Workflow process",3,"click",4,"ngIf"],["mat-button","","matTooltip","Add New Work Schedule",1,"addButton",3,"click"],["mat-button","","type","reset","value","Reset","matTooltip","Reset values",1,"addButton","buttons",3,"click"],[1,"tally-serach-form"],[3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Build"],["matColumnDef","Account"],["matColumnDef","DayOfTheWeek"],["matColumnDef","Type"],["matColumnDef","StartTime"],["matColumnDef","EndTime"],["matColumnDef","Actions"],["mat-header-cell","","class","tally_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Workflow process",1,"addButton",3,"click"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline","formControlName","TYPE","label","Type Of Hours",3,"options"],["appearance","outline",1,"full-width"],["matInput","","formControlName","BLDG","maxlength","3"],["matInput","","formControlName","ACCT","maxlength","10","appUppercase",""],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","tally-search-btn"],["mat-header-cell",""],["mat-cell",""],[1,"day-cell"],[1,"day-number"],[1,"day-text"],["mat-header-cell","",1,"tally_actions_sec"],[1,"dropdown","more_options_btn"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["mat-icon-button","",1,"dropdown-item",3,"click"],["mat-icon-button","","color","primary"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn"],["mat-header-row",""],["mat-row",""]],template:function(e,a){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),t._uU(3," Work With Work Schedule "),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,P,3,0,"button",3),t.YNc(6,q,3,0,"button",4),t.TgZ(7,"button",5),t.NdJ("click",function(){return a.addWorkSchedule()}),t.TgZ(8,"mat-icon"),t._uU(9,"add"),t.qZA()(),t.TgZ(10,"button",6),t.NdJ("click",function(){return a.resetSearch()}),t.TgZ(11,"mat-icon"),t._uU(12,"loop"),t.qZA()()()(),t.TgZ(13,"mat-card-content",7),t.YNc(14,M,14,2,"form",8),t.qZA(),t.TgZ(15,"table",9),t.ynx(16,10),t.YNc(17,J,2,0,"th",11),t.YNc(18,F,2,1,"td",12),t.BQk(),t.ynx(19,13),t.YNc(20,L,2,0,"th",11),t.YNc(21,G,2,1,"td",12),t.BQk(),t.ynx(22,14),t.YNc(23,Q,2,0,"th",11),t.YNc(24,z,2,1,"td",12),t.BQk(),t.ynx(25,15),t.YNc(26,K,2,0,"th",11),t.YNc(27,j,6,2,"td",12),t.BQk(),t.ynx(28,16),t.YNc(29,X,2,0,"th",11),t.YNc(30,$,2,1,"td",12),t.BQk(),t.ynx(31,17),t.YNc(32,V,2,0,"th",11),t.YNc(33,tt,2,1,"td",12),t.BQk(),t.ynx(34,18),t.YNc(35,et,2,0,"th",11),t.YNc(36,ot,2,1,"td",12),t.BQk(),t.ynx(37,19),t.YNc(38,at,1,0,"th",20),t.YNc(39,nt,18,0,"td",12),t.BQk(),t.YNc(40,it,1,0,"tr",21),t.YNc(41,rt,1,0,"tr",22),t.qZA(),t.TgZ(42,"mat-paginator",23,24),t.NdJ("page",function(m){return a.onPaginateChange(m)}),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!a.searchTextDisplay),t.xp6(8),t.Q6J("ngIf",a.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",a.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.totalRecords)("pageSizeOptions",t.DdM(9,lt))("pageSize",a.pageSize))},dependencies:[S.m,x.O5,i._Y,i.Fj,i.JJ,i.JL,i.nD,i.sg,i.u,p.NW,_.Hw,v.lW,c.KE,c.hX,f.Nt,T.a8,T.dk,T.dn,T.n5,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,Y.gM,w.e,d.j,H.L],styles:[".day-cell[_ngcontent-%COMP%]{display:flex;align-items:center;white-space:nowrap;font-family:inherit;font-size:inherit}.day-number[_ngcontent-%COMP%]{display:inline-block;width:25px;text-align:right;padding-right:4px}.day-text[_ngcontent-%COMP%]{display:inline-block;text-align:left}"]}),o})()}}]);