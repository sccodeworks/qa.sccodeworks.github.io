"use strict";(self.webpackChunksc_codeworks_app=self.webpackChunksc_codeworks_app||[]).push([[71569,34894,11790,26628,38754,85645,70096,49741],{34894:(J,C,o)=>{o.d(C,{e:()=>d});var h=o(94650),l=o(24006);let d=(()=>{class T{constructor(S,c){this.el=S,this.control=c}onInputChange(S){const c=this.el.nativeElement,g=c.value.toUpperCase();c.value=g,this.control&&this.control.control&&this.control.control.setValue(g,{emitEvent:!1})}}return T.\u0275fac=function(S){return new(S||T)(h.Y36(h.SBq),h.Y36(l.a5))},T.\u0275dir=h.lG2({type:T,selectors:[["","appUppercase",""]],hostBindings:function(S,c){1&S&&h.NdJ("input",function(t){return c.onInputChange(t)})},standalone:!0}),T})()},11790:(J,C,o)=>{o.d(C,{y:()=>S});var h=o(65412),l=o(94650),d=o(97392),T=o(4859);let y=(()=>{class c{constructor(t,p){this.dialogRef=t,this.data=p}ngOnInit(){}closeDialog(){this.dialogRef.close(!1)}}return c.\u0275fac=function(t){return new(t||c)(l.Y36(h.so),l.Y36(h.WI))},c.\u0275cmp=l.Xpm({type:c,selectors:[["app-alert-dialog"]],decls:16,vars:3,consts:[[1,"confirm-dialog-container"],[1,"content-container"],["aria-label","Close dialog",1,"close-btn",3,"click"],[1,"icon-wrapper"],["src","assets/svg/icons/Delete.svg","alt","Delete",1,"delete-svg-icon"],[1,"confirm-dialog-title"],[1,"confirmation-message"],[1,"footer","confirm-dialog"],["mat-raised-button","","id","no-button",1,"buttons","cancel-btn",3,"mat-dialog-close"],["mat-raised-button","","id","yes-button",1,"buttons","removeButton","new-tally-form-btn",3,"mat-dialog-close"]],template:function(t,p){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return p.closeDialog()}),l.TgZ(3,"mat-icon"),l._uU(4,"close"),l.qZA()(),l.TgZ(5,"div",3),l._UZ(6,"img",4),l.qZA(),l.TgZ(7,"h2",5),l._uU(8,"Confirmation"),l.qZA(),l.TgZ(9,"span",6),l._uU(10),l.qZA()(),l.TgZ(11,"div",7)(12,"button",8),l._uU(13,"Cancel"),l.qZA(),l.TgZ(14,"button",9),l._uU(15,"Delete"),l.qZA()()()),2&t&&(l.xp6(10),l.Oqu(p.data.message),l.xp6(2),l.Q6J("mat-dialog-close",!1),l.xp6(2),l.Q6J("mat-dialog-close",!0))},dependencies:[d.Hw,T.lW,h.ZT]}),c})(),S=(()=>{class c{constructor(t){this.dialog=t}openCustomAlert(t){return this.dialog.open(y,{width:"450px",panelClass:"confirm-dialog-container",disableClose:!0,data:{message:t}})}}return c.\u0275fac=function(t){return new(t||c)(l.LFG(h.uw))},c.\u0275prov=l.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},71569:(J,C,o)=>{o.r(C),o.d(C,{WwSupplyTypesComponent:()=>Zt});var h=o(15861),l=o(98739),d=o(7155),T=o(16714),y=o(65412),S=o(35226),c=o.n(S),g=o(70879),t=o(94650),p=o(24006),v=o(71397),D=o(19132),A=o(97392),U=o(4859),_=o(59549),N=o(44144),f=o(73546);let F=(()=>{class n{constructor(e,s,a,r,u){this.fb=e,this.isupplytypesservice=s,this.router=a,this.anyvariable=r,this.dialogRef=u,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({SGTYPE:{value:this.anyvariable.SGTYPE,disabled:!0},SGDESC:this.anyvariable.SGDESC,SGRTRN:this.anyvariable.SGRTRN,SGTRCK:this.anyvariable.SGTRCK,SGCHGD:{value:this.anyvariable.SGCHGD,disabled:!0},SGSTAT:{value:this.anyvariable.SGSTAT,disabled:!0}})}ngOnDestroy(){this.SupplyTypesSubscription&&this.SupplyTypesSubscription.unsubscribe()}updateSupplyTypes(){const e=this.form.getRawValue();this.SupplyTypesSubscription&&this.SupplyTypesSubscription.unsubscribe(),this.SupplyTypesSubscription=this.isupplytypesservice.updateSupplyTypes(e.SGTYPE,e.SGDESC,e.SGRTRN,e.SGTRCK,e.SGCHCD,e.SGSTAT,this.user).subscribe(s=>{this.result=s;const r=JSON.parse(s[0].data[s[0].data.length-1].value).returnedData.message;if("Record Updated Successfully"===r)this.successMessage(r),this.closeDialog(),this.router.navigate(["/main-nav/supply-types/read"]);else{const u=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(u)}})}successMessage(e){c().fire(e,"","success")}failureMessage(e){c().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.qu),t.Y36(v.S),t.Y36(D.F0),t.Y36(y.WI),t.Y36(y.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ww-supply-types-change"]],standalone:!0,features:[t.jDz],decls:39,vars:2,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SGTYPE"],["matInput","","formControlName","SGDESC",2,"text-transform","uppercase"],["matInput","","formControlName","SGRTRN",2,"text-transform","uppercase"],["matInput","","formControlName","SGTRCK",2,"text-transform","uppercase"],["matInput","","formControlName","SGSTAT"],["type","datetime","matInput","","formControlName","SGCHGD"],[1,"footer"],["type","submit","mat-raised-button","",1,"buttons","addButton","new-tally-form-btn",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Maintain Supply Types"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14," Supply Type "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Supply Description "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22," Usage "),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26," Serialized Tracking "),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30," Status "),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34," Change Date"),t.qZA(),t._UZ(35,"input",13),t.qZA()()(),t.TgZ(36,"div",14)(37,"button",15),t.NdJ("click",function(){return s.updateSupplyTypes()}),t._uU(38,"Update"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form),t.xp6(28),t.Q6J("disabled",!s.form.valid))},dependencies:[g.m,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,A.Hw,U.lW,_.KE,_.hX,N.Nt,f.a8,f.dk,f.dn,f.n5]}),n})();var Q=o(11790);let E=(()=>{class n{constructor(e,s,a,r,u,m){this.isupplytypesservice=e,this.fb=s,this.anyvariable=a,this.router=r,this.CustomAlertService=u,this.dialogRef=m,this.user=localStorage.getItem("userName")}ngOnInit(){this.form=this.fb.group({SGTYPE:this.anyvariable.SGTYPE,SGDESC:this.anyvariable.SGDESC,SGRTRN:this.anyvariable.SGRTRN,SGTRCK:this.anyvariable.SGTRCK,SGCHGD:this.anyvariable.SGCHGD,SGSTAT:this.anyvariable.SGSTAT}),this.form.disable()}ngOnDestroy(){this.SupplyTypesSubscription&&this.SupplyTypesSubscription.unsubscribe()}deleteSupplytype(){this.CustomAlertService.openCustomAlert("Are you sure you want to delete this Supply Type:"+this.anyvariable.SGTYPE+"?").afterClosed().subscribe(s=>{s&&(this.SupplyTypesSubscription&&this.SupplyTypesSubscription.unsubscribe(),this.SupplyTypesSubscription=this.isupplytypesservice.deleteSupplyTypes(this.anyvariable.SGTYPE).subscribe(a=>{if(this.result=a,"UPDATED SUCCESSFULLY"===a[0].data[a[0].data.length-1].value)this.successMessage("Record deleted Successfully"),this.closeDialog(),this.router.navigate(["/main-nav/supply-types/read"]);else{const m=JSON.parse(this.result[0].data[1].value).returnedData.message;this.failureMessage(m)}}))})}successMessage(e){c().fire(e,"","success"),this.router.navigate(["/main-nav/supply-types/read"])}failureMessage(e){c().fire(e,"","error")}closeDialog(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.S),t.Y36(p.qu),t.Y36(y.WI),t.Y36(D.F0),t.Y36(Q.y),t.Y36(y.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ww-supply-types-delete"]],standalone:!0,features:[t.jDz],decls:39,vars:1,consts:[[1,"over-Flow-panel"],[1,"main-header-title"],["mat-icon-button","",1,"close-btn",3,"click"],[1,"tally-serach-form"],[1,"form","over-Flow",3,"formGroup"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","SGTYPE",2,"text-transform","uppercase"],["matInput","","formControlName","SGDESC",2,"text-transform","uppercase"],["matInput","","formControlName","SGRTRN"],["matInput","","formControlName","SGTRCK",2,"text-transform","uppercase"],["matInput","","formControlName","SGSTAT",2,"text-transform","uppercase"],["matInput","","formControlName","SGCHGD"],[1,"footer"],["mat-raised-button","",1,"buttons","removeButton","new-tally-form-btn",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),t._uU(4,"Delete Supply Types"),t.qZA()(),t.TgZ(5,"button",2),t.NdJ("click",function(){return s.closeDialog()}),t.TgZ(6,"mat-icon"),t._uU(7,"close"),t.qZA()()(),t.TgZ(8,"mat-card-content",3)(9,"form",4)(10,"div",5)(11,"div",6)(12,"mat-form-field",7)(13,"mat-label"),t._uU(14," Supply Type "),t.qZA(),t._UZ(15,"input",8),t.qZA(),t.TgZ(16,"mat-form-field",7)(17,"mat-label"),t._uU(18," Supply Description "),t.qZA(),t._UZ(19,"input",9),t.qZA(),t.TgZ(20,"mat-form-field",7)(21,"mat-label"),t._uU(22," Usage "),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",7)(25,"mat-label"),t._uU(26," Serialized Tracking "),t.qZA(),t._UZ(27,"input",11),t.qZA(),t.TgZ(28,"mat-form-field",7)(29,"mat-label"),t._uU(30," Status "),t.qZA(),t._UZ(31,"input",12),t.qZA(),t.TgZ(32,"mat-form-field",7)(33,"mat-label"),t._uU(34," Change Date"),t.qZA(),t._UZ(35,"input",13),t.qZA()()(),t.TgZ(36,"div",14)(37,"button",15),t.NdJ("click",function(){return s.deleteSupplytype()}),t._uU(38,"Delete"),t.qZA()()()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",s.form))},dependencies:[g.m,p._Y,p.Fj,p.JJ,p.JL,p.sg,p.u,A.Hw,U.lW,_.KE,_.hX,N.Nt,f.a8,f.dk,f.dn,f.n5]}),n})();var M=o(77579),O=o(78372),H=o(71884),B=o(80529),G=o(36895),z=o(10266),P=o(34894);function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.searchSupplyTypes())}),t.TgZ(1,"mat-icon"),t._uU(2,"clear"),t.qZA(),t.TgZ(3,"span"),t._uU(4," Filter"),t.qZA()()}}function K(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.searchSupplyTypes())}),t._UZ(1,"img",30),t.TgZ(2,"span"),t._uU(3," Filter"),t.qZA()()}}function $(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"form",31),t.NdJ("ngSubmit",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.getSupplyBySearch(a.form.value))}),t.TgZ(1,"div",32)(2,"div",33)(3,"mat-form-field",34)(4,"mat-label"),t._uU(5,"Supply Type "),t.qZA(),t._UZ(6,"input",35),t.qZA()()(),t.TgZ(7,"div",36)(8,"button",37),t._uU(9," Search "),t.qZA()()()}if(2&n){const e=t.oxw();t.Q6J("formGroup",e.form)}}function j(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Supply Type "),t.qZA())}function X(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SGTYPE," ")}}function V(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Supply Description "),t.qZA())}function tt(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.SGDESC)}}function et(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Usage "),t.qZA())}function nt(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SGRTRN," ")}}function st(n,i){1&n&&(t.TgZ(0,"th",38),t._uU(1," Serial Tracking "),t.qZA())}function at(n,i){if(1&n&&(t.TgZ(0,"td",39),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.SGTRCK," ")}}function it(n,i){1&n&&(t.TgZ(0,"th",40),t._uU(1," Status "),t.qZA())}function ot(n,i){if(1&n&&(t.TgZ(0,"td",41)(1,"span",42),t._uU(2),t.qZA()()),2&n){const e=i.$implicit,s=t.oxw();t.xp6(1),t.Q6J("ngClass",s.getStatusClass(e.SGSTAT)),t.xp6(1),t.Oqu(e.SGSTAT)}}function lt(n,i){1&n&&(t.TgZ(0,"th",43),t._uU(1,"Actions"),t.qZA())}function rt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw().$implicit,m=t.oxw();return t.KtG(m.executeAction(r,u))}),t._UZ(1,"img",60),t.TgZ(2,"span",61),t._uU(3),t.qZA()()}if(2&n){const e=i.$implicit;t.Q6J("color",e.color),t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH),t.xp6(2),t.Oqu(e.label)}}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",69)(1,"button",70),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw(2).$implicit,m=t.oxw();return t.KtG(m.handleRecentClick(r,u))}),t._uU(2),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.hij(" ",e.label," ")}}function ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",62)(1,"div",63)(2,"span",64),t._uU(3,"Recent Searches"),t.qZA(),t.TgZ(4,"button",65),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.clearRecentSearches())}),t.TgZ(5,"span",66),t._uU(6,"Clear"),t.qZA()()(),t.TgZ(7,"ul",67),t.YNc(8,pt,3,1,"li",68),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(8),t.Q6J("ngForOf",e.filteredRecentSearches)}}function ut(n,i){1&n&&(t.TgZ(0,"li",71)(1,"div",72)(2,"mat-icon",73),t._uU(3,"search"),t.qZA(),t.TgZ(4,"span",74),t._uU(5,"No results found"),t.qZA(),t.TgZ(6,"span",75),t._uU(7,"We couldn\u2019t find any items matching your search. Try adjusting your keywords."),t.qZA()()())}function mt(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",78),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function dt(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",76)(1,"button",70),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw().$implicit,m=t.oxw();return t.KtG(m.handleItemClick(r,u))}),t.YNc(2,mt,2,2,"ng-container",77),t.YNc(3,dt,3,1,"ng-container",77),t._uU(4),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(1),t.hij(" ",e.label," ")}}function gt(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"img",82),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.s9C("alt",e.label),t.Q6J("src",e.icon,t.LSH)}}function ft(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-icon",83),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.icon)}}function yt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",79)(1,"button",70),t.NdJ("click",function(){const r=t.CHM(e).$implicit,u=t.oxw().$implicit,m=t.oxw();return t.KtG(m.handleItemClick(r,u))}),t.TgZ(2,"div",80),t.YNc(3,gt,2,2,"ng-container",77),t.YNc(4,ft,3,1,"ng-container",77),t.TgZ(5,"span",81),t._uU(6),t.qZA()()()()}if(2&n){const e=i.$implicit,s=t.oxw(2);t.Q6J("hidden",s.filteredItems.includes(e)),t.xp6(3),t.Q6J("ngIf",null==e.icon?null:e.icon.includes("assets")),t.xp6(1),t.Q6J("ngIf",!(null!=e.icon&&e.icon.includes("assets"))),t.xp6(2),t.Oqu(e.label)}}function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",39)(1,"div",44)(2,"button",45),t._UZ(3,"img",46),t.qZA(),t.TgZ(4,"ul",47)(5,"li",48),t.YNc(6,rt,4,4,"button",49),t.qZA(),t.TgZ(7,"li",50)(8,"mat-form-field",51)(9,"input",52),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.searchDropdownText=a)})("input",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSearchChange())}),t.qZA()()(),t.YNc(10,ct,9,1,"li",53),t.TgZ(11,"div",54),t._UZ(12,"hr",55),t.qZA(),t.YNc(13,ut,8,0,"li",56),t.YNc(14,ht,5,3,"li",57),t.YNc(15,yt,7,4,"li",58),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.headerActions),t.xp6(3),t.Q6J("ngModel",e.searchDropdownText),t.xp6(1),t.Q6J("ngIf",e.filteredRecentSearches.length>0),t.xp6(3),t.Q6J("ngIf",0===e.filteredItems.length),t.xp6(1),t.Q6J("ngForOf",e.filteredItems),t.xp6(1),t.Q6J("ngForOf",e.menuItems)}}function Tt(n,i){1&n&&t._UZ(0,"tr",84)}function _t(n,i){1&n&&t._UZ(0,"tr",85)}function Ct(n,i){1&n&&(t.TgZ(0,"div",86),t._UZ(1,"img",87),t.TgZ(2,"h3",88),t._uU(3,"No Data Available"),t.qZA(),t.TgZ(4,"p",89),t._uU(5," There\u2019s no data to display right now. Try adjusting your filters or check back later. "),t.qZA()())}const bt=function(){return[8,16,24]};let Zt=(()=>{class n{constructor(e,s,a,r,u,m){this.isupplytypesService=e,this.fb=s,this.router=a,this.route=r,this.matDialog=u,this.http=m,this.displayedColumns=["SupplyType","SupplyDescription","Usage","SerialTracking","Status","Actions"],this.user=localStorage.getItem("userName"),this.searchTextDisplay=!1,this.dataSource=new d.by,this.duplicateSource=[],this.pageSize=8,this.totalRecords=0,this.currentFilters=null,this.pageNumber=1,this.editedRows=[],this.searchInput$=new M.x,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.pageData=[],this.isLoading=!0,this.noData=!1,this.headerActions=[],this.menuItems=[],this.filteredItems=[],this.remainingItems=[],this.searchDropdownText="",this.recentSearches=[],this.filteredRecentSearches=[],this.pagenumber=1}ngOnInit(){this.form=this.fb.group({supplyType:"",supplyDescription:"",usage:"",serialtracking:"",SGCHCD:"",status:""});const e=this.pageSize;this.editedRows=[],this.getSupplyTypes(e,this.pageNumber),this.dataSource.filterPredicate=this.createFilter(),this.searchInput$.pipe((0,O.b)(500),(0,H.x)()).subscribe(a=>{this.handleSearch(a)}),this.http.get("assets/jsondata/supplyTypes.json").subscribe(a=>{this.headerActions=a.header,this.menuItems=a.items,this.filteredItems=[...this.menuItems],this.remainingItems=[...this.menuItems],this.searchConfig=a.search;const r=localStorage.getItem("recentSearches");if(r){const u=JSON.parse(r);this.recentSearches=this.menuItems.filter(m=>u.includes(m.label))}this.filteredRecentSearches=[...this.recentSearches]})}searchSupplyTypes(){this.searchTextDisplay=1!=this.searchTextDisplay}createFilter(){return(e,s)=>{const a=JSON.parse(s);return Object.keys(a).every(r=>e[r].toString().toLowerCase().includes(a[r].toLowerCase()))}}applyGlobalFilterInput(e){this.searchInput$.next(e)}handleSearch(e){if(!(e=e.trim().toLowerCase()))return this.isSearchMode=!1,this.allData=[],this.filteredData=[],void this.getSupplyTypes(this.pageSize,1);this.isSearchMode=!0,this.loadSearchChunks(e,()=>{if(0===this.filteredData.length)return this.noData=!0,void(this.dataSource.data=[]);this.noData=!1,this.loadPage(1)})}applyManualFilter(e){this.filteredData=this.allData.filter(s=>Object.values(s).some(a=>String(a).toLowerCase().includes(e))),this.noData=0===this.filteredData.length,this.totalRecords=this.filteredData.length,this.noData?this.dataSource.data=[]:this.loadPage(1)}loadPage(e){const s=(e-1)*this.pageSize;this.pageData=this.filteredData.slice(s,s+this.pageSize),this.dataSource.data=this.pageData,this.paginator&&(this.paginator.pageIndex=e-1,this.paginator.length=this.totalRecords,this.paginator.pageSize=this.pageSize)}getSearchStrategy(e){return e<=1500?{chunkSize:300,maxCalls:4}:e<=1e4?{chunkSize:2e3,maxCalls:5}:{chunkSize:5e3,maxCalls:5}}loadSearchChunks(e,s){var a=this;return(0,h.Z)(function*(){const r=a.currentFilters||{},{supplyType:u="",supplyDescription:m="",usage:b="",serialtracking:I="",SGCHCD:R="",status:W=""}=r,{chunkSize:Z,maxCalls:x}=a.getSearchStrategy(a.totalRecords||0);let Y=1,q=0,w=[];for(;q<x;){const wt=(yield a.isupplytypesService.getSupplyTypes(a.user,u,m,b,I,R,W,Z,Y).toPromise())?.[0]?.data?.[1]?.value,k=JSON.parse(wt)?.returnedData||[],vt=k.filter(Dt=>Object.values(Dt).some(xt=>String(xt).toLowerCase().includes(e)));if(w.push(...vt),w.length>0||k.length<Z)break;Y++,q++}a.allData=w,a.filteredData=w,a.totalRecords=w.length,s?.()})()}onPaginateChange(e){this.pageSize=e.pageSize,this.isSearchMode?this.loadPage(e.pageIndex+1):this.getSupplyTypes(e.pageSize,e.pageIndex+1)}getSupplyTypes(e,s){this.isLoading=!0,this.noData=!1,this.dataSource=new d.by([]);const a=this.currentFilters||{},{supplyType:r="",supplyDescription:u="",usage:m="",serialtracking:b="",SGCHCD:I="",status:R=""}=a;this.getAll2Subscription&&this.getAll2Subscription.unsubscribe(),this.getAll2Subscription=this.isupplytypesService.getSupplyTypes(this.user,r,u,m,b,I,R,e,s).subscribe({next:W=>{this.isLoading=!1;var Z=JSON.parse(W[0].data[1]?.value),x=Z.returnedData;this.dataSource.data=x,this.totalRecords=Z.TotalRecords,this.noData=0===x.length,this.paginator&&(this.paginator.length=this.totalRecords)},error:()=>this.handleNoData()})}ngOnDestroy(){this.SupplyTypesSubscription&&this.SupplyTypesSubscription.unsubscribe()}handleNoData(){this.isLoading=!1,this.noData=!0,this.totalRecords=0,this.allData=[],this.filteredData=[],this.pageData=[],this.dataSource=new d.by([])}getStatusClass(e){return e?["C"].includes(e)?"status-gray":["W","SH","CD"].includes(e)?"status-green":["EN","I","N","RL"].includes(e)?"status-yellow":["A","PK","BL"].includes(e)?"status-purple":["PS","CM","MQ"].includes(e)?"status-blue":["EM","EP","SB","SP","EB","R","S","DL"].includes(e)?"status-red":"status-gray":""}handleItemClick(e,s){this.executeAction(e,s),this.addToRecentSearches(e)}executeAction(e,s){"function"==typeof this[e.action]?this[e.action](s):console.warn("Action not implemented:",e.action)}handleRecentClick(e,s){this.searchDropdownText=e.label,this.onSearchChange(),"function"==typeof this[e.action]&&this[e.action](s),this.addToRecentSearches(e)}addToRecentSearches(e){this.recentSearches=this.recentSearches.filter(s=>s.label!==e.label),this.recentSearches.unshift(e),this.recentSearches.length>5&&this.recentSearches.pop(),localStorage.setItem("recentSearches",JSON.stringify(this.recentSearches.map(s=>s.label))),this.filteredRecentSearches=[...this.recentSearches]}clearRecentSearches(){this.recentSearches=[],this.filteredRecentSearches=[],localStorage.removeItem("recentSearches")}onSearchChange(){const e=(this.searchDropdownText||"").toLowerCase();this.filteredItems=this.menuItems.filter(s=>s.label.toLowerCase().includes(e)),this.filteredRecentSearches=e?[]:[...this.recentSearches]}resetSearch(){this.form.reset(),this.currentFilters=null,this.isSearchMode=!1,this.allData=[],this.filteredData=[],this.paginator.firstPage(),this.getSupplyTypes(this.pageSize,1)}getSupplyBySearch(e){const s=this.pageSize,a=this.pageNumber;this.currentFilters=e,this.paginator&&this.paginator.firstPage(),this.getSupplyTypes(s,a)}addSupplyTypes(){this.matDialog.open(T.WwSupplyTypesAddComponent,{panelClass:"right-dialog",autoFocus:!1})}getUpdateForm(e){this.matDialog.open(F,{panelClass:"right-dialog",autoFocus:!1,data:e})}deleteSupplyTypes(e){this.matDialog.open(E,{panelClass:"right-dialog",autoFocus:!1,data:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.S),t.Y36(p.qu),t.Y36(D.F0),t.Y36(D.gz),t.Y36(y.uw),t.Y36(B.eN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-ww-supply-types"]],viewQuery:function(e,s){if(1&e&&t.Gf(l.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(s.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:43,vars:11,consts:[[1,"over-Flow"],[1,"header-buttons"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Search",3,"input"],["mat-button","","class","addButton",3,"click",4,"ngIf"],["mat-button","","class","addButton","matTooltip","Search Supply Types",3,"click",4,"ngIf"],["mat-button","","type","reset","value","Reset","matTooltip","Reset Supply Types",1,"addButton","buttons",3,"click"],["mat-button","","matTooltip","Add New Supply Type",1,"addButton",3,"click"],[1,"tally-serach-form"],["class","form over-Flow",3,"formGroup","ngSubmit",4,"ngIf"],["mat-table","","id","myTable",1,"mat-elevation-z8","tally-table",3,"dataSource"],["matColumnDef","SupplyType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","SupplyDescription"],["matColumnDef","Usage"],["matColumnDef","SerialTracking"],["matColumnDef","Status"],["mat-header-cell","","class","status-cell",4,"matHeaderCellDef"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","Actions"],["mat-header-cell","","class","pending_actions_sec",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",1,"tally-table-pagination",3,"length","pageSizeOptions","pageSize","page"],["paginator",""],["mat-button","",1,"addButton",3,"click"],["mat-button","","matTooltip","Search Supply Types",1,"addButton",3,"click"],["src","assets/svg/header/filter.svg"],[1,"form","over-Flow",3,"formGroup","ngSubmit"],[1,"row"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","formControlName","supplyType","appUppercase",""],[1,"footer"],["mat-raised-button","","type","submit","placeholder","Search",1,"buttons","addButton","new-tally-form-btn"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"status-cell"],["mat-cell","",1,"status-cell"],[1,"status-badge",3,"ngClass"],["mat-header-cell","",1,"pending_actions_sec"],[1,"dropdown","more_options_btn","dropup"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false","data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","data-bs-boundary","viewport","data-bs-popper","auto","data-popper-placement","auto",1,"btn"],["src","assets/svg/dropdownicons/Action.svg","alt","Actions",1,"Actions"],[1,"dropdown-menu","p-3"],[1,"header-dropdown","mb-2","d-flex","justify-content-between"],["mat-raised-button","","class","action-btn",3,"color","click",4,"ngFor","ngForOf"],[1,"search-section"],["appearance","outline",1,"search-input"],["matInput","","placeholder","Type to search",1,"full-width-search",3,"ngModel","ngModelChange","input"],["class","recent-searches",4,"ngIf"],[1,"filtered-divider-container"],[1,"filtered-divider"],["class","no-results",4,"ngIf"],["class","mb-menu-label",4,"ngFor","ngForOf"],["class","menu-items mb-1",3,"hidden",4,"ngFor","ngForOf"],["mat-raised-button","",1,"action-btn",3,"color","click"],[1,"action-icon",3,"src","alt"],[1,"action-label"],[1,"recent-searches"],[1,"d-flex","justify-content-between","align-items-center"],[1,"Recent-search-label"],["mat-icon-button","",3,"click"],[1,"clear"],[1,"list-unstyled"],["class","mb-recent-label",4,"ngFor","ngForOf"],[1,"mb-recent-label"],[1,"w-100","text-start",3,"click"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-icon"],[1,"no-results-header"],[1,"no-results-text"],[1,"mb-menu-label"],[4,"ngIf"],[3,"src","alt"],[1,"menu-items","mb-1",3,"hidden"],[1,"menu-content"],[1,"menu-label"],[1,"menu-icon",3,"src","alt"],[1,"drop-menu-icon"],["mat-header-row",""],["mat-row",""],[1,"no-data-container"],["src","assets/svg/table-icons/file.svg",1,"mat-table-icon"],[1,"no-data-title"],[1,"no-data-message"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"div",1)(3,"mat-form-field",2)(4,"mat-icon",3),t._uU(5,"search"),t.qZA(),t.TgZ(6,"input",4),t.NdJ("input",function(r){return s.applyGlobalFilterInput(r.target.value)}),t.qZA()(),t.YNc(7,L,5,0,"button",5),t.YNc(8,K,4,0,"button",6),t.TgZ(9,"button",7),t.NdJ("click",function(){return s.resetSearch()}),t.TgZ(10,"mat-icon"),t._uU(11,"loop"),t.qZA()(),t.TgZ(12,"button",8),t.NdJ("click",function(){return s.addSupplyTypes()}),t.TgZ(13,"mat-icon"),t._uU(14,"add"),t.qZA(),t.TgZ(15,"span"),t._uU(16,"Create Supply Type"),t.qZA()()()(),t.TgZ(17,"mat-card-content",9),t.YNc(18,$,10,1,"form",10),t.qZA(),t.TgZ(19,"table",11),t.ynx(20,12),t.YNc(21,j,2,0,"th",13),t.YNc(22,X,2,1,"td",14),t.BQk(),t.ynx(23,15),t.YNc(24,V,2,0,"th",13),t.YNc(25,tt,2,1,"td",14),t.BQk(),t.ynx(26,16),t.YNc(27,et,2,0,"th",13),t.YNc(28,nt,2,1,"td",14),t.BQk(),t.ynx(29,17),t.YNc(30,st,2,0,"th",13),t.YNc(31,at,2,1,"td",14),t.BQk(),t.ynx(32,18),t.YNc(33,it,2,0,"th",19),t.YNc(34,ot,3,2,"td",20),t.BQk(),t.ynx(35,21),t.YNc(36,lt,2,0,"th",22),t.YNc(37,St,16,6,"td",14),t.BQk(),t.YNc(38,Tt,1,0,"tr",23),t.YNc(39,_t,1,0,"tr",24),t.qZA(),t.YNc(40,Ct,6,0,"div",25),t.TgZ(41,"mat-paginator",26,27),t.NdJ("page",function(r){return s.onPaginateChange(r)}),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",s.searchTextDisplay),t.xp6(1),t.Q6J("ngIf",!s.searchTextDisplay),t.xp6(10),t.Q6J("ngIf",s.searchTextDisplay),t.xp6(1),t.Q6J("dataSource",s.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("ngIf",!s.isLoading&&s.noData),t.xp6(1),t.Q6J("length",s.totalRecords)("pageSizeOptions",t.DdM(10,bt))("pageSize",s.pageSize))},dependencies:[g.m,G.mk,G.sg,G.O5,p._Y,p.Fj,p.JJ,p.JL,p.On,p.sg,p.u,l.NW,A.Hw,U.lW,_.KE,_.hX,_.qo,N.Nt,f.a8,f.dk,f.dn,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,z.gM,P.e]}),n})()}}]);